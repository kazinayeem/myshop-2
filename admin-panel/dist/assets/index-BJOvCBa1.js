var _7=Object.defineProperty;var B7=(e,t,n)=>t in e?_7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>B7(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var Lw={exports:{}},Eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP;function j7(){if(nP)return Eg;nP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Eg.Fragment=t,Eg.jsx=n,Eg.jsxs=n,Eg}var iP;function G7(){return iP||(iP=1,Lw.exports=j7()),Lw.exports}var I=G7(),Mw={exports:{}},rn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function V7(){if(rP)return rn;rP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function x(U,de,j){this.props=U,this.context=de,this.refs=w,this.updater=j||m}x.prototype.isReactComponent={},x.prototype.setState=function(U,de){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,de,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=x.prototype;function A(U,de,j){this.props=U,this.context=de,this.refs=w,this.updater=j||m}var E=A.prototype=new C;E.constructor=A,y(E,x.prototype),E.isPureReactComponent=!0;var F=Array.isArray,N={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function B(U,de,j,X,Z,re){return j=re.ref,{$$typeof:e,type:U,key:de,ref:j!==void 0?j:null,props:re}}function k(U,de){return B(U.type,de,void 0,void 0,void 0,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function K(U){var de={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(j){return de[j]})}var T=/\/+/g;function O(U,de){return typeof U=="object"&&U!==null&&U.key!=null?K(""+U.key):de.toString(36)}function H(){}function q(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(H,H):(U.status="pending",U.then(function(de){U.status==="pending"&&(U.status="fulfilled",U.value=de)},function(de){U.status==="pending"&&(U.status="rejected",U.reason=de)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,de,j,X,Z){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var ce=!1;if(U===null)ce=!0;else switch(re){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(U.$$typeof){case e:case t:ce=!0;break;case h:return ce=U._init,ee(ce(U._payload),de,j,X,Z)}}if(ce)return Z=Z(U),ce=X===""?"."+O(U,0):X,F(Z)?(j="",ce!=null&&(j=ce.replace(T,"$&/")+"/"),ee(Z,de,j,"",function(Se){return Se})):Z!=null&&(V(Z)&&(Z=k(Z,j+(Z.key==null||U&&U.key===Z.key?"":(""+Z.key).replace(T,"$&/")+"/")+ce)),de.push(Z)),1;ce=0;var ye=X===""?".":X+":";if(F(U))for(var me=0;me<U.length;me++)X=U[me],re=ye+O(X,me),ce+=ee(X,de,j,re,Z);else if(me=g(U),typeof me=="function")for(U=me.call(U),me=0;!(X=U.next()).done;)X=X.value,re=ye+O(X,me++),ce+=ee(X,de,j,re,Z);else if(re==="object"){if(typeof U.then=="function")return ee(q(U),de,j,X,Z);throw de=String(U),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return ce}function $(U,de,j){if(U==null)return U;var X=[],Z=0;return ee(U,X,"","",function(re){return de.call(j,re,Z++)}),X}function W(U){if(U._status===-1){var de=U._result;de=de(),de.then(function(j){(U._status===0||U._status===-1)&&(U._status=1,U._result=j)},function(j){(U._status===0||U._status===-1)&&(U._status=2,U._result=j)}),U._status===-1&&(U._status=0,U._result=de)}if(U._status===1)return U._result.default;throw U._result}var Q=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ue(){}return rn.Children={map:$,forEach:function(U,de,j){$(U,function(){de.apply(this,arguments)},j)},count:function(U){var de=0;return $(U,function(){de++}),de},toArray:function(U){return $(U,function(de){return de})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},rn.Component=x,rn.Fragment=n,rn.Profiler=r,rn.PureComponent=A,rn.StrictMode=i,rn.Suspense=u,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,rn.act=function(){throw Error("act(...) is not supported in production builds of React.")},rn.cache=function(U){return function(){return U.apply(null,arguments)}},rn.cloneElement=function(U,de,j){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var X=y({},U.props),Z=U.key,re=void 0;if(de!=null)for(ce in de.ref!==void 0&&(re=void 0),de.key!==void 0&&(Z=""+de.key),de)!z.call(de,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&de.ref===void 0||(X[ce]=de[ce]);var ce=arguments.length-2;if(ce===1)X.children=j;else if(1<ce){for(var ye=Array(ce),me=0;me<ce;me++)ye[me]=arguments[me+2];X.children=ye}return B(U.type,Z,void 0,void 0,re,X)},rn.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},rn.createElement=function(U,de,j){var X,Z={},re=null;if(de!=null)for(X in de.key!==void 0&&(re=""+de.key),de)z.call(de,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Z[X]=de[X]);var ce=arguments.length-2;if(ce===1)Z.children=j;else if(1<ce){for(var ye=Array(ce),me=0;me<ce;me++)ye[me]=arguments[me+2];Z.children=ye}if(U&&U.defaultProps)for(X in ce=U.defaultProps,ce)Z[X]===void 0&&(Z[X]=ce[X]);return B(U,re,void 0,void 0,null,Z)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(U){return{$$typeof:a,render:U}},rn.isValidElement=V,rn.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:W}},rn.memo=function(U,de){return{$$typeof:d,type:U,compare:de===void 0?null:de}},rn.startTransition=function(U){var de=N.T,j={};N.T=j;try{var X=U(),Z=N.S;Z!==null&&Z(j,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ue,Q)}catch(re){Q(re)}finally{N.T=de}},rn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},rn.use=function(U){return N.H.use(U)},rn.useActionState=function(U,de,j){return N.H.useActionState(U,de,j)},rn.useCallback=function(U,de){return N.H.useCallback(U,de)},rn.useContext=function(U){return N.H.useContext(U)},rn.useDebugValue=function(){},rn.useDeferredValue=function(U,de){return N.H.useDeferredValue(U,de)},rn.useEffect=function(U,de){return N.H.useEffect(U,de)},rn.useId=function(){return N.H.useId()},rn.useImperativeHandle=function(U,de,j){return N.H.useImperativeHandle(U,de,j)},rn.useInsertionEffect=function(U,de){return N.H.useInsertionEffect(U,de)},rn.useLayoutEffect=function(U,de){return N.H.useLayoutEffect(U,de)},rn.useMemo=function(U,de){return N.H.useMemo(U,de)},rn.useOptimistic=function(U,de){return N.H.useOptimistic(U,de)},rn.useReducer=function(U,de,j){return N.H.useReducer(U,de,j)},rn.useRef=function(U){return N.H.useRef(U)},rn.useState=function(U){return N.H.useState(U)},rn.useSyncExternalStore=function(U,de,j){return N.H.useSyncExternalStore(U,de,j)},rn.useTransition=function(){return N.H.useTransition()},rn.version="19.0.0",rn}var sP;function Pp(){return sP||(sP=1,Mw.exports=V7()),Mw.exports}var M=Pp();const ze=fd(M);var oP={},z7="@vercel/analytics",q7="1.5.0",U7=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function ek(){return typeof window<"u"}function tk(){try{const e="production"}catch{}return"production"}function W7(e="auto"){if(e==="auto"){window.vam=tk();return}window.vam=e}function $7(){return(ek()?window.vam:tk())||"production"}function tx(){return $7()==="development"}function K7(e){return e.scriptSrc?e.scriptSrc:tx()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function Y7(e={debug:!0}){var t;if(!ek())return;W7(e.mode),U7(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=K7(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const i=document.createElement("script");i.src=n,i.defer=!0,i.dataset.sdkn=z7+(e.framework?`/${e.framework}`:""),i.dataset.sdkv=q7,e.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),e.endpoint?i.dataset.endpoint=e.endpoint:e.basePath&&(i.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(i.dataset.dsn=e.dsn),i.onerror=()=>{const r=tx()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${r}`)},tx()&&e.debug===!1&&(i.dataset.debug="false"),document.head.appendChild(i)}function Q7({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function X7(){if(!(typeof process>"u"||typeof oP>"u"))return oP.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function Z7(e){return M.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),M.useEffect(()=>{Y7({framework:e.framework||"react",basePath:e.basePath??X7(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),M.useEffect(()=>{e.route&&e.path&&Q7({route:e.route,path:e.path})},[e.route,e.path]),null}var aP={},J7="@vercel/speed-insights",eH="1.2.0",tH=()=>{window.si||(window.si=function(...t){(window.siq=window.siq||[]).push(t)})};function nH(){return typeof window<"u"}function iH(){try{const e="production"}catch{}return"production"}function nk(){return iH()==="development"}function rH(e){return e.scriptSrc?e.scriptSrc:nk()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function sH(e={}){var t;if(!nH()||e.route===null)return null;tH();const n=rH(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&((t=window.si)==null||t.call(window,"beforeSend",e.beforeSend));const i=document.createElement("script");return i.src=n,i.defer=!0,i.dataset.sdkn=J7+(e.framework?`/${e.framework}`:""),i.dataset.sdkv=eH,e.sampleRate&&(i.dataset.sampleRate=e.sampleRate.toString()),e.route&&(i.dataset.route=e.route),e.endpoint?i.dataset.endpoint=e.endpoint:e.basePath&&(i.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(i.dataset.dsn=e.dsn),nk()&&e.debug===!1&&(i.dataset.debug="false"),i.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(i),{setRoute:r=>{i.dataset.route=r??void 0}}}function oH(){if(!(typeof process>"u"||typeof aP>"u"))return aP.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function aH(e){M.useEffect(()=>{var n;e.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);const t=M.useRef(null);return M.useEffect(()=>{if(t.current)e.route&&t.current(e.route);else{const n=sH({framework:e.framework??"react",basePath:e.basePath??oH(),...e});n&&(t.current=n.setRoute)}},[e.route]),null}var Nw={exports:{}},Tg={},Ow={exports:{}},kw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function lH(){return lP||(lP=1,function(e){function t($,W){var Q=$.length;$.push(W);e:for(;0<Q;){var ue=Q-1>>>1,U=$[ue];if(0<r(U,W))$[ue]=W,$[Q]=U,Q=ue;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var W=$[0],Q=$.pop();if(Q!==W){$[0]=Q;e:for(var ue=0,U=$.length,de=U>>>1;ue<de;){var j=2*(ue+1)-1,X=$[j],Z=j+1,re=$[Z];if(0>r(X,Q))Z<U&&0>r(re,X)?($[ue]=re,$[Z]=Q,ue=Z):($[ue]=X,$[j]=Q,ue=j);else if(Z<U&&0>r(re,Q))$[ue]=re,$[Z]=Q,ue=Z;else break e}}return W}function r($,W){var Q=$.sortIndex-W.sortIndex;return Q!==0?Q:$.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],d=[],h=1,p=null,g=3,m=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function E($){for(var W=n(d);W!==null;){if(W.callback===null)i(d);else if(W.startTime<=$)i(d),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(d)}}function F($){if(w=!1,E($),!y)if(n(u)!==null)y=!0,q();else{var W=n(d);W!==null&&ee(F,W.startTime-$)}}var N=!1,z=-1,B=5,k=-1;function V(){return!(e.unstable_now()-k<B)}function K(){if(N){var $=e.unstable_now();k=$;var W=!0;try{e:{y=!1,w&&(w=!1,C(z),z=-1),m=!0;var Q=g;try{t:{for(E($),p=n(u);p!==null&&!(p.expirationTime>$&&V());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var U=ue(p.expirationTime<=$);if($=e.unstable_now(),typeof U=="function"){p.callback=U,E($),W=!0;break t}p===n(u)&&i(u),E($)}else i(u);p=n(u)}if(p!==null)W=!0;else{var de=n(d);de!==null&&ee(F,de.startTime-$),W=!1}}break e}finally{p=null,g=Q,m=!1}W=void 0}}finally{W?T():N=!1}}}var T;if(typeof A=="function")T=function(){A(K)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=K,T=function(){H.postMessage(null)}}else T=function(){x(K,0)};function q(){N||(N=!0,T())}function ee($,W){z=x(function(){$(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,q())},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var Q=g;g=W;try{return $()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=g;g=$;try{return W()}finally{g=Q}},e.unstable_scheduleCallback=function($,W,Q){var ue=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,$={id:h++,callback:W,priorityLevel:$,startTime:Q,expirationTime:U,sortIndex:-1},Q>ue?($.sortIndex=Q,t(d,$),n(u)===null&&$===n(d)&&(w?(C(z),z=-1):w=!0,ee(F,Q-ue))):($.sortIndex=U,t(u,$),y||m||(y=!0,q())),$},e.unstable_shouldYield=V,e.unstable_wrapCallback=function($){var W=g;return function(){var Q=g;g=W;try{return $.apply(this,arguments)}finally{g=Q}}}}(kw)),kw}var uP;function uH(){return uP||(uP=1,Ow.exports=lH()),Ow.exports}var Iw={exports:{}},as={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP;function cH(){if(cP)return as;cP=1;var e=Pp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,as.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,h)},as.flushSync=function(u){var d=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=d,i.p=h,i.d.f()}},as.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},as.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},as.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&i.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},as.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},as.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=a(h,d.crossOrigin);i.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},as.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=a(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},as.requestFormReset=function(u){i.d.r(u)},as.unstable_batchedUpdates=function(u,d){return u(d)},as.useFormState=function(u,d,h){return o.H.useFormState(u,d,h)},as.useFormStatus=function(){return o.H.useHostTransitionStatus()},as.version="19.0.0",as}var dP;function Z5(){if(dP)return Iw.exports;dP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Iw.exports=cH(),Iw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function dH(){if(hP)return Tg;hP=1;var e=uH(),t=Pp(),n=Z5();function i(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),F=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=N&&l[N]||l["@@iterator"],typeof l=="function"?l:null)}var B=Symbol.for("react.client.reference");function k(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===B?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case u:return"Fragment";case a:return"Portal";case h:return"Profiler";case d:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case m:return(l.displayName||"Context")+".Provider";case g:return(l._context.displayName||"Context")+".Consumer";case y:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case C:return c=l.displayName||null,c!==null?c:k(l.type)||"Memo";case A:c=l._payload,l=l._init;try{return k(l(c))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=Object.assign,T,O;function H(l){if(T===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);T=c&&c[1]||"",O=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+T+l+O}var q=!1;function ee(l,c){if(!l||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(qe){var Ie=qe}Reflect.construct(l,[],tt)}else{try{tt.call()}catch(qe){Ie=qe}l.call(tt.prototype)}}else{try{throw Error()}catch(qe){Ie=qe}(tt=l())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(qe){if(qe&&Ie&&typeof qe.stack=="string")return[qe.stack,Ie.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=v.DetermineComponentFrameRoot(),Y=P[0],ae=P[1];if(Y&&ae){var ge=Y.split(`
`),Ee=ae.split(`
`);for(S=v=0;v<ge.length&&!ge[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Ee.length&&!Ee[S].includes("DetermineComponentFrameRoot");)S++;if(v===ge.length||S===Ee.length)for(v=ge.length-1,S=Ee.length-1;1<=v&&0<=S&&ge[v]!==Ee[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ge[v]!==Ee[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ge[v]!==Ee[S]){var We=`
`+ge[v].replace(" at new "," at ");return l.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",l.displayName)),We}while(1<=v&&0<=S);break}}}finally{q=!1,Error.prepareStackTrace=f}return(f=l?l.displayName||l.name:"")?H(f):""}function $(l){switch(l.tag){case 26:case 27:case 5:return H(l.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return l=ee(l.type,!1),l;case 11:return l=ee(l.type.render,!1),l;case 1:return l=ee(l.type,!0),l;default:return""}}function W(l){try{var c="";do c+=$(l),l=l.return;while(l);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Q(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function ue(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function U(l){if(Q(l)!==l)throw Error(i(188))}function de(l){var c=l.alternate;if(!c){if(c=Q(l),c===null)throw Error(i(188));return c!==l?null:l}for(var f=l,v=c;;){var S=f.return;if(S===null)break;var P=S.alternate;if(P===null){if(v=S.return,v!==null){f=v;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===f)return U(S),l;if(P===v)return U(S),c;P=P.sibling}throw Error(i(188))}if(f.return!==v.return)f=S,v=P;else{for(var Y=!1,ae=S.child;ae;){if(ae===f){Y=!0,f=S,v=P;break}if(ae===v){Y=!0,v=S,f=P;break}ae=ae.sibling}if(!Y){for(ae=P.child;ae;){if(ae===f){Y=!0,f=P,v=S;break}if(ae===v){Y=!0,v=P,f=S;break}ae=ae.sibling}if(!Y)throw Error(i(189))}}if(f.alternate!==v)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?l:c}function j(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=j(l),c!==null)return c;l=l.sibling}return null}var X=Array.isArray,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],ye=-1;function me(l){return{current:l}}function Se(l){0>ye||(l.current=ce[ye],ce[ye]=null,ye--)}function Oe(l,c){ye++,ce[ye]=l.current,l.current=c}var _e=me(null),$e=me(null),Be=me(null),it=me(null);function De(l,c){switch(Oe(Be,c),Oe($e,l),Oe(_e,null),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?LT(c):0;break;default:if(l=l===8?c.parentNode:c,c=l.tagName,l=l.namespaceURI)l=LT(l),c=MT(l,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Se(_e),Oe(_e,c)}function fe(){Se(_e),Se($e),Se(Be)}function ct(l){l.memoizedState!==null&&Oe(it,l);var c=_e.current,f=MT(c,l.type);c!==f&&(Oe($e,l),Oe(_e,f))}function ot(l){$e.current===l&&(Se(_e),Se($e)),it.current===l&&(Se(it),wg._currentValue=re)}var Ye=Object.prototype.hasOwnProperty,Je=e.unstable_scheduleCallback,nt=e.unstable_cancelCallback,at=e.unstable_shouldYield,yt=e.unstable_requestPaint,mt=e.unstable_now,It=e.unstable_getCurrentPriorityLevel,Vt=e.unstable_ImmediatePriority,zt=e.unstable_UserBlockingPriority,wt=e.unstable_NormalPriority,vt=e.unstable_LowPriority,Ot=e.unstable_IdlePriority,ft=e.log,yi=e.unstable_setDisableYieldValue,Zt=null,An=null;function hn(l){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Zt,l,void 0,(l.current.flags&128)===128)}catch{}}function ln(l){if(typeof ft=="function"&&yi(l),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(Zt,l)}catch{}}var En=Math.clz32?Math.clz32:Tn,sn=Math.log,qi=Math.LN2;function Tn(l){return l>>>=0,l===0?32:31-(sn(l)/qi|0)|0}var Di=128,Fi=4194304;function fn(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Dt(l,c){var f=l.pendingLanes;if(f===0)return 0;var v=0,S=l.suspendedLanes,P=l.pingedLanes,Y=l.warmLanes;l=l.finishedLanes!==0;var ae=f&134217727;return ae!==0?(f=ae&~S,f!==0?v=fn(f):(P&=ae,P!==0?v=fn(P):l||(Y=ae&~Y,Y!==0&&(v=fn(Y))))):(ae=f&~S,ae!==0?v=fn(ae):P!==0?v=fn(P):l||(Y=f&~Y,Y!==0&&(v=fn(Y)))),v===0?0:c!==0&&c!==v&&(c&S)===0&&(S=v&-v,Y=c&-c,S>=Y||S===32&&(Y&4194176)!==0)?c:v}function Jt(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function Cs(l,c){switch(l){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var l=Di;return Di<<=1,(Di&4194176)===0&&(Di=128),l}function Li(){var l=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),l}function lr(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function bt(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mr(l,c,f,v,S,P){var Y=l.pendingLanes;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=f,l.entangledLanes&=f,l.errorRecoveryDisabledLanes&=f,l.shellSuspendCounter=0;var ae=l.entanglements,ge=l.expirationTimes,Ee=l.hiddenUpdates;for(f=Y&~f;0<f;){var We=31-En(f),tt=1<<We;ae[We]=0,ge[We]=-1;var Ie=Ee[We];if(Ie!==null)for(Ee[We]=null,We=0;We<Ie.length;We++){var qe=Ie[We];qe!==null&&(qe.lane&=-536870913)}f&=~tt}v!==0&&Nr(l,v,0),P!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=P&~(Y&~c))}function Nr(l,c,f){l.pendingLanes|=c,l.suspendedLanes&=~c;var v=31-En(c);l.entangledLanes|=c,l.entanglements[v]=l.entanglements[v]|1073741824|f&4194218}function Ui(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var v=31-En(f),S=1<<v;S&c|l[v]&c&&(l[v]|=c),f&=~S}}function Un(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function In(){var l=Z.p;return l!==0?l:(l=window.event,l===void 0?32:QT(l.type))}function Cn(l,c){var f=Z.p;try{return Z.p=l,c()}finally{Z.p=f}}var ur=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ur,Fn="__reactProps$"+ur,Mi="__reactContainer$"+ur,cr="__reactEvents$"+ur,_n="__reactListeners$"+ur,br="__reactHandles$"+ur,Or="__reactResources$"+ur,kr="__reactMarker$"+ur;function Bs(l){delete l[Dn],delete l[Fn],delete l[cr],delete l[_n],delete l[br]}function Cr(l){var c=l[Dn];if(c)return c;for(var f=l.parentNode;f;){if(c=f[Mi]||f[Dn]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=kT(l);l!==null;){if(f=l[Dn])return f;l=kT(l)}return c}l=f,f=l.parentNode}return null}function Vn(l){if(l=l[Dn]||l[Mi]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function Qr(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(i(33))}function ws(l){var c=l[Or];return c||(c=l[Or]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Qn(l){l[kr]=!0}var ll=new Set,to={};function dr(l,c){Ss(l,c),Ss(l+"Capture",c)}function Ss(l,c){for(to[l]=c,l=0;l<c.length;l++)ll.add(c[l])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},ul={};function No(l){return Ye.call(ul,l)?!0:Ye.call(no,l)?!1:Xr.test(l)?ul[l]=!0:(no[l]=!0,!1)}function Oo(l,c,f){if(No(c))if(f===null)l.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+f)}}function Ln(l,c,f){if(f===null)l.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+f)}}function wr(l,c,f,v){if(v===null)l.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttributeNS(c,f,""+v)}}function fi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function io(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function xs(l){var c=io(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),v=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var S=f.get,P=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return S.call(this)},set:function(Y){v=""+Y,P.call(this,Y)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(Y){v=""+Y},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function ro(l){l._valueTracker||(l._valueTracker=xs(l))}function hr(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return l&&(v=io(l)?l.checked?"true":"false":l.value),l=v,l!==f?(c.setValue(l),!0):!1}function Rs(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var tr=/[\n"\\]/g;function Oi(l){return l.replace(tr,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ko(l,c,f,v,S,P,Y,ae){l.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.type=Y:l.removeAttribute("type"),c!=null?Y==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+fi(c)):l.value!==""+fi(c)&&(l.value=""+fi(c)):Y!=="submit"&&Y!=="reset"||l.removeAttribute("value"),c!=null?_o(l,Y,fi(c)):f!=null?_o(l,Y,fi(f)):v!=null&&l.removeAttribute("value"),S==null&&P!=null&&(l.defaultChecked=!!P),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?l.name=""+fi(ae):l.removeAttribute("name")}function Io(l,c,f,v,S,P,Y,ae){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),c!=null||f!=null){if(!(P!=="submit"&&P!=="reset"||c!=null))return;f=f!=null?""+fi(f):"",c=c!=null?""+fi(c):f,ae||c===l.value||(l.value=c),l.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=ae?l.checked:!!v,l.defaultChecked=!!v,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(l.name=Y)}function _o(l,c,f){c==="number"&&Rs(l.ownerDocument)===l||l.defaultValue===""+f||(l.defaultValue=""+f)}function Hs(l,c,f,v){if(l=l.options,c){c={};for(var S=0;S<f.length;S++)c["$"+f[S]]=!0;for(f=0;f<l.length;f++)S=c.hasOwnProperty("$"+l[f].value),l[f].selected!==S&&(l[f].selected=S),S&&v&&(l[f].defaultSelected=!0)}else{for(f=""+fi(f),c=null,S=0;S<l.length;S++){if(l[S].value===f){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}c!==null||l[S].disabled||(c=l[S])}c!==null&&(c.selected=!0)}}function As(l,c,f){if(c!=null&&(c=""+fi(c),c!==l.value&&(l.value=c),f==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=f!=null?""+fi(f):""}function Sr(l,c,f,v){if(c==null){if(v!=null){if(f!=null)throw Error(i(92));if(X(v)){if(1<v.length)throw Error(i(93));v=v[0]}f=v}f==null&&(f=""),c=f}f=fi(c),l.defaultValue=f,v=l.textContent,v===f&&v!==""&&v!==null&&(l.value=v)}function ki(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(l,c,f){var v=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":v?l.setProperty(c,f):typeof f!="number"||f===0||Es.has(c)?c==="float"?l.cssFloat=f:l[c]=(""+f).trim():l[c]=f+"px"}function Ir(l,c,f){if(c!=null&&typeof c!="object")throw Error(i(62));if(l=l.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&f[S]!==v&&cl(l,S,v)}else for(var P in c)c.hasOwnProperty(P)&&cl(l,P,c[P])}function _r(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(l){return Ho.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var ii=null;function bi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Zr=null,Ft=null;function oo(l){var c=Vn(l);if(c&&(l=c.stateNode)){var f=l[Fn]||null;e:switch(l=c.stateNode,c.type){case"input":if(ko(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Oi(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==l&&v.form===l.form){var S=v[Fn]||null;if(!S)throw Error(i(90));ko(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<f.length;c++)v=f[c],v.form===l.form&&hr(v)}break e;case"textarea":As(l,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&Hs(l,!!f.multiple,c,!1)}}}var ao=!1;function nr(l,c,f){if(ao)return l(c,f);ao=!0;try{var v=l(c);return v}finally{if(ao=!1,(Zr!==null||Ft!==null)&&(ry(),Zr&&(c=Zr,l=Ft,Ft=Zr=null,oo(c),l)))for(c=0;c<l.length;c++)oo(l[c])}}function js(l,c){var f=l.stateNode;if(f===null)return null;var v=f[Fn]||null;if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(i(231,c,typeof f));return f}var lo=!1;if(Ni)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){lo=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{lo=!1}var fr=null,Rr=null,uo=null;function jo(){if(uo)return uo;var l,c=Rr,f=c.length,v,S="value"in fr?fr.value:fr.textContent,P=S.length;for(l=0;l<f&&c[l]===S[l];l++);var Y=f-l;for(v=1;v<=Y&&c[f-v]===S[P-v];v++);return uo=S.slice(l,1<v?1-v:void 0)}function Gs(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Jr(){return!0}function _(){return!1}function oe(l){function c(f,v,S,P,Y){this._reactName=f,this._targetInst=S,this.type=v,this.nativeEvent=P,this.target=Y,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(f=l[ae],this[ae]=f?f(P):P[ae]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Jr:_,this.isPropagationStopped=_,this}return K(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),c}var ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},He=oe(ve),Mt=K({},ve,{view:0,detail:0}),Rt=oe(Mt),tn,en,Pn,Wt=K({},Mt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Pn&&(Pn&&l.type==="mousemove"?(tn=l.screenX-Pn.screenX,en=l.screenY-Pn.screenY):en=tn=0,Pn=l),tn)},movementY:function(l){return"movementY"in l?l.movementY:en}}),Bn=oe(Wt),ir=K({},Wt,{dataTransfer:0}),Mn=oe(ir),Nn=K({},Mt,{relatedTarget:0}),Wn=oe(Nn),Ar=K({},ve,{animationName:0,elapsedTime:0,pseudoElement:0}),Ts=oe(Ar),es=K({},ve,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sc=oe(es),Go=K({},ve,{data:0}),co=oe(Go),$h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sd(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=wd[l])?!!c[l]:!1}function ac(){return Sd}var Vp=K({},Mt,{key:function(l){if(l.key){var c=$h[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Gs(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?oc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(l){return l.type==="keypress"?Gs(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Gs(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),lc=oe(Vp),eu=K({},Wt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=oe(eu),dl=K({},Mt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),xd=oe(dl),D=K({},ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=oe(D),pe=K({},Wt,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=oe(pe),Te=K({},ve,{newState:0,oldState:0}),Ge=oe(Te),et=[9,13,27,32],gt=Ni&&"CompositionEvent"in window,At=null;Ni&&"documentMode"in document&&(At=document.documentMode);var Kt=Ni&&"TextEvent"in window&&!At,qt=Ni&&(!gt||At&&8<At&&11>=At),cn=" ",Xn=!1;function ri(l,c){switch(l){case"keyup":return et.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ci(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var wi=!1;function rr(l,c){switch(l){case"compositionend":return Ci(c);case"keypress":return c.which!==32?null:(Xn=!0,cn);case"textInput":return l=c.data,l===cn&&Xn?null:l;default:return null}}function ho(l,c){if(wi)return l==="compositionend"||!gt&&ri(l,c)?(l=jo(),uo=Rr=fr=null,wi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qt&&c.locale!=="ko"?null:c.data;default:return null}}var Ps={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fo(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!Ps[l.type]:c==="textarea"}function Rd(l,c,f,v){Zr?Ft?Ft.push(v):Ft=[v]:Zr=v,c=uy(c,"onChange"),0<c.length&&(f=new He("onChange","change",null,f,v),l.push({event:f,listeners:c}))}var ma=null,va=null;function cc(l){ET(l,0)}function hl(l){var c=Qr(l);if(hr(c))return l}function dc(l,c){if(l==="change")return c}var tu=!1;if(Ni){var Wi;if(Ni){var fl="oninput"in document;if(!fl){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),fl=typeof nu.oninput=="function"}Wi=fl}else Wi=!1;tu=Wi&&(!document.documentMode||9<document.documentMode)}function iu(){ma&&(ma.detachEvent("onpropertychange",hc),va=ma=null)}function hc(l){if(l.propertyName==="value"&&hl(va)){var c=[];Rd(c,va,l,bi(l)),nr(cc,c)}}function ts(l,c,f){l==="focusin"?(iu(),ma=c,va=f,ma.attachEvent("onpropertychange",hc)):l==="focusout"&&iu()}function zp(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return hl(va)}function Ad(l,c){if(l==="click")return hl(c)}function Kh(l,c){if(l==="input"||l==="change")return hl(c)}function Vs(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var sr=typeof Object.is=="function"?Object.is:Vs;function pl(l,c){if(sr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var S=f[v];if(!Ye.call(c,S)||!sr(l[S],c[S]))return!1}return!0}function Ed(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ya(l,c){var f=Ed(l);l=0;for(var v;f;){if(f.nodeType===3){if(v=l+f.textContent.length,l<=c&&v>=c)return{node:f,offset:c-l};l=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ed(f)}}function gl(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?gl(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Br(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=Rs(l.document);c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=Rs(l.document)}return c}function pr(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function ml(l,c){var f=Br(c);c=l.focusedElem;var v=l.selectionRange;if(f!==c&&c&&c.ownerDocument&&gl(c.ownerDocument.documentElement,c)){if(v!==null&&pr(c)){if(l=v.start,f=v.end,f===void 0&&(f=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(f,c.value.length);else if(f=(l=c.ownerDocument||document)&&l.defaultView||window,f.getSelection){f=f.getSelection();var S=c.textContent.length,P=Math.min(v.start,S);v=v.end===void 0?P:Math.min(v.end,S),!f.extend&&P>v&&(S=v,v=P,P=S),S=ya(c,P);var Y=ya(c,v);S&&Y&&(f.rangeCount!==1||f.anchorNode!==S.node||f.anchorOffset!==S.offset||f.focusNode!==Y.node||f.focusOffset!==Y.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),f.removeAllRanges(),P>v?(f.addRange(l),f.extend(Y.node,Y.offset)):(l.setEnd(Y.node,Y.offset),f.addRange(l)))}}for(l=[],f=c;f=f.parentNode;)f.nodeType===1&&l.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)f=l[c],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var ba=Ni&&"documentMode"in document&&11>=document.documentMode,ns=null,vl=null,Ds=null,si=!1;function fc(l,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;si||ns==null||ns!==Rs(v)||(v=ns,"selectionStart"in v&&pr(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ds&&pl(Ds,v)||(Ds=v,v=uy(vl,"onSelect"),0<v.length&&(c=new He("onSelect","select",null,c,f),l.push({event:c,listeners:v}),c.target=ns)))}function Si(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var gr={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},yl={},Td={};Ni&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function po(l){if(yl[l])return yl[l];if(!gr[l])return l;var c=gr[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in Td)return yl[l]=c[f];return l}var bl=po("animationend"),Cl=po("animationiteration"),Ca=po("animationstart"),ru=po("transitionrun"),pc=po("transitionstart"),su=po("transitioncancel"),wa=po("transitionend"),gc=new Map,Fs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(l,c){gc.set(l,c),dr(c,[l])}var on=[],wn=0,oi=0;function gi(){for(var l=wn,c=oi=wn=0;c<l;){var f=on[c];on[c++]=null;var v=on[c];on[c++]=null;var S=on[c];on[c++]=null;var P=on[c];if(on[c++]=null,v!==null&&S!==null){var Y=v.pending;Y===null?S.next=S:(S.next=Y.next,Y.next=S),v.pending=S}P!==0&&Pd(f,S,P)}}function zs(l,c,f,v){on[wn++]=l,on[wn++]=c,on[wn++]=f,on[wn++]=v,oi|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function ou(l,c,f,v){return zs(l,c,f,v),mc(l)}function Ls(l,c){return zs(l,null,null,c),mc(l)}function Pd(l,c,f){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f);for(var S=!1,P=l.return;P!==null;)P.childLanes|=f,v=P.alternate,v!==null&&(v.childLanes|=f),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(S=!0)),l=P,P=P.return;S&&c!==null&&l.tag===3&&(P=l.stateNode,S=31-En(f),P=P.hiddenUpdates,l=P[S],l===null?P[S]=[c]:l.push(c),c.lane=f|536870912)}function mc(l){if(50<pg)throw pg=0,tw=null,Error(i(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var Sa={},is=new WeakMap;function ai(l,c){if(typeof l=="object"&&l!==null){var f=is.get(l);return f!==void 0?f:(c={value:l,source:c,stack:W(c)},is.set(l,c),c)}return{value:l,source:c,stack:W(c)}}var xa=[],Ra=0,Dd=null,au=0,Hr=[],rs=0,wl=null,go=1,mo="";function Vo(l,c){xa[Ra++]=au,xa[Ra++]=Dd,Dd=l,au=c}function Yh(l,c,f){Hr[rs++]=go,Hr[rs++]=mo,Hr[rs++]=wl,wl=l;var v=go;l=mo;var S=32-En(v)-1;v&=~(1<<S),f+=1;var P=32-En(c)+S;if(30<P){var Y=S-S%5;P=(v&(1<<Y)-1).toString(32),v>>=Y,S-=Y,go=1<<32-En(c)+S|f<<S|v,mo=P+l}else go=1<<P|f<<S|v,mo=l}function qp(l){l.return!==null&&(Vo(l,1),Yh(l,1,0))}function Up(l){for(;l===Dd;)Dd=xa[--Ra],xa[Ra]=null,au=xa[--Ra],xa[Ra]=null;for(;l===wl;)wl=Hr[--rs],Hr[rs]=null,mo=Hr[--rs],Hr[rs]=null,go=Hr[--rs],Hr[rs]=null}var Er=null,mr=null,yn=!1,vo=null,zo=!1,Wp=Error(i(519));function Aa(l){var c=Error(i(418,""));throw yc(ai(c,l)),Wp}function Qh(l){var c=l.stateNode,f=l.type,v=l.memoizedProps;switch(c[Dn]=l,c[Fn]=v,f){case"dialog":vn("cancel",c),vn("close",c);break;case"iframe":case"object":case"embed":vn("load",c);break;case"video":case"audio":for(f=0;f<mg.length;f++)vn(mg[f],c);break;case"source":vn("error",c);break;case"img":case"image":case"link":vn("error",c),vn("load",c);break;case"details":vn("toggle",c);break;case"input":vn("invalid",c),Io(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),ro(c);break;case"select":vn("invalid",c);break;case"textarea":vn("invalid",c),Sr(c,v.value,v.defaultValue,v.children),ro(c)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||v.suppressHydrationWarning===!0||FT(c.textContent,f)?(v.popover!=null&&(vn("beforetoggle",c),vn("toggle",c)),v.onScroll!=null&&vn("scroll",c),v.onScrollEnd!=null&&vn("scrollend",c),v.onClick!=null&&(c.onclick=cy),c=!0):c=!1,c||Aa(l)}function vc(l){for(Er=l.return;Er;)switch(Er.tag){case 3:case 27:zo=!0;return;case 5:case 13:zo=!1;return;default:Er=Er.return}}function Fd(l){if(l!==Er)return!1;if(!yn)return vc(l),yn=!0,!1;var c=!1,f;if((f=l.tag!==3&&l.tag!==27)&&((f=l.tag===5)&&(f=l.type,f=!(f!=="form"&&f!=="button")||yw(l.type,l.memoizedProps)),f=!f),f&&(c=!0),c&&mr&&Aa(l),vc(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(f=l.data,f==="/$"){if(c===0){mr=Oa(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;l=l.nextSibling}mr=null}}else mr=Er?Oa(l.stateNode.nextSibling):null;return!0}function Ld(){mr=Er=null,yn=!1}function yc(l){vo===null?vo=[l]:vo.push(l)}var Md=Error(i(460)),Mv=Error(i(474)),$p={then:function(){}};function Nv(l){return l=l.status,l==="fulfilled"||l==="rejected"}function yo(){}function qs(l,c,f){switch(f=l[f],f===void 0?l.push(c):f!==c&&(c.then(yo,yo),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,l===Md?Error(i(483)):l;default:if(typeof c.status=="string")c.then(yo,yo);else{if(l=Jn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=c,l.status="pending",l.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,l===Md?Error(i(483)):l}throw Ms=c,Md}}var Ms=null;function Ov(){if(Ms===null)throw Error(i(459));var l=Ms;return Ms=null,l}var lu=null,Us=0;function jr(l){var c=Us;return Us+=1,lu===null&&(lu=[]),qs(lu,l,c)}function Nd(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function Xh(l,c){throw c.$$typeof===s?Error(i(525)):(l=Object.prototype.toString.call(c),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Kp(l){var c=l._init;return c(l._payload)}function Yp(l){function c(Pe,Re){if(l){var Ne=Pe.deletions;Ne===null?(Pe.deletions=[Re],Pe.flags|=16):Ne.push(Re)}}function f(Pe,Re){if(!l)return null;for(;Re!==null;)c(Pe,Re),Re=Re.sibling;return null}function v(Pe){for(var Re=new Map;Pe!==null;)Pe.key!==null?Re.set(Pe.key,Pe):Re.set(Pe.index,Pe),Pe=Pe.sibling;return Re}function S(Pe,Re){return Pe=Nc(Pe,Re),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,Re,Ne){return Pe.index=Ne,l?(Ne=Pe.alternate,Ne!==null?(Ne=Ne.index,Ne<Re?(Pe.flags|=33554434,Re):Ne):(Pe.flags|=33554434,Re)):(Pe.flags|=1048576,Re)}function Y(Pe){return l&&Pe.alternate===null&&(Pe.flags|=33554434),Pe}function ae(Pe,Re,Ne,Ze){return Re===null||Re.tag!==6?(Re=$0(Ne,Pe.mode,Ze),Re.return=Pe,Re):(Re=S(Re,Ne),Re.return=Pe,Re)}function ge(Pe,Re,Ne,Ze){var St=Ne.type;return St===u?We(Pe,Re,Ne.props.children,Ze,Ne.key):Re!==null&&(Re.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===A&&Kp(St)===Re.type)?(Re=S(Re,Ne.props),Nd(Re,Ne),Re.return=Pe,Re):(Re=Jv(Ne.type,Ne.key,Ne.props,null,Pe.mode,Ze),Nd(Re,Ne),Re.return=Pe,Re)}function Ee(Pe,Re,Ne,Ze){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ne.containerInfo||Re.stateNode.implementation!==Ne.implementation?(Re=K0(Ne,Pe.mode,Ze),Re.return=Pe,Re):(Re=S(Re,Ne.children||[]),Re.return=Pe,Re)}function We(Pe,Re,Ne,Ze,St){return Re===null||Re.tag!==7?(Re=Kd(Ne,Pe.mode,Ze,St),Re.return=Pe,Re):(Re=S(Re,Ne),Re.return=Pe,Re)}function tt(Pe,Re,Ne){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=$0(""+Re,Pe.mode,Ne),Re.return=Pe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case o:return Ne=Jv(Re.type,Re.key,Re.props,null,Pe.mode,Ne),Nd(Ne,Re),Ne.return=Pe,Ne;case a:return Re=K0(Re,Pe.mode,Ne),Re.return=Pe,Re;case A:var Ze=Re._init;return Re=Ze(Re._payload),tt(Pe,Re,Ne)}if(X(Re)||z(Re))return Re=Kd(Re,Pe.mode,Ne,null),Re.return=Pe,Re;if(typeof Re.then=="function")return tt(Pe,jr(Re),Ne);if(Re.$$typeof===m)return tt(Pe,Qv(Pe,Re),Ne);Xh(Pe,Re)}return null}function Ie(Pe,Re,Ne,Ze){var St=Re!==null?Re.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return St!==null?null:ae(Pe,Re,""+Ne,Ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case o:return Ne.key===St?ge(Pe,Re,Ne,Ze):null;case a:return Ne.key===St?Ee(Pe,Re,Ne,Ze):null;case A:return St=Ne._init,Ne=St(Ne._payload),Ie(Pe,Re,Ne,Ze)}if(X(Ne)||z(Ne))return St!==null?null:We(Pe,Re,Ne,Ze,null);if(typeof Ne.then=="function")return Ie(Pe,Re,jr(Ne),Ze);if(Ne.$$typeof===m)return Ie(Pe,Re,Qv(Pe,Ne),Ze);Xh(Pe,Ne)}return null}function qe(Pe,Re,Ne,Ze,St){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Pe=Pe.get(Ne)||null,ae(Re,Pe,""+Ze,St);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case o:return Pe=Pe.get(Ze.key===null?Ne:Ze.key)||null,ge(Re,Pe,Ze,St);case a:return Pe=Pe.get(Ze.key===null?Ne:Ze.key)||null,Ee(Re,Pe,Ze,St);case A:var un=Ze._init;return Ze=un(Ze._payload),qe(Pe,Re,Ne,Ze,St)}if(X(Ze)||z(Ze))return Pe=Pe.get(Ne)||null,We(Re,Pe,Ze,St,null);if(typeof Ze.then=="function")return qe(Pe,Re,Ne,jr(Ze),St);if(Ze.$$typeof===m)return qe(Pe,Re,Ne,Qv(Re,Ze),St);Xh(Re,Ze)}return null}function Pt(Pe,Re,Ne,Ze){for(var St=null,un=null,Nt=Re,Ht=Re=0,Fr=null;Nt!==null&&Ht<Ne.length;Ht++){Nt.index>Ht?(Fr=Nt,Nt=null):Fr=Nt.sibling;var Rn=Ie(Pe,Nt,Ne[Ht],Ze);if(Rn===null){Nt===null&&(Nt=Fr);break}l&&Nt&&Rn.alternate===null&&c(Pe,Nt),Re=P(Rn,Re,Ht),un===null?St=Rn:un.sibling=Rn,un=Rn,Nt=Fr}if(Ht===Ne.length)return f(Pe,Nt),yn&&Vo(Pe,Ht),St;if(Nt===null){for(;Ht<Ne.length;Ht++)Nt=tt(Pe,Ne[Ht],Ze),Nt!==null&&(Re=P(Nt,Re,Ht),un===null?St=Nt:un.sibling=Nt,un=Nt);return yn&&Vo(Pe,Ht),St}for(Nt=v(Nt);Ht<Ne.length;Ht++)Fr=qe(Nt,Pe,Ht,Ne[Ht],Ze),Fr!==null&&(l&&Fr.alternate!==null&&Nt.delete(Fr.key===null?Ht:Fr.key),Re=P(Fr,Re,Ht),un===null?St=Fr:un.sibling=Fr,un=Fr);return l&&Nt.forEach(function(jc){return c(Pe,jc)}),yn&&Vo(Pe,Ht),St}function Qt(Pe,Re,Ne,Ze){if(Ne==null)throw Error(i(151));for(var St=null,un=null,Nt=Re,Ht=Re=0,Fr=null,Rn=Ne.next();Nt!==null&&!Rn.done;Ht++,Rn=Ne.next()){Nt.index>Ht?(Fr=Nt,Nt=null):Fr=Nt.sibling;var jc=Ie(Pe,Nt,Rn.value,Ze);if(jc===null){Nt===null&&(Nt=Fr);break}l&&Nt&&jc.alternate===null&&c(Pe,Nt),Re=P(jc,Re,Ht),un===null?St=jc:un.sibling=jc,un=jc,Nt=Fr}if(Rn.done)return f(Pe,Nt),yn&&Vo(Pe,Ht),St;if(Nt===null){for(;!Rn.done;Ht++,Rn=Ne.next())Rn=tt(Pe,Rn.value,Ze),Rn!==null&&(Re=P(Rn,Re,Ht),un===null?St=Rn:un.sibling=Rn,un=Rn);return yn&&Vo(Pe,Ht),St}for(Nt=v(Nt);!Rn.done;Ht++,Rn=Ne.next())Rn=qe(Nt,Pe,Ht,Rn.value,Ze),Rn!==null&&(l&&Rn.alternate!==null&&Nt.delete(Rn.key===null?Ht:Rn.key),Re=P(Rn,Re,Ht),un===null?St=Rn:un.sibling=Rn,un=Rn);return l&&Nt.forEach(function(I7){return c(Pe,I7)}),yn&&Vo(Pe,Ht),St}function Hi(Pe,Re,Ne,Ze){if(typeof Ne=="object"&&Ne!==null&&Ne.type===u&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case o:e:{for(var St=Ne.key;Re!==null;){if(Re.key===St){if(St=Ne.type,St===u){if(Re.tag===7){f(Pe,Re.sibling),Ze=S(Re,Ne.props.children),Ze.return=Pe,Pe=Ze;break e}}else if(Re.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===A&&Kp(St)===Re.type){f(Pe,Re.sibling),Ze=S(Re,Ne.props),Nd(Ze,Ne),Ze.return=Pe,Pe=Ze;break e}f(Pe,Re);break}else c(Pe,Re);Re=Re.sibling}Ne.type===u?(Ze=Kd(Ne.props.children,Pe.mode,Ze,Ne.key),Ze.return=Pe,Pe=Ze):(Ze=Jv(Ne.type,Ne.key,Ne.props,null,Pe.mode,Ze),Nd(Ze,Ne),Ze.return=Pe,Pe=Ze)}return Y(Pe);case a:e:{for(St=Ne.key;Re!==null;){if(Re.key===St)if(Re.tag===4&&Re.stateNode.containerInfo===Ne.containerInfo&&Re.stateNode.implementation===Ne.implementation){f(Pe,Re.sibling),Ze=S(Re,Ne.children||[]),Ze.return=Pe,Pe=Ze;break e}else{f(Pe,Re);break}else c(Pe,Re);Re=Re.sibling}Ze=K0(Ne,Pe.mode,Ze),Ze.return=Pe,Pe=Ze}return Y(Pe);case A:return St=Ne._init,Ne=St(Ne._payload),Hi(Pe,Re,Ne,Ze)}if(X(Ne))return Pt(Pe,Re,Ne,Ze);if(z(Ne)){if(St=z(Ne),typeof St!="function")throw Error(i(150));return Ne=St.call(Ne),Qt(Pe,Re,Ne,Ze)}if(typeof Ne.then=="function")return Hi(Pe,Re,jr(Ne),Ze);if(Ne.$$typeof===m)return Hi(Pe,Re,Qv(Pe,Ne),Ze);Xh(Pe,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,Re!==null&&Re.tag===6?(f(Pe,Re.sibling),Ze=S(Re,Ne),Ze.return=Pe,Pe=Ze):(f(Pe,Re),Ze=$0(Ne,Pe.mode,Ze),Ze.return=Pe,Pe=Ze),Y(Pe)):f(Pe,Re)}return function(Pe,Re,Ne,Ze){try{Us=0;var St=Hi(Pe,Re,Ne,Ze);return lu=null,St}catch(Nt){if(Nt===Md)throw Nt;var un=Ko(29,Nt,null,Pe.mode);return un.lanes=Ze,un.return=Pe,un}finally{}}}var Sl=Yp(!0),Qp=Yp(!1),bc=me(null),uu=me(0);function Od(l,c){l=xu,Oe(uu,l),Oe(bc,c),xu=l|c.baseLanes}function cu(){Oe(uu,xu),Oe(bc,bc.current)}function kd(){xu=uu.current,Se(bc),Se(uu)}var Ws=me(null),bo=null;function xl(l){var c=l.alternate;Oe($i,$i.current&1),Oe(Ws,l),bo===null&&(c===null||bc.current!==null||c.memoizedState!==null)&&(bo=l)}function kv(l){if(l.tag===22){if(Oe($i,$i.current),Oe(Ws,l),bo===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(bo=l)}}else Rl()}function Rl(){Oe($i,$i.current),Oe(Ws,Ws.current)}function Ea(l){Se(Ws),bo===l&&(bo=null),Se($i)}var $i=me(0);function Zh(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Iv=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(f,v){l.push(v)}};this.abort=function(){c.aborted=!0,l.forEach(function(f){return f()})}},Jh=e.unstable_scheduleCallback,S0=e.unstable_NormalPriority,Ki={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new Iv,data:new Map,refCount:0}}function b(l){l.refCount--,l.refCount===0&&Jh(S0,function(){l.controller.abort()})}var R=null,L=0,G=0,J=null;function ne(l,c){if(R===null){var f=R=[];L=0,G=uw(),J={status:"pending",value:void 0,then:function(v){f.push(v)}}}return L++,c.then(ie,ie),c}function ie(){if(--L===0&&R!==null){J!==null&&(J.status="fulfilled");var l=R;R=null,G=0,J=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function se(l,c){var f=[],v={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return l.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<f.length;S++)(0,f[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),v}var le=V.S;V.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&ne(l,c),le!==null&&le(l,c)};var he=me(null);function we(){var l=he.current;return l!==null?l:Jn.pooledCache}function Fe(l,c){c===null?Oe(he,he.current):Oe(he,c.pool)}function Me(){var l=we();return l===null?null:{parent:Ki._currentValue,pool:l}}var Ae=0,ke=null,Le=null,be=null,xe=!1,Ue=!1,Xe=!1,Ke=0,pt=0,lt=null,kt=0;function rt(){throw Error(i(321))}function gn(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!sr(l[f],c[f]))return!1;return!0}function Sn(l,c,f,v,S,P){return Ae=P,ke=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=l===null||l.memoizedState===null?pu:Ks,Xe=!1,P=f(v,S),Xe=!1,Ue&&(P=an(c,f,v,S)),pn(l),P}function pn(l){V.H=wo;var c=Le!==null&&Le.next!==null;if(Ae=0,be=Le=ke=null,xe=!1,pt=0,lt=null,c)throw Error(i(300));l===null||Pr||(l=l.dependencies,l!==null&&Yv(l)&&(Pr=!0))}function an(l,c,f,v){ke=l;var S=0;do{if(Ue&&(lt=null),pt=0,Ue=!1,25<=S)throw Error(i(301));if(S+=1,be=Le=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}V.H=Fa,P=c(f,v)}while(Ue);return P}function Hn(){var l=V.H,c=l.useState()[0];return c=typeof c.then=="function"?mn(c):c,l=l.useState()[0],(Le!==null?Le.memoizedState:null)!==l&&(ke.flags|=1024),c}function xn(){var l=Ke!==0;return Ke=0,l}function $t(l,c,f){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~f}function mi(l){if(xe){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}xe=!1}Ae=0,be=Le=ke=null,Ue=!1,pt=Ke=0,lt=null}function jn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ke.memoizedState=be=l:be=be.next=l,be}function nn(){if(Le===null){var l=ke.alternate;l=l!==null?l.memoizedState:null}else l=Le.next;var c=be===null?ke.memoizedState:be.next;if(c!==null)be=c,Le=l;else{if(l===null)throw ke.alternate===null?Error(i(467)):Error(i(310));Le=l,l={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},be===null?ke.memoizedState=be=l:be=be.next=l}return be}var vr;vr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function mn(l){var c=pt;return pt+=1,lt===null&&(lt=[]),l=qs(lt,l,c),c=ke,(be===null?c.memoizedState:be.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?pu:Ks),l}function Tr(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return mn(l);if(l.$$typeof===m)return os(l)}throw Error(i(438,String(l)))}function Gr(l){var c=null,f=ke.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var v=ke.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=vr(),ke.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(l),v=0;v<l;v++)f[v]=F;return c.index++,f}function zn(l,c){return typeof c=="function"?c(l):c}function Ii(l){var c=nn();return yr(c,Le,l)}function yr(l,c,f){var v=l.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=f;var S=l.baseQueue,P=v.pending;if(P!==null){if(S!==null){var Y=S.next;S.next=P.next,P.next=Y}c.baseQueue=S=P,v.pending=null}if(P=l.baseState,S===null)l.memoizedState=P;else{c=S.next;var ae=Y=null,ge=null,Ee=c,We=!1;do{var tt=Ee.lane&-536870913;if(tt!==Ee.lane?(bn&tt)===tt:(Ae&tt)===tt){var Ie=Ee.revertLane;if(Ie===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),tt===G&&(We=!0);else if((Ae&Ie)===Ie){Ee=Ee.next,Ie===G&&(We=!0);continue}else tt={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ae=ge=tt,Y=P):ge=ge.next=tt,ke.lanes|=Ie,Oc|=Ie;tt=Ee.action,Xe&&f(P,tt),P=Ee.hasEagerState?Ee.eagerState:f(P,tt)}else Ie={lane:tt,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ge===null?(ae=ge=Ie,Y=P):ge=ge.next=Ie,ke.lanes|=tt,Oc|=tt;Ee=Ee.next}while(Ee!==null&&Ee!==c);if(ge===null?Y=P:ge.next=ae,!sr(P,l.memoizedState)&&(Pr=!0,We&&(f=J,f!==null)))throw f;l.memoizedState=P,l.baseState=Y,l.baseQueue=ge,v.lastRenderedState=P}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function ss(l){var c=nn(),f=c.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=f.dispatch,S=f.pending,P=c.memoizedState;if(S!==null){f.pending=null;var Y=S=S.next;do P=l(P,Y.action),Y=Y.next;while(Y!==S);sr(P,c.memoizedState)||(Pr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),f.lastRenderedState=P}return[P,v]}function Co(l,c,f){var v=ke,S=nn(),P=yn;if(P){if(f===void 0)throw Error(i(407));f=f()}else f=c();var Y=!sr((Le||S).memoizedState,f);if(Y&&(S.memoizedState=f,Pr=!0),S=S.queue,jd(Al.bind(null,v,S,l),[l]),S.getSnapshot!==c||Y||be!==null&&be.memoizedState.tag&1){if(v.flags|=2048,El(9,qo.bind(null,v,S,f,c),{destroy:void 0},null),Jn===null)throw Error(i(349));P||(Ae&60)!==0||Yi(v,c,f)}return f}function Yi(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=ke.updateQueue,c===null?(c=vr(),ke.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function qo(l,c,f,v){c.value=f,c.getSnapshot=v,du(c)&&Ta(l)}function Al(l,c,f){return f(function(){du(c)&&Ta(l)})}function du(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!sr(l,f)}catch{return!0}}function Ta(l){var c=Ls(l,2);c!==null&&Ns(c,l,2)}function Zn(l){var c=jn();if(typeof l=="function"){var f=l;if(l=f(),Xe){ln(!0);try{f()}finally{ln(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:l},c}function tf(l,c,f,v){return l.baseState=f,yr(l,Le,typeof v=="function"?v:zn)}function _v(l,c,f,v,S){if(cf(l))throw Error(i(485));if(l=c.action,l!==null){var P={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){P.listeners.push(Y)}};V.T!==null?f(!0):P.isTransition=!1,v(P),f=c.pending,f===null?(P.next=c.pending=P,Xp(c,P)):(P.next=f.next,c.pending=f.next=P)}}function Xp(l,c){var f=c.action,v=c.payload,S=l.state;if(c.isTransition){var P=V.T,Y={};V.T=Y;try{var ae=f(S,v),ge=V.S;ge!==null&&ge(Y,ae),Id(l,c,ae)}catch(Ee){wc(l,c,Ee)}finally{V.T=P}}else try{P=f(S,v),Id(l,c,P)}catch(Ee){wc(l,c,Ee)}}function Id(l,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){Cc(l,c,v)},function(v){return wc(l,c,v)}):Cc(l,c,f)}function Cc(l,c,f){c.status="fulfilled",c.value=f,$s(c),l.state=f,c=l.pending,c!==null&&(f=c.next,f===c?l.pending=null:(f=f.next,c.next=f,Xp(l,f)))}function wc(l,c,f){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=f,$s(c),c=c.next;while(c!==v)}l.action=null}function $s(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function hu(l,c){return c}function fu(l,c){if(yn){var f=Jn.formState;if(f!==null){e:{var v=ke;if(yn){if(mr){t:{for(var S=mr,P=zo;S.nodeType!==8;){if(!P){S=null;break t}if(S=Oa(S.nextSibling),S===null){S=null;break t}}P=S.data,S=P==="F!"||P==="F"?S:null}if(S){mr=Oa(S.nextSibling),v=S.data==="F!";break e}}Aa(v)}v=!1}v&&(c=f[0])}}return f=jn(),f.memoizedState=f.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:c},f.queue=v,f=Wv.bind(null,ke,v),v.dispatch=f,v=Zn(!1),P=Pl.bind(null,ke,!1,v.queue),v=jn(),S={state:c,dispatch:null,action:l,pending:null},v.queue=S,f=_v.bind(null,ke,S,P,f),S.dispatch=f,v.memoizedState=l,[c,f,!1]}function Zp(l){var c=nn();return _d(c,Le,l)}function _d(l,c,f){c=yr(l,c,hu)[0],l=Ii(zn)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?mn(c):c;var v=nn(),S=v.queue,P=S.dispatch;return f!==v.memoizedState&&(ke.flags|=2048,El(9,Bv.bind(null,S,f),{destroy:void 0},null)),[c,P,l]}function Bv(l,c){l.action=c}function Bd(l){var c=nn(),f=Le;if(f!==null)return _d(c,f,l);nn(),c=c.memoizedState,f=nn();var v=f.queue.dispatch;return f.memoizedState=l,[c,v,!1]}function El(l,c,f,v){return l={tag:l,create:c,inst:f,deps:v,next:null},c=ke.updateQueue,c===null&&(c=vr(),ke.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=l.next=l:(v=f.next,f.next=l,l.next=v,c.lastEffect=l),l}function Hd(){return nn().memoizedState}function Tl(l,c,f,v){var S=jn();ke.flags|=l,S.memoizedState=El(1|c,f,{destroy:void 0},v===void 0?null:v)}function nf(l,c,f,v){var S=nn();v=v===void 0?null:v;var P=S.memoizedState.inst;Le!==null&&v!==null&&gn(v,Le.memoizedState.deps)?S.memoizedState=El(c,f,P,v):(ke.flags|=l,S.memoizedState=El(1|c,f,P,v))}function Hv(l,c){Tl(8390656,8,l,c)}function jd(l,c){nf(2048,8,l,c)}function Pa(l,c){return nf(4,2,l,c)}function jv(l,c){return nf(4,4,l,c)}function Gv(l,c){if(typeof c=="function"){l=l();var f=c(l);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Vv(l,c,f){f=f!=null?f.concat([l]):null,nf(4,4,Gv.bind(null,c,l),f)}function rf(){}function Gd(l,c){var f=nn();c=c===void 0?null:c;var v=f.memoizedState;return c!==null&&gn(c,v[1])?v[0]:(f.memoizedState=[l,c],l)}function Jp(l,c){var f=nn();c=c===void 0?null:c;var v=f.memoizedState;if(c!==null&&gn(c,v[1]))return v[0];if(v=l(),Xe){ln(!0);try{l()}finally{ln(!1)}}return f.memoizedState=[v,c],v}function sf(l,c,f){return f===void 0||(Ae&1073741824)!==0?l.memoizedState=c:(l.memoizedState=f,l=lT(),ke.lanes|=l,Oc|=l,f)}function Vd(l,c,f,v){return sr(f,c)?f:bc.current!==null?(l=sf(l,f,v),sr(l,c)||(Pr=!0),l):(Ae&42)===0?(Pr=!0,l.memoizedState=f):(l=lT(),ke.lanes|=l,Oc|=l,c)}function of(l,c,f,v,S){var P=Z.p;Z.p=P!==0&&8>P?P:8;var Y=V.T,ae={};V.T=ae,Pl(l,!1,c,f);try{var ge=S(),Ee=V.S;if(Ee!==null&&Ee(ae,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var We=se(ge,v);Sc(l,c,We,Eo(l))}else Sc(l,c,v,Eo(l))}catch(tt){Sc(l,c,{then:function(){},status:"rejected",reason:tt},Eo())}finally{Z.p=P,V.T=Y}}function zd(){}function af(l,c,f,v){if(l.tag!==5)throw Error(i(476));var S=zv(l).queue;of(l,S,c,re,f===null?zd:function(){return qd(l),f(v)})}function zv(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:re},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:f},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function qd(l){var c=zv(l).next.queue;Sc(l,c,{},Eo())}function lf(){return os(wg)}function uf(){return nn().memoizedState}function Da(){return nn().memoizedState}function qv(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var f=Eo();l=Pc(f);var v=Dc(c,l,f);v!==null&&(Ns(v,c,f),rg(v,c,f)),c={cache:ef()},l.payload=c;return}c=c.return}}function Uv(l,c,f){var v=Eo();f={lane:v,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},cf(l)?eg(c,f):(f=ou(l,c,f,v),f!==null&&(Ns(f,l,v),$v(f,c,v)))}function Wv(l,c,f){var v=Eo();Sc(l,c,f,v)}function Sc(l,c,f,v){var S={lane:v,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(cf(l))eg(c,S);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var Y=c.lastRenderedState,ae=P(Y,f);if(S.hasEagerState=!0,S.eagerState=ae,sr(ae,Y))return zs(l,c,S,0),Jn===null&&gi(),!1}catch{}finally{}if(f=ou(l,c,S,v),f!==null)return Ns(f,l,v),$v(f,c,v),!0}return!1}function Pl(l,c,f,v){if(v={lane:2,revertLane:uw(),action:v,hasEagerState:!1,eagerState:null,next:null},cf(l)){if(c)throw Error(i(479))}else c=ou(l,f,v,2),c!==null&&Ns(c,l,2)}function cf(l){var c=l.alternate;return l===ke||c!==null&&c===ke}function eg(l,c){Ue=xe=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function $v(l,c,f){if((f&4194176)!==0){var v=c.lanes;v&=l.pendingLanes,f|=v,c.lanes=f,Ui(l,f)}}var wo={readContext:os,use:Tr,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt};wo.useCacheRefresh=rt,wo.useMemoCache=rt,wo.useHostTransitionStatus=rt,wo.useFormState=rt,wo.useActionState=rt,wo.useOptimistic=rt;var pu={readContext:os,use:Tr,useCallback:function(l,c){return jn().memoizedState=[l,c===void 0?null:c],l},useContext:os,useEffect:Hv,useImperativeHandle:function(l,c,f){f=f!=null?f.concat([l]):null,Tl(4194308,4,Gv.bind(null,c,l),f)},useLayoutEffect:function(l,c){return Tl(4194308,4,l,c)},useInsertionEffect:function(l,c){Tl(4,2,l,c)},useMemo:function(l,c){var f=jn();c=c===void 0?null:c;var v=l();if(Xe){ln(!0);try{l()}finally{ln(!1)}}return f.memoizedState=[v,c],v},useReducer:function(l,c,f){var v=jn();if(f!==void 0){var S=f(c);if(Xe){ln(!0);try{f(c)}finally{ln(!1)}}}else S=c;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=Uv.bind(null,ke,l),[v.memoizedState,l]},useRef:function(l){var c=jn();return l={current:l},c.memoizedState=l},useState:function(l){l=Zn(l);var c=l.queue,f=Wv.bind(null,ke,c);return c.dispatch=f,[l.memoizedState,f]},useDebugValue:rf,useDeferredValue:function(l,c){var f=jn();return sf(f,l,c)},useTransition:function(){var l=Zn(!1);return l=of.bind(null,ke,l.queue,!0,!1),jn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,f){var v=ke,S=jn();if(yn){if(f===void 0)throw Error(i(407));f=f()}else{if(f=c(),Jn===null)throw Error(i(349));(bn&60)!==0||Yi(v,c,f)}S.memoizedState=f;var P={value:f,getSnapshot:c};return S.queue=P,Hv(Al.bind(null,v,P,l),[l]),v.flags|=2048,El(9,qo.bind(null,v,P,f,c),{destroy:void 0},null),f},useId:function(){var l=jn(),c=Jn.identifierPrefix;if(yn){var f=mo,v=go;f=(v&~(1<<32-En(v)-1)).toString(32)+f,c=":"+c+"R"+f,f=Ke++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=kt++,c=":"+c+"r"+f.toString(32)+":";return l.memoizedState=c},useCacheRefresh:function(){return jn().memoizedState=qv.bind(null,ke)}};pu.useMemoCache=Gr,pu.useHostTransitionStatus=lf,pu.useFormState=fu,pu.useActionState=fu,pu.useOptimistic=function(l){var c=jn();c.memoizedState=c.baseState=l;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=Pl.bind(null,ke,!0,f),f.dispatch=c,[l,c]};var Ks={readContext:os,use:Tr,useCallback:Gd,useContext:os,useEffect:jd,useImperativeHandle:Vv,useInsertionEffect:Pa,useLayoutEffect:jv,useMemo:Jp,useReducer:Ii,useRef:Hd,useState:function(){return Ii(zn)},useDebugValue:rf,useDeferredValue:function(l,c){var f=nn();return Vd(f,Le.memoizedState,l,c)},useTransition:function(){var l=Ii(zn)[0],c=nn().memoizedState;return[typeof l=="boolean"?l:mn(l),c]},useSyncExternalStore:Co,useId:uf};Ks.useCacheRefresh=Da,Ks.useMemoCache=Gr,Ks.useHostTransitionStatus=lf,Ks.useFormState=Zp,Ks.useActionState=Zp,Ks.useOptimistic=function(l,c){var f=nn();return tf(f,Le,l,c)};var Fa={readContext:os,use:Tr,useCallback:Gd,useContext:os,useEffect:jd,useImperativeHandle:Vv,useInsertionEffect:Pa,useLayoutEffect:jv,useMemo:Jp,useReducer:ss,useRef:Hd,useState:function(){return ss(zn)},useDebugValue:rf,useDeferredValue:function(l,c){var f=nn();return Le===null?sf(f,l,c):Vd(f,Le.memoizedState,l,c)},useTransition:function(){var l=ss(zn)[0],c=nn().memoizedState;return[typeof l=="boolean"?l:mn(l),c]},useSyncExternalStore:Co,useId:uf};Fa.useCacheRefresh=Da,Fa.useMemoCache=Gr,Fa.useHostTransitionStatus=lf,Fa.useFormState=Bd,Fa.useActionState=Bd,Fa.useOptimistic=function(l,c){var f=nn();return Le!==null?tf(f,Le,l,c):(f.baseState=l,[l,f.queue.dispatch])};function xc(l,c,f,v){c=l.memoizedState,f=f(v,c),f=f==null?c:K({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var So={isMounted:function(l){return(l=l._reactInternals)?Q(l)===l:!1},enqueueSetState:function(l,c,f){l=l._reactInternals;var v=Eo(),S=Pc(v);S.payload=c,f!=null&&(S.callback=f),c=Dc(l,S,v),c!==null&&(Ns(c,l,v),rg(c,l,v))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var v=Eo(),S=Pc(v);S.tag=1,S.payload=c,f!=null&&(S.callback=f),c=Dc(l,S,v),c!==null&&(Ns(c,l,v),rg(c,l,v))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=Eo(),v=Pc(f);v.tag=2,c!=null&&(v.callback=c),c=Dc(l,v,f),c!==null&&(Ns(c,l,f),rg(c,l,f))}};function La(l,c,f,v,S,P,Y){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,P,Y):c.prototype&&c.prototype.isPureReactComponent?!pl(f,v)||!pl(S,P):!0}function Ma(l,c,f,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==l&&So.enqueueReplaceState(c,c.state,null)}function Uo(l,c){var f=c;if("ref"in c){f={};for(var v in c)v!=="ref"&&(f[v]=c[v])}if(l=l.defaultProps){f===c&&(f=K({},f));for(var S in l)f[S]===void 0&&(f[S]=l[S])}return f}var Rc=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function tg(l){Rc(l)}function Kv(l){console.error(l)}function df(l){Rc(l)}function Ac(l,c){try{var f=l.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function wE(l,c,f){try{var v=l.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function x0(l,c,f){return f=Pc(f),f.tag=3,f.payload={element:null},f.callback=function(){Ac(l,c)},f}function SE(l){return l=Pc(l),l.tag=3,l}function xE(l,c,f,v){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var P=v.value;l.payload=function(){return S(P)},l.callback=function(){wE(c,f,v)}}var Y=f.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(l.callback=function(){wE(c,f,v),typeof S!="function"&&(kc===null?kc=new Set([this]):kc.add(this));var ae=v.stack;this.componentDidCatch(v.value,{componentStack:ae!==null?ae:""})})}function k8(l,c,f,v,S){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=f.alternate,c!==null&&ig(c,f,S,!0),f=Ws.current,f!==null){switch(f.tag){case 13:return bo===null?rw():f.alternate===null&&Bi===0&&(Bi=3),f.flags&=-257,f.flags|=65536,f.lanes=S,v===$p?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([v]):c.add(v),ow(l,v,S)),!1;case 22:return f.flags|=65536,v===$p?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([v]):f.add(v)),ow(l,v,S)),!1}throw Error(i(435,f.tag))}return ow(l,v,S),rw(),!1}if(yn)return c=Ws.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==Wp&&(l=Error(i(422),{cause:v}),yc(ai(l,f)))):(v!==Wp&&(c=Error(i(423),{cause:v}),yc(ai(c,f))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=ai(v,f),S=x0(l.stateNode,v,S),B0(l,S),Bi!==4&&(Bi=2)),!1;var P=Error(i(520),{cause:v});if(P=ai(P,f),hg===null?hg=[P]:hg.push(P),Bi!==4&&(Bi=2),c===null)return!0;v=ai(v,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,l=S&-S,f.lanes|=l,l=x0(f.stateNode,v,l),B0(f,l),!1;case 1:if(c=f.type,P=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(kc===null||!kc.has(P))))return f.flags|=65536,S&=-S,f.lanes|=S,S=SE(S),xE(S,l,f,v),B0(f,S),!1}f=f.return}while(f!==null);return!1}var RE=Error(i(461)),Pr=!1;function Vr(l,c,f,v){c.child=l===null?Qp(c,null,f,v):Sl(c,l.child,f,v)}function AE(l,c,f,v,S){f=f.render;var P=c.ref;if("ref"in v){var Y={};for(var ae in v)ae!=="ref"&&(Y[ae]=v[ae])}else Y=v;return Wd(c),v=Sn(l,c,f,Y,P,S),ae=xn(),l!==null&&!Pr?($t(l,c,S),gu(l,c,S)):(yn&&ae&&qp(c),c.flags|=1,Vr(l,c,v,S),c.child)}function EE(l,c,f,v,S){if(l===null){var P=f.type;return typeof P=="function"&&!W0(P)&&P.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=P,TE(l,c,P,v,S)):(l=Jv(f.type,null,v,c,c.mode,S),l.ref=c.ref,l.return=c,c.child=l)}if(P=l.child,!M0(l,S)){var Y=P.memoizedProps;if(f=f.compare,f=f!==null?f:pl,f(Y,v)&&l.ref===c.ref)return gu(l,c,S)}return c.flags|=1,l=Nc(P,v),l.ref=c.ref,l.return=c,c.child=l}function TE(l,c,f,v,S){if(l!==null){var P=l.memoizedProps;if(pl(P,v)&&l.ref===c.ref)if(Pr=!1,c.pendingProps=v=P,M0(l,S))(l.flags&131072)!==0&&(Pr=!0);else return c.lanes=l.lanes,gu(l,c,S)}return R0(l,c,f,v,S)}function PE(l,c,f){var v=c.pendingProps,S=v.children,P=(c.stateNode._pendingVisibility&2)!==0,Y=l!==null?l.memoizedState:null;if(ng(l,c),v.mode==="hidden"||P){if((c.flags&128)!==0){if(v=Y!==null?Y.baseLanes|f:f,l!==null){for(S=c.child=l.child,P=0;S!==null;)P=P|S.lanes|S.childLanes,S=S.sibling;c.childLanes=P&~v}else c.childLanes=0,c.child=null;return DE(l,c,v,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&Fe(c,Y!==null?Y.cachePool:null),Y!==null?Od(c,Y):cu(),kv(c);else return c.lanes=c.childLanes=536870912,DE(l,c,Y!==null?Y.baseLanes|f:f,f)}else Y!==null?(Fe(c,Y.cachePool),Od(c,Y),Rl(),c.memoizedState=null):(l!==null&&Fe(c,null),cu(),Rl());return Vr(l,c,S,f),c.child}function DE(l,c,f,v){var S=we();return S=S===null?null:{parent:Ki._currentValue,pool:S},c.memoizedState={baseLanes:f,cachePool:S},l!==null&&Fe(c,null),cu(),kv(c),l!==null&&ig(l,c,v,!0),null}function ng(l,c){var f=c.ref;if(f===null)l!==null&&l.ref!==null&&(c.flags|=2097664);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(l===null||l.ref!==f)&&(c.flags|=2097664)}}function R0(l,c,f,v,S){return Wd(c),f=Sn(l,c,f,v,void 0,S),v=xn(),l!==null&&!Pr?($t(l,c,S),gu(l,c,S)):(yn&&v&&qp(c),c.flags|=1,Vr(l,c,f,S),c.child)}function FE(l,c,f,v,S,P){return Wd(c),c.updateQueue=null,f=an(c,v,f,S),pn(l),v=xn(),l!==null&&!Pr?($t(l,c,P),gu(l,c,P)):(yn&&v&&qp(c),c.flags|=1,Vr(l,c,f,P),c.child)}function LE(l,c,f,v,S){if(Wd(c),c.stateNode===null){var P=Sa,Y=f.contextType;typeof Y=="object"&&Y!==null&&(P=os(Y)),P=new f(v,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=So,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=v,P.state=c.memoizedState,P.refs={},I0(c),Y=f.contextType,P.context=typeof Y=="object"&&Y!==null?os(Y):Sa,P.state=c.memoizedState,Y=f.getDerivedStateFromProps,typeof Y=="function"&&(xc(c,f,Y,v),P.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(Y=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),Y!==P.state&&So.enqueueReplaceState(P,P.state,null),og(c,v,P,S),sg(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(l===null){P=c.stateNode;var ae=c.memoizedProps,ge=Uo(f,ae);P.props=ge;var Ee=P.context,We=f.contextType;Y=Sa,typeof We=="object"&&We!==null&&(Y=os(We));var tt=f.getDerivedStateFromProps;We=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function",ae=c.pendingProps!==ae,We||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae||Ee!==Y)&&Ma(c,P,v,Y),Tc=!1;var Ie=c.memoizedState;P.state=Ie,og(c,v,P,S),sg(),Ee=c.memoizedState,ae||Ie!==Ee||Tc?(typeof tt=="function"&&(xc(c,f,tt,v),Ee=c.memoizedState),(ge=Tc||La(c,f,ge,v,Ie,Ee,Y))?(We||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Ee),P.props=v,P.state=Ee,P.context=Y,v=ge):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{P=c.stateNode,_0(l,c),Y=c.memoizedProps,We=Uo(f,Y),P.props=We,tt=c.pendingProps,Ie=P.context,Ee=f.contextType,ge=Sa,typeof Ee=="object"&&Ee!==null&&(ge=os(Ee)),ae=f.getDerivedStateFromProps,(Ee=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Y!==tt||Ie!==ge)&&Ma(c,P,v,ge),Tc=!1,Ie=c.memoizedState,P.state=Ie,og(c,v,P,S),sg();var qe=c.memoizedState;Y!==tt||Ie!==qe||Tc||l!==null&&l.dependencies!==null&&Yv(l.dependencies)?(typeof ae=="function"&&(xc(c,f,ae,v),qe=c.memoizedState),(We=Tc||La(c,f,We,v,Ie,qe,ge)||l!==null&&l.dependencies!==null&&Yv(l.dependencies))?(Ee||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,qe,ge),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,qe,ge)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||Y===l.memoizedProps&&Ie===l.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&Ie===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=qe),P.props=v,P.state=qe,P.context=ge,v=We):(typeof P.componentDidUpdate!="function"||Y===l.memoizedProps&&Ie===l.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&Ie===l.memoizedState||(c.flags|=1024),v=!1)}return P=v,ng(l,c),v=(c.flags&128)!==0,P||v?(P=c.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,l!==null&&v?(c.child=Sl(c,l.child,null,S),c.child=Sl(c,null,f,S)):Vr(l,c,f,S),c.memoizedState=P.state,l=c.child):l=gu(l,c,S),l}function ME(l,c,f,v){return Ld(),c.flags|=256,Vr(l,c,f,v),c.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function E0(l){return{baseLanes:l,cachePool:Me()}}function T0(l,c,f){return l=l!==null?l.childLanes&~f:0,c&&(l|=Yo),l}function NE(l,c,f){var v=c.pendingProps,S=!1,P=(c.flags&128)!==0,Y;if((Y=P)||(Y=l!==null&&l.memoizedState===null?!1:($i.current&2)!==0),Y&&(S=!0,c.flags&=-129),Y=(c.flags&32)!==0,c.flags&=-33,l===null){if(yn){if(S?xl(c):Rl(),yn){var ae=mr,ge;if(ge=ae){e:{for(ge=ae,ae=zo;ge.nodeType!==8;){if(!ae){ae=null;break e}if(ge=Oa(ge.nextSibling),ge===null){ae=null;break e}}ae=ge}ae!==null?(c.memoizedState={dehydrated:ae,treeContext:wl!==null?{id:go,overflow:mo}:null,retryLane:536870912},ge=Ko(18,null,null,0),ge.stateNode=ae,ge.return=c,c.child=ge,Er=c,mr=null,ge=!0):ge=!1}ge||Aa(c)}if(ae=c.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return ae.data==="$!"?c.lanes=16:c.lanes=536870912,null;Ea(c)}return ae=v.children,v=v.fallback,S?(Rl(),S=c.mode,ae=D0({mode:"hidden",children:ae},S),v=Kd(v,S,f,null),ae.return=c,v.return=c,ae.sibling=v,c.child=ae,S=c.child,S.memoizedState=E0(f),S.childLanes=T0(l,Y,f),c.memoizedState=A0,v):(xl(c),P0(c,ae))}if(ge=l.memoizedState,ge!==null&&(ae=ge.dehydrated,ae!==null)){if(P)c.flags&256?(xl(c),c.flags&=-257,c=F0(l,c,f)):c.memoizedState!==null?(Rl(),c.child=l.child,c.flags|=128,c=null):(Rl(),S=v.fallback,ae=c.mode,v=D0({mode:"visible",children:v.children},ae),S=Kd(S,ae,f,null),S.flags|=2,v.return=c,S.return=c,v.sibling=S,c.child=v,Sl(c,l.child,null,f),v=c.child,v.memoizedState=E0(f),v.childLanes=T0(l,Y,f),c.memoizedState=A0,c=S);else if(xl(c),ae.data==="$!"){if(Y=ae.nextSibling&&ae.nextSibling.dataset,Y)var Ee=Y.dgst;Y=Ee,v=Error(i(419)),v.stack="",v.digest=Y,yc({value:v,source:null,stack:null}),c=F0(l,c,f)}else if(Pr||ig(l,c,f,!1),Y=(f&l.childLanes)!==0,Pr||Y){if(Y=Jn,Y!==null){if(v=f&-f,(v&42)!==0)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=(v&(Y.suspendedLanes|f))!==0?0:v,v!==0&&v!==ge.retryLane)throw ge.retryLane=v,Ls(l,v),Ns(Y,l,v),RE}ae.data==="$?"||rw(),c=F0(l,c,f)}else ae.data==="$?"?(c.flags|=128,c.child=l.child,c=Q8.bind(null,l),ae._reactRetry=c,c=null):(l=ge.treeContext,mr=Oa(ae.nextSibling),Er=c,yn=!0,vo=null,zo=!1,l!==null&&(Hr[rs++]=go,Hr[rs++]=mo,Hr[rs++]=wl,go=l.id,mo=l.overflow,wl=c),c=P0(c,v.children),c.flags|=4096);return c}return S?(Rl(),S=v.fallback,ae=c.mode,ge=l.child,Ee=ge.sibling,v=Nc(ge,{mode:"hidden",children:v.children}),v.subtreeFlags=ge.subtreeFlags&31457280,Ee!==null?S=Nc(Ee,S):(S=Kd(S,ae,f,null),S.flags|=2),S.return=c,v.return=c,v.sibling=S,c.child=v,v=S,S=c.child,ae=l.child.memoizedState,ae===null?ae=E0(f):(ge=ae.cachePool,ge!==null?(Ee=Ki._currentValue,ge=ge.parent!==Ee?{parent:Ee,pool:Ee}:ge):ge=Me(),ae={baseLanes:ae.baseLanes|f,cachePool:ge}),S.memoizedState=ae,S.childLanes=T0(l,Y,f),c.memoizedState=A0,v):(xl(c),f=l.child,l=f.sibling,f=Nc(f,{mode:"visible",children:v.children}),f.return=c,f.sibling=null,l!==null&&(Y=c.deletions,Y===null?(c.deletions=[l],c.flags|=16):Y.push(l)),c.child=f,c.memoizedState=null,f)}function P0(l,c){return c=D0({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function D0(l,c){return sT(l,c,0,null)}function F0(l,c,f){return Sl(c,l.child,null,f),l=P0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function OE(l,c,f){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),O0(l.return,c,f)}function L0(l,c,f,v,S){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:S}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=v,P.tail=f,P.tailMode=S)}function kE(l,c,f){var v=c.pendingProps,S=v.revealOrder,P=v.tail;if(Vr(l,c,v.children,f),v=$i.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&OE(l,f,c);else if(l.tag===19)OE(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(Oe($i,v),S){case"forwards":for(f=c.child,S=null;f!==null;)l=f.alternate,l!==null&&Zh(l)===null&&(S=f),f=f.sibling;f=S,f===null?(S=c.child,c.child=null):(S=f.sibling,f.sibling=null),L0(c,!1,S,f,P);break;case"backwards":for(f=null,S=c.child,c.child=null;S!==null;){if(l=S.alternate,l!==null&&Zh(l)===null){c.child=S;break}l=S.sibling,S.sibling=f,f=S,S=l}L0(c,!0,f,null,P);break;case"together":L0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function gu(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),Oc|=c.lanes,(f&c.childLanes)===0)if(l!==null){if(ig(l,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(i(153));if(c.child!==null){for(l=c.child,f=Nc(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=Nc(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function M0(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Yv(l)))}function I8(l,c,f){switch(c.tag){case 3:De(c,c.stateNode.containerInfo),Ec(c,Ki,l.memoizedState.cache),Ld();break;case 27:case 5:ct(c);break;case 4:De(c,c.stateNode.containerInfo);break;case 10:Ec(c,c.type,c.memoizedProps.value);break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(xl(c),c.flags|=128,null):(f&c.child.childLanes)!==0?NE(l,c,f):(xl(c),l=gu(l,c,f),l!==null?l.sibling:null);xl(c);break;case 19:var S=(l.flags&128)!==0;if(v=(f&c.childLanes)!==0,v||(ig(l,c,f,!1),v=(f&c.childLanes)!==0),S){if(v)return kE(l,c,f);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Oe($i,$i.current),v)break;return null;case 22:case 23:return c.lanes=0,PE(l,c,f);case 24:Ec(c,Ki,l.memoizedState.cache)}return gu(l,c,f)}function IE(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps)Pr=!0;else{if(!M0(l,f)&&(c.flags&128)===0)return Pr=!1,I8(l,c,f);Pr=(l.flags&131072)!==0}else Pr=!1,yn&&(c.flags&1048576)!==0&&Yh(c,au,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var v=c.elementType,S=v._init;if(v=S(v._payload),c.type=v,typeof v=="function")W0(v)?(l=Uo(v,l),c.tag=1,c=LE(null,c,v,l,f)):(c.tag=0,c=R0(null,c,v,l,f));else{if(v!=null){if(S=v.$$typeof,S===y){c.tag=11,c=AE(null,c,v,l,f);break e}else if(S===C){c.tag=14,c=EE(null,c,v,l,f);break e}}throw c=k(v)||v,Error(i(306,c,""))}}return c;case 0:return R0(l,c,c.type,c.pendingProps,f);case 1:return v=c.type,S=Uo(v,c.pendingProps),LE(l,c,v,S,f);case 3:e:{if(De(c,c.stateNode.containerInfo),l===null)throw Error(i(387));var P=c.pendingProps;S=c.memoizedState,v=S.element,_0(l,c),og(c,P,null,f);var Y=c.memoizedState;if(P=Y.cache,Ec(c,Ki,P),P!==S.cache&&k0(c,[Ki],f,!0),sg(),P=Y.element,S.isDehydrated)if(S={element:P,isDehydrated:!1,cache:Y.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=ME(l,c,P,f);break e}else if(P!==v){v=ai(Error(i(424)),c),yc(v),c=ME(l,c,P,f);break e}else for(mr=Oa(c.stateNode.containerInfo.firstChild),Er=c,yn=!0,vo=null,zo=!0,f=Qp(c,null,P,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ld(),P===v){c=gu(l,c,f);break e}Vr(l,c,P,f)}c=c.child}return c;case 26:return ng(l,c),l===null?(f=HT(c.type,null,c.pendingProps,null))?c.memoizedState=f:yn||(f=c.type,l=c.pendingProps,v=dy(Be.current).createElement(f),v[Dn]=c,v[Fn]=l,zr(v,f,l),Qn(v),c.stateNode=v):c.memoizedState=HT(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return ct(c),l===null&&yn&&(v=c.stateNode=IT(c.type,c.pendingProps,Be.current),Er=c,zo=!0,mr=Oa(v.firstChild)),v=c.pendingProps.children,l!==null||yn?Vr(l,c,v,f):c.child=Sl(c,null,v,f),ng(l,c),c.child;case 5:return l===null&&yn&&((S=v=mr)&&(v=h7(v,c.type,c.pendingProps,zo),v!==null?(c.stateNode=v,Er=c,mr=Oa(v.firstChild),zo=!1,S=!0):S=!1),S||Aa(c)),ct(c),S=c.type,P=c.pendingProps,Y=l!==null?l.memoizedProps:null,v=P.children,yw(S,P)?v=null:Y!==null&&yw(S,Y)&&(c.flags|=32),c.memoizedState!==null&&(S=Sn(l,c,Hn,null,null,f),wg._currentValue=S),ng(l,c),Vr(l,c,v,f),c.child;case 6:return l===null&&yn&&((l=f=mr)&&(f=f7(f,c.pendingProps,zo),f!==null?(c.stateNode=f,Er=c,mr=null,l=!0):l=!1),l||Aa(c)),null;case 13:return NE(l,c,f);case 4:return De(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Sl(c,null,v,f):Vr(l,c,v,f),c.child;case 11:return AE(l,c,c.type,c.pendingProps,f);case 7:return Vr(l,c,c.pendingProps,f),c.child;case 8:return Vr(l,c,c.pendingProps.children,f),c.child;case 12:return Vr(l,c,c.pendingProps.children,f),c.child;case 10:return v=c.pendingProps,Ec(c,c.type,v.value),Vr(l,c,v.children,f),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,Wd(c),S=os(S),v=v(S),c.flags|=1,Vr(l,c,v,f),c.child;case 14:return EE(l,c,c.type,c.pendingProps,f);case 15:return TE(l,c,c.type,c.pendingProps,f);case 19:return kE(l,c,f);case 22:return PE(l,c,f);case 24:return Wd(c),v=os(Ki),l===null?(S=we(),S===null&&(S=Jn,P=ef(),S.pooledCache=P,P.refCount++,P!==null&&(S.pooledCacheLanes|=f),S=P),c.memoizedState={parent:v,cache:S},I0(c),Ec(c,Ki,S)):((l.lanes&f)!==0&&(_0(l,c),og(c,null,null,f),sg()),S=l.memoizedState,P=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),Ec(c,Ki,v)):(v=P.cache,Ec(c,Ki,v),v!==S.cache&&k0(c,[Ki],f,!0))),Vr(l,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}var N0=me(null),Ud=null,mu=null;function Ec(l,c,f){Oe(N0,c._currentValue),c._currentValue=f}function vu(l){l._currentValue=N0.current,Se(N0)}function O0(l,c,f){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===f)break;l=l.return}}function k0(l,c,f,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var P=S.dependencies;if(P!==null){var Y=S.child;P=P.firstContext;e:for(;P!==null;){var ae=P;P=S;for(var ge=0;ge<c.length;ge++)if(ae.context===c[ge]){P.lanes|=f,ae=P.alternate,ae!==null&&(ae.lanes|=f),O0(P.return,f,l),v||(Y=null);break e}P=ae.next}}else if(S.tag===18){if(Y=S.return,Y===null)throw Error(i(341));Y.lanes|=f,P=Y.alternate,P!==null&&(P.lanes|=f),O0(Y,f,l),Y=null}else Y=S.child;if(Y!==null)Y.return=S;else for(Y=S;Y!==null;){if(Y===l){Y=null;break}if(S=Y.sibling,S!==null){S.return=Y.return,Y=S;break}Y=Y.return}S=Y}}function ig(l,c,f,v){l=null;for(var S=c,P=!1;S!==null;){if(!P){if((S.flags&524288)!==0)P=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var Y=S.alternate;if(Y===null)throw Error(i(387));if(Y=Y.memoizedProps,Y!==null){var ae=S.type;sr(S.pendingProps.value,Y.value)||(l!==null?l.push(ae):l=[ae])}}else if(S===it.current){if(Y=S.alternate,Y===null)throw Error(i(387));Y.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(wg):l=[wg])}S=S.return}l!==null&&k0(c,l,f,v),c.flags|=262144}function Yv(l){for(l=l.firstContext;l!==null;){if(!sr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Wd(l){Ud=l,mu=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function os(l){return _E(Ud,l)}function Qv(l,c){return Ud===null&&Wd(l),_E(l,c)}function _E(l,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},mu===null){if(l===null)throw Error(i(308));mu=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else mu=mu.next=c;return f}var Tc=!1;function I0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _0(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Pc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Dc(l,c,f){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Ri&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=mc(l),Pd(l,null,f),c}return zs(l,v,c,f),mc(l)}function rg(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194176)!==0)){var v=c.lanes;v&=l.pendingLanes,f|=v,c.lanes=f,Ui(l,f)}}function B0(l,c){var f=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var S=null,P=null;if(f=f.firstBaseUpdate,f!==null){do{var Y={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};P===null?S=P=Y:P=P.next=Y,f=f.next}while(f!==null);P===null?S=P=c:P=P.next=c}else S=P=c;f={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:v.shared,callbacks:v.callbacks},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}var H0=!1;function sg(){if(H0){var l=J;if(l!==null)throw l}}function og(l,c,f,v){H0=!1;var S=l.updateQueue;Tc=!1;var P=S.firstBaseUpdate,Y=S.lastBaseUpdate,ae=S.shared.pending;if(ae!==null){S.shared.pending=null;var ge=ae,Ee=ge.next;ge.next=null,Y===null?P=Ee:Y.next=Ee,Y=ge;var We=l.alternate;We!==null&&(We=We.updateQueue,ae=We.lastBaseUpdate,ae!==Y&&(ae===null?We.firstBaseUpdate=Ee:ae.next=Ee,We.lastBaseUpdate=ge))}if(P!==null){var tt=S.baseState;Y=0,We=Ee=ge=null,ae=P;do{var Ie=ae.lane&-536870913,qe=Ie!==ae.lane;if(qe?(bn&Ie)===Ie:(v&Ie)===Ie){Ie!==0&&Ie===G&&(H0=!0),We!==null&&(We=We.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Pt=l,Qt=ae;Ie=c;var Hi=f;switch(Qt.tag){case 1:if(Pt=Qt.payload,typeof Pt=="function"){tt=Pt.call(Hi,tt,Ie);break e}tt=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Qt.payload,Ie=typeof Pt=="function"?Pt.call(Hi,tt,Ie):Pt,Ie==null)break e;tt=K({},tt,Ie);break e;case 2:Tc=!0}}Ie=ae.callback,Ie!==null&&(l.flags|=64,qe&&(l.flags|=8192),qe=S.callbacks,qe===null?S.callbacks=[Ie]:qe.push(Ie))}else qe={lane:Ie,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},We===null?(Ee=We=qe,ge=tt):We=We.next=qe,Y|=Ie;if(ae=ae.next,ae===null){if(ae=S.shared.pending,ae===null)break;qe=ae,ae=qe.next,qe.next=null,S.lastBaseUpdate=qe,S.shared.pending=null}}while(!0);We===null&&(ge=tt),S.baseState=ge,S.firstBaseUpdate=Ee,S.lastBaseUpdate=We,P===null&&(S.shared.lanes=0),Oc|=Y,l.lanes=Y,l.memoizedState=tt}}function BE(l,c){if(typeof l!="function")throw Error(i(191,l));l.call(c)}function HE(l,c){var f=l.callbacks;if(f!==null)for(l.callbacks=null,l=0;l<f.length;l++)BE(f[l],c)}function ag(l,c){try{var f=c.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var S=v.next;f=S;do{if((f.tag&l)===l){v=void 0;var P=f.create,Y=f.inst;v=P(),Y.destroy=v}f=f.next}while(f!==S)}}catch(ae){$n(c,c.return,ae)}}function Fc(l,c,f){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var P=S.next;v=P;do{if((v.tag&l)===l){var Y=v.inst,ae=Y.destroy;if(ae!==void 0){Y.destroy=void 0,S=c;var ge=f;try{ae()}catch(Ee){$n(S,ge,Ee)}}}v=v.next}while(v!==P)}}catch(Ee){$n(c,c.return,Ee)}}function jE(l){var c=l.updateQueue;if(c!==null){var f=l.stateNode;try{HE(c,f)}catch(v){$n(l,l.return,v)}}}function GE(l,c,f){f.props=Uo(l.type,l.memoizedProps),f.state=l.memoizedState;try{f.componentWillUnmount()}catch(v){$n(l,c,v)}}function $d(l,c){try{var f=l.ref;if(f!==null){var v=l.stateNode;switch(l.tag){case 26:case 27:case 5:var S=v;break;default:S=v}typeof f=="function"?l.refCleanup=f(S):f.current=S}}catch(P){$n(l,c,P)}}function xo(l,c){var f=l.ref,v=l.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(S){$n(l,c,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){$n(l,c,S)}else f.current=null}function VE(l){var c=l.type,f=l.memoizedProps,v=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break e;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(S){$n(l,l.return,S)}}function zE(l,c,f){try{var v=l.stateNode;a7(v,l.type,f,c),v[Fn]=c}catch(S){$n(l,l.return,S)}}function qE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function j0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||qE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function G0(l,c,f){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(l,c):f.insertBefore(l,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(l,f)):(c=f,c.appendChild(l)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=cy));else if(v!==4&&v!==27&&(l=l.child,l!==null))for(G0(l,c,f),l=l.sibling;l!==null;)G0(l,c,f),l=l.sibling}function Xv(l,c,f){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(v!==4&&v!==27&&(l=l.child,l!==null))for(Xv(l,c,f),l=l.sibling;l!==null;)Xv(l,c,f),l=l.sibling}var yu=!1,_i=!1,V0=!1,UE=typeof WeakSet=="function"?WeakSet:Set,Dr=null,WE=!1;function _8(l,c){if(l=l.containerInfo,mw=vy,l=Br(l),pr(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var S=v.anchorOffset,P=v.focusNode;v=v.focusOffset;try{f.nodeType,P.nodeType}catch{f=null;break e}var Y=0,ae=-1,ge=-1,Ee=0,We=0,tt=l,Ie=null;t:for(;;){for(var qe;tt!==f||S!==0&&tt.nodeType!==3||(ae=Y+S),tt!==P||v!==0&&tt.nodeType!==3||(ge=Y+v),tt.nodeType===3&&(Y+=tt.nodeValue.length),(qe=tt.firstChild)!==null;)Ie=tt,tt=qe;for(;;){if(tt===l)break t;if(Ie===f&&++Ee===S&&(ae=Y),Ie===P&&++We===v&&(ge=Y),(qe=tt.nextSibling)!==null)break;tt=Ie,Ie=tt.parentNode}tt=qe}f=ae===-1||ge===-1?null:{start:ae,end:ge}}else f=null}f=f||{start:0,end:0}}else f=null;for(vw={focusedElem:l,selectionRange:f},vy=!1,Dr=c;Dr!==null;)if(c=Dr,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Dr=l;else for(;Dr!==null;){switch(c=Dr,P=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,f=c,S=P.memoizedProps,P=P.memoizedState,v=f.stateNode;try{var Pt=Uo(f.type,S,f.elementType===f.type);l=v.getSnapshotBeforeUpdate(Pt,P),v.__reactInternalSnapshotBeforeUpdate=l}catch(Qt){$n(f,f.return,Qt)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,f=l.nodeType,f===9)ww(l);else if(f===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":ww(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=c.sibling,l!==null){l.return=c.return,Dr=l;break}Dr=c.return}return Pt=WE,WE=!1,Pt}function $E(l,c,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:Cu(l,f),v&4&&ag(5,f);break;case 1:if(Cu(l,f),v&4)if(l=f.stateNode,c===null)try{l.componentDidMount()}catch(ae){$n(f,f.return,ae)}else{var S=Uo(f.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(S,c,l.__reactInternalSnapshotBeforeUpdate)}catch(ae){$n(f,f.return,ae)}}v&64&&jE(f),v&512&&$d(f,f.return);break;case 3:if(Cu(l,f),v&64&&(v=f.updateQueue,v!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{HE(v,l)}catch(ae){$n(f,f.return,ae)}}break;case 26:Cu(l,f),v&512&&$d(f,f.return);break;case 27:case 5:Cu(l,f),c===null&&v&4&&VE(f),v&512&&$d(f,f.return);break;case 12:Cu(l,f);break;case 13:Cu(l,f),v&4&&QE(l,f);break;case 22:if(S=f.memoizedState!==null||yu,!S){c=c!==null&&c.memoizedState!==null||_i;var P=yu,Y=_i;yu=S,(_i=c)&&!Y?Lc(l,f,(f.subtreeFlags&8772)!==0):Cu(l,f),yu=P,_i=Y}v&512&&(f.memoizedProps.mode==="manual"?$d(f,f.return):xo(f,f.return));break;default:Cu(l,f)}}function KE(l){var c=l.alternate;c!==null&&(l.alternate=null,KE(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Bs(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var or=null,Ro=!1;function bu(l,c,f){for(f=f.child;f!==null;)YE(l,c,f),f=f.sibling}function YE(l,c,f){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Zt,f)}catch{}switch(f.tag){case 26:_i||xo(f,c),bu(l,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:_i||xo(f,c);var v=or,S=Ro;for(or=f.stateNode,bu(l,c,f),f=f.stateNode,c=f.attributes;c.length;)f.removeAttributeNode(c[0]);Bs(f),or=v,Ro=S;break;case 5:_i||xo(f,c);case 6:S=or;var P=Ro;if(or=null,bu(l,c,f),or=S,Ro=P,or!==null)if(Ro)try{l=or,v=f.stateNode,l.nodeType===8?l.parentNode.removeChild(v):l.removeChild(v)}catch(Y){$n(f,c,Y)}else try{or.removeChild(f.stateNode)}catch(Y){$n(f,c,Y)}break;case 18:or!==null&&(Ro?(c=or,f=f.stateNode,c.nodeType===8?Cw(c.parentNode,f):c.nodeType===1&&Cw(c,f),Ag(c)):Cw(or,f.stateNode));break;case 4:v=or,S=Ro,or=f.stateNode.containerInfo,Ro=!0,bu(l,c,f),or=v,Ro=S;break;case 0:case 11:case 14:case 15:_i||Fc(2,f,c),_i||Fc(4,f,c),bu(l,c,f);break;case 1:_i||(xo(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"&&GE(f,c,v)),bu(l,c,f);break;case 21:bu(l,c,f);break;case 22:_i||xo(f,c),_i=(v=_i)||f.memoizedState!==null,bu(l,c,f),_i=v;break;default:bu(l,c,f)}}function QE(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Ag(l)}catch(f){$n(c,c.return,f)}}function B8(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new UE),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new UE),c;default:throw Error(i(435,l.tag))}}function z0(l,c){var f=B8(l);c.forEach(function(v){var S=X8.bind(null,l,v);f.has(v)||(f.add(v),v.then(S,S))})}function Wo(l,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var S=f[v],P=l,Y=c,ae=Y;e:for(;ae!==null;){switch(ae.tag){case 27:case 5:or=ae.stateNode,Ro=!1;break e;case 3:or=ae.stateNode.containerInfo,Ro=!0;break e;case 4:or=ae.stateNode.containerInfo,Ro=!0;break e}ae=ae.return}if(or===null)throw Error(i(160));YE(P,Y,S),or=null,Ro=!1,P=S.alternate,P!==null&&(P.return=null),S.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)XE(c,l),c=c.sibling}var Na=null;function XE(l,c){var f=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Wo(c,l),$o(l),v&4&&(Fc(3,l,l.return),ag(3,l),Fc(5,l,l.return));break;case 1:Wo(c,l),$o(l),v&512&&(_i||f===null||xo(f,f.return)),v&64&&yu&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(f=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var S=Na;if(Wo(c,l),$o(l),v&512&&(_i||f===null||xo(f,f.return)),v&4){var P=f!==null?f.memoizedState:null;if(v=l.memoizedState,f===null)if(v===null)if(l.stateNode===null){e:{v=l.type,f=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":P=S.getElementsByTagName("title")[0],(!P||P[kr]||P[Dn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=S.createElement(v),S.head.insertBefore(P,S.querySelector("head > title"))),zr(P,v,f),P[Dn]=l,Qn(P),v=P;break e;case"link":var Y=VT("link","href",S).get(v+(f.href||""));if(Y){for(var ae=0;ae<Y.length;ae++)if(P=Y[ae],P.getAttribute("href")===(f.href==null?null:f.href)&&P.getAttribute("rel")===(f.rel==null?null:f.rel)&&P.getAttribute("title")===(f.title==null?null:f.title)&&P.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Y.splice(ae,1);break t}}P=S.createElement(v),zr(P,v,f),S.head.appendChild(P);break;case"meta":if(Y=VT("meta","content",S).get(v+(f.content||""))){for(ae=0;ae<Y.length;ae++)if(P=Y[ae],P.getAttribute("content")===(f.content==null?null:""+f.content)&&P.getAttribute("name")===(f.name==null?null:f.name)&&P.getAttribute("property")===(f.property==null?null:f.property)&&P.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&P.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Y.splice(ae,1);break t}}P=S.createElement(v),zr(P,v,f),S.head.appendChild(P);break;default:throw Error(i(468,v))}P[Dn]=l,Qn(P),v=P}l.stateNode=v}else zT(S,l.type,l.stateNode);else l.stateNode=GT(S,v,l.memoizedProps);else P!==v?(P===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):P.count--,v===null?zT(S,l.type,l.stateNode):GT(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&zE(l,l.memoizedProps,f.memoizedProps)}break;case 27:if(v&4&&l.alternate===null){S=l.stateNode,P=l.memoizedProps;try{for(var ge=S.firstChild;ge;){var Ee=ge.nextSibling,We=ge.nodeName;ge[kr]||We==="HEAD"||We==="BODY"||We==="SCRIPT"||We==="STYLE"||We==="LINK"&&ge.rel.toLowerCase()==="stylesheet"||S.removeChild(ge),ge=Ee}for(var tt=l.type,Ie=S.attributes;Ie.length;)S.removeAttributeNode(Ie[0]);zr(S,tt,P),S[Dn]=l,S[Fn]=P}catch(Pt){$n(l,l.return,Pt)}}case 5:if(Wo(c,l),$o(l),v&512&&(_i||f===null||xo(f,f.return)),l.flags&32){S=l.stateNode;try{ki(S,"")}catch(Pt){$n(l,l.return,Pt)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,zE(l,S,f!==null?f.memoizedProps:S)),v&1024&&(V0=!0);break;case 6:if(Wo(c,l),$o(l),v&4){if(l.stateNode===null)throw Error(i(162));v=l.memoizedProps,f=l.stateNode;try{f.nodeValue=v}catch(Pt){$n(l,l.return,Pt)}}break;case 3:if(py=null,S=Na,Na=hy(c.containerInfo),Wo(c,l),Na=S,$o(l),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Ag(c.containerInfo)}catch(Pt){$n(l,l.return,Pt)}V0&&(V0=!1,ZE(l));break;case 4:v=Na,Na=hy(l.stateNode.containerInfo),Wo(c,l),$o(l),Na=v;break;case 12:Wo(c,l),$o(l);break;case 13:Wo(c,l),$o(l),l.child.flags&8192&&l.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Z0=mt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,z0(l,v)));break;case 22:if(v&512&&(_i||f===null||xo(f,f.return)),ge=l.memoizedState!==null,Ee=f!==null&&f.memoizedState!==null,We=yu,tt=_i,yu=We||ge,_i=tt||Ee,Wo(c,l),_i=tt,yu=We,$o(l),c=l.stateNode,c._current=l,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,v&8192&&(c._visibility=ge?c._visibility&-2:c._visibility|1,ge&&(c=yu||_i,f===null||Ee||c||hf(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(f=null,c=l;;){if(c.tag===5||c.tag===26||c.tag===27){if(f===null){Ee=f=c;try{if(S=Ee.stateNode,ge)P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Y=Ee.stateNode,ae=Ee.memoizedProps.style;var qe=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;Y.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Pt){$n(Ee,Ee.return,Pt)}}}else if(c.tag===6){if(f===null){Ee=c;try{Ee.stateNode.nodeValue=ge?"":Ee.memoizedProps}catch(Pt){$n(Ee,Ee.return,Pt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=l.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,z0(l,f))));break;case 19:Wo(c,l),$o(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,z0(l,v)));break;case 21:break;default:Wo(c,l),$o(l)}}function $o(l){var c=l.flags;if(c&2){try{if(l.tag!==27){e:{for(var f=l.return;f!==null;){if(qE(f)){var v=f;break e}f=f.return}throw Error(i(160))}switch(v.tag){case 27:var S=v.stateNode,P=j0(l);Xv(l,P,S);break;case 5:var Y=v.stateNode;v.flags&32&&(ki(Y,""),v.flags&=-33);var ae=j0(l);Xv(l,ae,Y);break;case 3:case 4:var ge=v.stateNode.containerInfo,Ee=j0(l);G0(l,Ee,ge);break;default:throw Error(i(161))}}}catch(We){$n(l,l.return,We)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function ZE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;ZE(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function Cu(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)$E(l,c.alternate,c),c=c.sibling}function hf(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:Fc(4,c,c.return),hf(c);break;case 1:xo(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&GE(c,c.return,f),hf(c);break;case 26:case 27:case 5:xo(c,c.return),hf(c);break;case 22:xo(c,c.return),c.memoizedState===null&&hf(c);break;default:hf(c)}l=l.sibling}}function Lc(l,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=l,P=c,Y=P.flags;switch(P.tag){case 0:case 11:case 15:Lc(S,P,f),ag(4,P);break;case 1:if(Lc(S,P,f),v=P,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ee){$n(v,v.return,Ee)}if(v=P,S=v.updateQueue,S!==null){var ae=v.stateNode;try{var ge=S.shared.hiddenCallbacks;if(ge!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ge.length;S++)BE(ge[S],ae)}catch(Ee){$n(v,v.return,Ee)}}f&&Y&64&&jE(P),$d(P,P.return);break;case 26:case 27:case 5:Lc(S,P,f),f&&v===null&&Y&4&&VE(P),$d(P,P.return);break;case 12:Lc(S,P,f);break;case 13:Lc(S,P,f),f&&Y&4&&QE(S,P);break;case 22:P.memoizedState===null&&Lc(S,P,f),$d(P,P.return);break;default:Lc(S,P,f)}c=c.sibling}}function q0(l,c){var f=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==f&&(l!=null&&l.refCount++,f!=null&&b(f))}function U0(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&b(l))}function Mc(l,c,f,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JE(l,c,f,v),c=c.sibling}function JE(l,c,f,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:Mc(l,c,f,v),S&2048&&ag(9,c);break;case 3:Mc(l,c,f,v),S&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&b(l)));break;case 12:if(S&2048){Mc(l,c,f,v),l=c.stateNode;try{var P=c.memoizedProps,Y=P.id,ae=P.onPostCommit;typeof ae=="function"&&ae(Y,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ge){$n(c,c.return,ge)}}else Mc(l,c,f,v);break;case 23:break;case 22:P=c.stateNode,c.memoizedState!==null?P._visibility&4?Mc(l,c,f,v):lg(l,c):P._visibility&4?Mc(l,c,f,v):(P._visibility|=4,ff(l,c,f,v,(c.subtreeFlags&10256)!==0)),S&2048&&q0(c.alternate,c);break;case 24:Mc(l,c,f,v),S&2048&&U0(c.alternate,c);break;default:Mc(l,c,f,v)}}function ff(l,c,f,v,S){for(S=S&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var P=l,Y=c,ae=f,ge=v,Ee=Y.flags;switch(Y.tag){case 0:case 11:case 15:ff(P,Y,ae,ge,S),ag(8,Y);break;case 23:break;case 22:var We=Y.stateNode;Y.memoizedState!==null?We._visibility&4?ff(P,Y,ae,ge,S):lg(P,Y):(We._visibility|=4,ff(P,Y,ae,ge,S)),S&&Ee&2048&&q0(Y.alternate,Y);break;case 24:ff(P,Y,ae,ge,S),S&&Ee&2048&&U0(Y.alternate,Y);break;default:ff(P,Y,ae,ge,S)}c=c.sibling}}function lg(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=l,v=c,S=v.flags;switch(v.tag){case 22:lg(f,v),S&2048&&q0(v.alternate,v);break;case 24:lg(f,v),S&2048&&U0(v.alternate,v);break;default:lg(f,v)}c=c.sibling}}var ug=8192;function pf(l){if(l.subtreeFlags&ug)for(l=l.child;l!==null;)eT(l),l=l.sibling}function eT(l){switch(l.tag){case 26:pf(l),l.flags&ug&&l.memoizedState!==null&&E7(Na,l.memoizedState,l.memoizedProps);break;case 5:pf(l);break;case 3:case 4:var c=Na;Na=hy(l.stateNode.containerInfo),pf(l),Na=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=ug,ug=16777216,pf(l),ug=c):pf(l));break;default:pf(l)}}function tT(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function cg(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];Dr=v,iT(v,l)}tT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)nT(l),l=l.sibling}function nT(l){switch(l.tag){case 0:case 11:case 15:cg(l),l.flags&2048&&Fc(9,l,l.return);break;case 3:cg(l);break;case 12:cg(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&4&&(l.return===null||l.return.tag!==13)?(c._visibility&=-5,Zv(l)):cg(l);break;default:cg(l)}}function Zv(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];Dr=v,iT(v,l)}tT(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:Fc(8,c,c.return),Zv(c);break;case 22:f=c.stateNode,f._visibility&4&&(f._visibility&=-5,Zv(c));break;default:Zv(c)}l=l.sibling}}function iT(l,c){for(;Dr!==null;){var f=Dr;switch(f.tag){case 0:case 11:case 15:Fc(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:b(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,Dr=v;else e:for(f=l;Dr!==null;){v=Dr;var S=v.sibling,P=v.return;if(KE(v),v===f){Dr=null;break e}if(S!==null){S.return=P,Dr=S;break e}Dr=P}}}function H8(l,c,f,v){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(l,c,f,v){return new H8(l,c,f,v)}function W0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Nc(l,c){var f=l.alternate;return f===null?(f=Ko(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&31457280,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f.refCleanup=l.refCleanup,f}function rT(l,c){l.flags&=31457282;var f=l.alternate;return f===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,c=f.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Jv(l,c,f,v,S,P){var Y=0;if(v=l,typeof l=="function")W0(l)&&(Y=1);else if(typeof l=="string")Y=R7(l,f,_e.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case u:return Kd(f.children,S,P,c);case d:Y=8,S|=24;break;case h:return l=Ko(12,f,c,S|2),l.elementType=h,l.lanes=P,l;case w:return l=Ko(13,f,c,S),l.elementType=w,l.lanes=P,l;case x:return l=Ko(19,f,c,S),l.elementType=x,l.lanes=P,l;case E:return sT(f,S,P,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case p:case m:Y=10;break e;case g:Y=9;break e;case y:Y=11;break e;case C:Y=14;break e;case A:Y=16,v=null;break e}Y=29,f=Error(i(130,l===null?"null":typeof l,"")),v=null}return c=Ko(Y,f,c,S),c.elementType=l,c.type=v,c.lanes=P,c}function Kd(l,c,f,v){return l=Ko(7,l,v,c),l.lanes=f,l}function sT(l,c,f,v){l=Ko(22,l,v,c),l.elementType=E,l.lanes=f;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=S._current;if(P===null)throw Error(i(456));if((S._pendingVisibility&2)===0){var Y=Ls(P,2);Y!==null&&(S._pendingVisibility|=2,Ns(Y,P,2))}},attach:function(){var P=S._current;if(P===null)throw Error(i(456));if((S._pendingVisibility&2)!==0){var Y=Ls(P,2);Y!==null&&(S._pendingVisibility&=-3,Ns(Y,P,2))}}};return l.stateNode=S,l}function $0(l,c,f){return l=Ko(6,l,null,c),l.lanes=f,l}function K0(l,c,f){return c=Ko(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function wu(l){l.flags|=4}function oT(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!qT(c)){if(c=Ws.current,c!==null&&((bn&4194176)===bn?bo!==null:(bn&62914560)!==bn&&(bn&536870912)===0||c!==bo))throw Ms=$p,Mv;l.flags|=8192}}function ey(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Li():536870912,l.lanes|=c,mf|=c)}function dg(l,c){if(!yn)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function xi(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,v=0;if(c)for(var S=l.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags&31457280,v|=S.flags&31457280,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)f|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=f,c}function j8(l,c,f){var v=c.pendingProps;switch(Up(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(c),null;case 1:return xi(c),null;case 3:return f=c.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),vu(Ki),fe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(l===null||l.child===null)&&(Fd(c)?wu(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,vo!==null&&(nw(vo),vo=null))),xi(c),null;case 26:return f=c.memoizedState,l===null?(wu(c),f!==null?(xi(c),oT(c,f)):(xi(c),c.flags&=-16777217)):f?f!==l.memoizedState?(wu(c),xi(c),oT(c,f)):(xi(c),c.flags&=-16777217):(l.memoizedProps!==v&&wu(c),xi(c),c.flags&=-16777217),null;case 27:ot(c),f=Be.current;var S=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==v&&wu(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return xi(c),null}l=_e.current,Fd(c)?Qh(c):(l=IT(S,v,f),c.stateNode=l,wu(c))}return xi(c),null;case 5:if(ot(c),f=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==v&&wu(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return xi(c),null}if(l=_e.current,Fd(c))Qh(c);else{switch(S=dy(Be.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?S.createElement(f,{is:v.is}):S.createElement(f)}}l[Dn]=c,l[Fn]=v;e:for(S=c.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===c)break e;for(;S.sibling===null;){if(S.return===null||S.return===c)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}c.stateNode=l;e:switch(zr(l,f,v),f){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wu(c)}}return xi(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==v&&wu(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(l=Be.current,Fd(c)){if(l=c.stateNode,f=c.memoizedProps,v=null,S=Er,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[Dn]=c,l=!!(l.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||FT(l.nodeValue,f)),l||Aa(c)}else l=dy(l).createTextNode(v),l[Dn]=c,c.stateNode=l}return xi(c),null;case 13:if(v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=Fd(c),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(i(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[Dn]=c}else Ld(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;xi(c),S=!1}else vo!==null&&(nw(vo),vo=null),S=!0;if(!S)return c.flags&256?(Ea(c),c):(Ea(c),null)}if(Ea(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=v!==null,l=l!==null&&l.memoizedState!==null,f){v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var P=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(P=v.memoizedState.cachePool.pool),P!==S&&(v.flags|=2048)}return f!==l&&f&&(c.child.flags|=8192),ey(c,c.updateQueue),xi(c),null;case 4:return fe(),l===null&&fw(c.stateNode.containerInfo),xi(c),null;case 10:return vu(c.type),xi(c),null;case 19:if(Se($i),S=c.memoizedState,S===null)return xi(c),null;if(v=(c.flags&128)!==0,P=S.rendering,P===null)if(v)dg(S,!1);else{if(Bi!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(P=Zh(l),P!==null){for(c.flags|=128,dg(S,!1),l=P.updateQueue,c.updateQueue=l,ey(c,l),c.subtreeFlags=0,l=f,f=c.child;f!==null;)rT(f,l),f=f.sibling;return Oe($i,$i.current&1|2),c.child}l=l.sibling}S.tail!==null&&mt()>ty&&(c.flags|=128,v=!0,dg(S,!1),c.lanes=4194304)}else{if(!v)if(l=Zh(P),l!==null){if(c.flags|=128,v=!0,l=l.updateQueue,c.updateQueue=l,ey(c,l),dg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!yn)return xi(c),null}else 2*mt()-S.renderingStartTime>ty&&f!==536870912&&(c.flags|=128,v=!0,dg(S,!1),c.lanes=4194304);S.isBackwards?(P.sibling=c.child,c.child=P):(l=S.last,l!==null?l.sibling=P:c.child=P,S.last=P)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=mt(),c.sibling=null,l=$i.current,Oe($i,v?l&1|2:l&1),c):(xi(c),null);case 22:case 23:return Ea(c),kd(),v=c.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(f&536870912)!==0&&(c.flags&128)===0&&(xi(c),c.subtreeFlags&6&&(c.flags|=8192)):xi(c),f=c.updateQueue,f!==null&&ey(c,f.retryQueue),f=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==f&&(c.flags|=2048),l!==null&&Se(he),null;case 24:return f=null,l!==null&&(f=l.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),vu(Ki),xi(c),null;case 25:return null}throw Error(i(156,c.tag))}function G8(l,c){switch(Up(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return vu(Ki),fe(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return ot(c),null;case 13:if(Ea(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Ld()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Se($i),null;case 4:return fe(),null;case 10:return vu(c.type),null;case 22:case 23:return Ea(c),kd(),l!==null&&Se(he),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return vu(Ki),null;case 25:return null;default:return null}}function aT(l,c){switch(Up(c),c.tag){case 3:vu(Ki),fe();break;case 26:case 27:case 5:ot(c);break;case 4:fe();break;case 13:Ea(c);break;case 19:Se($i);break;case 10:vu(c.type);break;case 22:case 23:Ea(c),kd(),l!==null&&Se(he);break;case 24:vu(Ki)}}var V8={getCacheForType:function(l){var c=os(Ki),f=c.data.get(l);return f===void 0&&(f=l(),c.data.set(l,f)),f}},z8=typeof WeakMap=="function"?WeakMap:Map,Ri=0,Jn=null,dn=null,bn=0,ei=0,Ao=null,Su=!1,gf=!1,Y0=!1,xu=0,Bi=0,Oc=0,Yd=0,Q0=0,Yo=0,mf=0,hg=null,Dl=null,X0=!1,Z0=0,ty=1/0,ny=null,kc=null,iy=!1,Qd=null,fg=0,J0=0,ew=null,pg=0,tw=null;function Eo(){if((Ri&2)!==0&&bn!==0)return bn&-bn;if(V.T!==null){var l=G;return l!==0?l:uw()}return In()}function lT(){Yo===0&&(Yo=(bn&536870912)===0||yn?Yn():536870912);var l=Ws.current;return l!==null&&(l.flags|=32),Yo}function Ns(l,c,f){(l===Jn&&ei===2||l.cancelPendingCommit!==null)&&(vf(l,0),Ru(l,bn,Yo,!1)),bt(l,f),((Ri&2)===0||l!==Jn)&&(l===Jn&&((Ri&2)===0&&(Yd|=f),Bi===4&&Ru(l,bn,Yo,!1)),Fl(l))}function uT(l,c,f){if((Ri&6)!==0)throw Error(i(327));var v=!f&&(c&60)===0&&(c&l.expiredLanes)===0||Jt(l,c),S=v?W8(l,c):sw(l,c,!0),P=v;do{if(S===0){gf&&!v&&Ru(l,c,0,!1);break}else if(S===6)Ru(l,c,0,!Su);else{if(f=l.current.alternate,P&&!q8(f)){S=sw(l,c,!1),P=!1;continue}if(S===2){if(P=c,l.errorRecoveryDisabledLanes&P)var Y=0;else Y=l.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){c=Y;e:{var ae=l;S=hg;var ge=ae.current.memoizedState.isDehydrated;if(ge&&(vf(ae,Y).flags|=256),Y=sw(ae,Y,!1),Y!==2){if(Y0&&!ge){ae.errorRecoveryDisabledLanes|=P,Yd|=P,S=4;break e}P=Dl,Dl=S,P!==null&&nw(P)}S=Y}if(P=!1,S!==2)continue}}if(S===1){vf(l,0),Ru(l,c,0,!0);break}e:{switch(v=l,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194176)===c){Ru(v,c,Yo,!Su);break e}break;case 2:Dl=null;break;case 3:case 5:break;default:throw Error(i(329))}if(v.finishedWork=f,v.finishedLanes=c,(c&62914560)===c&&(P=Z0+300-mt(),10<P)){if(Ru(v,c,Yo,!Su),Dt(v,0)!==0)break e;v.timeoutHandle=NT(cT.bind(null,v,f,Dl,ny,X0,c,Yo,Yd,mf,Su,2,-0,0),P);break e}cT(v,f,Dl,ny,X0,c,Yo,Yd,mf,Su,0,-0,0)}}break}while(!0);Fl(l)}function nw(l){Dl===null?Dl=l:Dl.push.apply(Dl,l)}function cT(l,c,f,v,S,P,Y,ae,ge,Ee,We,tt,Ie){var qe=c.subtreeFlags;if((qe&8192||(qe&16785408)===16785408)&&(Cg={stylesheets:null,count:0,unsuspend:A7},eT(c),c=T7(),c!==null)){l.cancelPendingCommit=c(vT.bind(null,l,f,v,S,Y,ae,ge,1,tt,Ie)),Ru(l,P,Y,!Ee);return}vT(l,f,v,S,Y,ae,ge,We,tt,Ie)}function q8(l){for(var c=l;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var S=f[v],P=S.getSnapshot;S=S.value;try{if(!sr(P(),S))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ru(l,c,f,v){c&=~Q0,c&=~Yd,l.suspendedLanes|=c,l.pingedLanes&=~c,v&&(l.warmLanes|=c),v=l.expirationTimes;for(var S=c;0<S;){var P=31-En(S),Y=1<<P;v[P]=-1,S&=~Y}f!==0&&Nr(l,f,c)}function ry(){return(Ri&6)===0?(gg(0),!1):!0}function iw(){if(dn!==null){if(ei===0)var l=dn.return;else l=dn,mu=Ud=null,mi(l),lu=null,Us=0,l=dn;for(;l!==null;)aT(l.alternate,l),l=l.return;dn=null}}function vf(l,c){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;f!==-1&&(l.timeoutHandle=-1,u7(f)),f=l.cancelPendingCommit,f!==null&&(l.cancelPendingCommit=null,f()),iw(),Jn=l,dn=f=Nc(l.current,null),bn=c,ei=0,Ao=null,Su=!1,gf=Jt(l,c),Y0=!1,mf=Yo=Q0=Yd=Oc=Bi=0,Dl=hg=null,X0=!1,(c&8)!==0&&(c|=c&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=c;0<v;){var S=31-En(v),P=1<<S;c|=l[S],v&=~P}return xu=c,gi(),f}function dT(l,c){ke=null,V.H=wo,c===Md?(c=Ov(),ei=3):c===Mv?(c=Ov(),ei=4):ei=c===RE?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ao=c,dn===null&&(Bi=1,Ac(l,ai(c,l.current)))}function hT(){var l=V.H;return V.H=wo,l===null?wo:l}function fT(){var l=V.A;return V.A=V8,l}function rw(){Bi=4,Su||(bn&4194176)!==bn&&Ws.current!==null||(gf=!0),(Oc&134217727)===0&&(Yd&134217727)===0||Jn===null||Ru(Jn,bn,Yo,!1)}function sw(l,c,f){var v=Ri;Ri|=2;var S=hT(),P=fT();(Jn!==l||bn!==c)&&(ny=null,vf(l,c)),c=!1;var Y=Bi;e:do try{if(ei!==0&&dn!==null){var ae=dn,ge=Ao;switch(ei){case 8:iw(),Y=6;break e;case 3:case 2:case 6:Ws.current===null&&(c=!0);var Ee=ei;if(ei=0,Ao=null,yf(l,ae,ge,Ee),f&&gf){Y=0;break e}break;default:Ee=ei,ei=0,Ao=null,yf(l,ae,ge,Ee)}}U8(),Y=Bi;break}catch(We){dT(l,We)}while(!0);return c&&l.shellSuspendCounter++,mu=Ud=null,Ri=v,V.H=S,V.A=P,dn===null&&(Jn=null,bn=0,gi()),Y}function U8(){for(;dn!==null;)pT(dn)}function W8(l,c){var f=Ri;Ri|=2;var v=hT(),S=fT();Jn!==l||bn!==c?(ny=null,ty=mt()+500,vf(l,c)):gf=Jt(l,c);e:do try{if(ei!==0&&dn!==null){c=dn;var P=Ao;t:switch(ei){case 1:ei=0,Ao=null,yf(l,c,P,1);break;case 2:if(Nv(P)){ei=0,Ao=null,gT(c);break}c=function(){ei===2&&Jn===l&&(ei=7),Fl(l)},P.then(c,c);break e;case 3:ei=7;break e;case 4:ei=5;break e;case 7:Nv(P)?(ei=0,Ao=null,gT(c)):(ei=0,Ao=null,yf(l,c,P,7));break;case 5:var Y=null;switch(dn.tag){case 26:Y=dn.memoizedState;case 5:case 27:var ae=dn;if(!Y||qT(Y)){ei=0,Ao=null;var ge=ae.sibling;if(ge!==null)dn=ge;else{var Ee=ae.return;Ee!==null?(dn=Ee,sy(Ee)):dn=null}break t}}ei=0,Ao=null,yf(l,c,P,5);break;case 6:ei=0,Ao=null,yf(l,c,P,6);break;case 8:iw(),Bi=6;break e;default:throw Error(i(462))}}$8();break}catch(We){dT(l,We)}while(!0);return mu=Ud=null,V.H=v,V.A=S,Ri=f,dn!==null?0:(Jn=null,bn=0,gi(),Bi)}function $8(){for(;dn!==null&&!at();)pT(dn)}function pT(l){var c=IE(l.alternate,l,xu);l.memoizedProps=l.pendingProps,c===null?sy(l):dn=c}function gT(l){var c=l,f=c.alternate;switch(c.tag){case 15:case 0:c=FE(f,c,c.pendingProps,c.type,void 0,bn);break;case 11:c=FE(f,c,c.pendingProps,c.type.render,c.ref,bn);break;case 5:mi(c);default:aT(f,c),c=dn=rT(c,xu),c=IE(f,c,xu)}l.memoizedProps=l.pendingProps,c===null?sy(l):dn=c}function yf(l,c,f,v){mu=Ud=null,mi(c),lu=null,Us=0;var S=c.return;try{if(k8(l,S,c,f,bn)){Bi=1,Ac(l,ai(f,l.current)),dn=null;return}}catch(P){if(S!==null)throw dn=S,P;Bi=1,Ac(l,ai(f,l.current)),dn=null;return}c.flags&32768?(yn||v===1?l=!0:gf||(bn&536870912)!==0?l=!1:(Su=l=!0,(v===2||v===3||v===6)&&(v=Ws.current,v!==null&&v.tag===13&&(v.flags|=16384))),mT(c,l)):sy(c)}function sy(l){var c=l;do{if((c.flags&32768)!==0){mT(c,Su);return}l=c.return;var f=j8(c.alternate,c,xu);if(f!==null){dn=f;return}if(c=c.sibling,c!==null){dn=c;return}dn=c=l}while(c!==null);Bi===0&&(Bi=5)}function mT(l,c){do{var f=G8(l.alternate,l);if(f!==null){f.flags&=32767,dn=f;return}if(f=l.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(l=l.sibling,l!==null)){dn=l;return}dn=l=f}while(l!==null);Bi=6,dn=null}function vT(l,c,f,v,S,P,Y,ae,ge,Ee){var We=V.T,tt=Z.p;try{Z.p=2,V.T=null,K8(l,c,f,v,tt,S,P,Y,ae,ge,Ee)}finally{V.T=We,Z.p=tt}}function K8(l,c,f,v,S,P,Y,ae){do bf();while(Qd!==null);if((Ri&6)!==0)throw Error(i(327));var ge=l.finishedWork;if(v=l.finishedLanes,ge===null)return null;if(l.finishedWork=null,l.finishedLanes=0,ge===l.current)throw Error(i(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Ee=ge.lanes|ge.childLanes;if(Ee|=oi,Mr(l,v,Ee,P,Y,ae),l===Jn&&(dn=Jn=null,bn=0),(ge.subtreeFlags&10256)===0&&(ge.flags&10256)===0||iy||(iy=!0,J0=Ee,ew=f,Z8(wt,function(){return bf(),null})),f=(ge.flags&15990)!==0,(ge.subtreeFlags&15990)!==0||f?(f=V.T,V.T=null,P=Z.p,Z.p=2,Y=Ri,Ri|=4,_8(l,ge),XE(ge,l),ml(vw,l.containerInfo),vy=!!mw,vw=mw=null,l.current=ge,$E(l,ge.alternate,ge),yt(),Ri=Y,Z.p=P,V.T=f):l.current=ge,iy?(iy=!1,Qd=l,fg=v):yT(l,Ee),Ee=l.pendingLanes,Ee===0&&(kc=null),hn(ge.stateNode),Fl(l),c!==null)for(S=l.onRecoverableError,ge=0;ge<c.length;ge++)Ee=c[ge],S(Ee.value,{componentStack:Ee.stack});return(fg&3)!==0&&bf(),Ee=l.pendingLanes,(v&4194218)!==0&&(Ee&42)!==0?l===tw?pg++:(pg=0,tw=l):pg=0,gg(0),null}function yT(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,b(c)))}function bf(){if(Qd!==null){var l=Qd,c=J0;J0=0;var f=Un(fg),v=V.T,S=Z.p;try{if(Z.p=32>f?32:f,V.T=null,Qd===null)var P=!1;else{f=ew,ew=null;var Y=Qd,ae=fg;if(Qd=null,fg=0,(Ri&6)!==0)throw Error(i(331));var ge=Ri;if(Ri|=4,nT(Y.current),JE(Y,Y.current,ae,f),Ri=ge,gg(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Zt,Y)}catch{}P=!0}return P}finally{Z.p=S,V.T=v,yT(l,c)}}return!1}function bT(l,c,f){c=ai(f,c),c=x0(l.stateNode,c,2),l=Dc(l,c,2),l!==null&&(bt(l,2),Fl(l))}function $n(l,c,f){if(l.tag===3)bT(l,l,f);else for(;c!==null;){if(c.tag===3){bT(c,l,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(kc===null||!kc.has(v))){l=ai(f,l),f=SE(2),v=Dc(c,f,2),v!==null&&(xE(f,v,c,l),bt(v,2),Fl(v));break}}c=c.return}}function ow(l,c,f){var v=l.pingCache;if(v===null){v=l.pingCache=new z8;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(f)||(Y0=!0,S.add(f),l=Y8.bind(null,l,c,f),c.then(l,l))}function Y8(l,c,f){var v=l.pingCache;v!==null&&v.delete(c),l.pingedLanes|=l.suspendedLanes&f,l.warmLanes&=~f,Jn===l&&(bn&f)===f&&(Bi===4||Bi===3&&(bn&62914560)===bn&&300>mt()-Z0?(Ri&2)===0&&vf(l,0):Q0|=f,mf===bn&&(mf=0)),Fl(l)}function CT(l,c){c===0&&(c=Li()),l=Ls(l,c),l!==null&&(bt(l,c),Fl(l))}function Q8(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),CT(l,f)}function X8(l,c){var f=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(f=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),CT(l,f)}function Z8(l,c){return Je(l,c)}var oy=null,Cf=null,aw=!1,ay=!1,lw=!1,Xd=0;function Fl(l){l!==Cf&&l.next===null&&(Cf===null?oy=Cf=l:Cf=Cf.next=l),ay=!0,aw||(aw=!0,e7(J8))}function gg(l,c){if(!lw&&ay){lw=!0;do for(var f=!1,v=oy;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var P=0;else{var Y=v.suspendedLanes,ae=v.pingedLanes;P=(1<<31-En(42|l)+1)-1,P&=S&~(Y&~ae),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(f=!0,xT(v,P))}else P=bn,P=Dt(v,v===Jn?P:0),(P&3)===0||Jt(v,P)||(f=!0,xT(v,P));v=v.next}while(f);lw=!1}}function J8(){ay=aw=!1;var l=0;Xd!==0&&(l7()&&(l=Xd),Xd=0);for(var c=mt(),f=null,v=oy;v!==null;){var S=v.next,P=wT(v,c);P===0?(v.next=null,f===null?oy=S:f.next=S,S===null&&(Cf=f)):(f=v,(l!==0||(P&3)!==0)&&(ay=!0)),v=S}gg(l)}function wT(l,c){for(var f=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var Y=31-En(P),ae=1<<Y,ge=S[Y];ge===-1?((ae&f)===0||(ae&v)!==0)&&(S[Y]=Cs(ae,c)):ge<=c&&(l.expiredLanes|=ae),P&=~ae}if(c=Jn,f=bn,f=Dt(l,l===c?f:0),v=l.callbackNode,f===0||l===c&&ei===2||l.cancelPendingCommit!==null)return v!==null&&v!==null&&nt(v),l.callbackNode=null,l.callbackPriority=0;if((f&3)===0||Jt(l,f)){if(c=f&-f,c===l.callbackPriority)return c;switch(v!==null&&nt(v),Un(f)){case 2:case 8:f=zt;break;case 32:f=wt;break;case 268435456:f=Ot;break;default:f=wt}return v=ST.bind(null,l),f=Je(f,v),l.callbackPriority=c,l.callbackNode=f,c}return v!==null&&v!==null&&nt(v),l.callbackPriority=2,l.callbackNode=null,2}function ST(l,c){var f=l.callbackNode;if(bf()&&l.callbackNode!==f)return null;var v=bn;return v=Dt(l,l===Jn?v:0),v===0?null:(uT(l,v,c),wT(l,mt()),l.callbackNode!=null&&l.callbackNode===f?ST.bind(null,l):null)}function xT(l,c){if(bf())return null;uT(l,c,!0)}function e7(l){c7(function(){(Ri&6)!==0?Je(Vt,l):l()})}function uw(){return Xd===0&&(Xd=Yn()),Xd}function RT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:so(""+l)}function AT(l,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,l.id&&f.setAttribute("form",l.id),c.parentNode.insertBefore(f,c),l=new FormData(l),f.parentNode.removeChild(f),l}function t7(l,c,f,v,S){if(c==="submit"&&f&&f.stateNode===S){var P=RT((S[Fn]||null).action),Y=v.submitter;Y&&(c=(c=Y[Fn]||null)?RT(c.formAction):Y.getAttribute("formAction"),c!==null&&(P=c,Y=null));var ae=new He("action","action",null,v,S);l.push({event:ae,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Xd!==0){var ge=Y?AT(S,Y):new FormData(S);af(f,{pending:!0,data:ge,method:S.method,action:P},null,ge)}}else typeof P=="function"&&(ae.preventDefault(),ge=Y?AT(S,Y):new FormData(S),af(f,{pending:!0,data:ge,method:S.method,action:P},P,ge))},currentTarget:S}]})}}for(var cw=0;cw<Fs.length;cw++){var dw=Fs[cw],n7=dw.toLowerCase(),i7=dw[0].toUpperCase()+dw.slice(1);pi(n7,"on"+i7)}pi(bl,"onAnimationEnd"),pi(Cl,"onAnimationIteration"),pi(Ca,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(ru,"onTransitionRun"),pi(pc,"onTransitionStart"),pi(su,"onTransitionCancel"),pi(wa,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mg));function ET(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var v=l[f],S=v.event;v=v.listeners;e:{var P=void 0;if(c)for(var Y=v.length-1;0<=Y;Y--){var ae=v[Y],ge=ae.instance,Ee=ae.currentTarget;if(ae=ae.listener,ge!==P&&S.isPropagationStopped())break e;P=ae,S.currentTarget=Ee;try{P(S)}catch(We){Rc(We)}S.currentTarget=null,P=ge}else for(Y=0;Y<v.length;Y++){if(ae=v[Y],ge=ae.instance,Ee=ae.currentTarget,ae=ae.listener,ge!==P&&S.isPropagationStopped())break e;P=ae,S.currentTarget=Ee;try{P(S)}catch(We){Rc(We)}S.currentTarget=null,P=ge}}}}function vn(l,c){var f=c[cr];f===void 0&&(f=c[cr]=new Set);var v=l+"__bubble";f.has(v)||(TT(c,l,2,!1),f.add(v))}function hw(l,c,f){var v=0;c&&(v|=4),TT(f,l,v,c)}var ly="_reactListening"+Math.random().toString(36).slice(2);function fw(l){if(!l[ly]){l[ly]=!0,ll.forEach(function(f){f!=="selectionchange"&&(r7.has(f)||hw(f,!1,l),hw(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[ly]||(c[ly]=!0,hw("selectionchange",!1,c))}}function TT(l,c,f,v){switch(QT(c)){case 2:var S=F7;break;case 8:S=L7;break;default:S=Ew}f=S.bind(null,c,f,l),S=void 0,!lo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(c,f,{capture:!0,passive:S}):l.addEventListener(c,f,!0):S!==void 0?l.addEventListener(c,f,{passive:S}):l.addEventListener(c,f,!1)}function pw(l,c,f,v,S){var P=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var Y=v.tag;if(Y===3||Y===4){var ae=v.stateNode.containerInfo;if(ae===S||ae.nodeType===8&&ae.parentNode===S)break;if(Y===4)for(Y=v.return;Y!==null;){var ge=Y.tag;if((ge===3||ge===4)&&(ge=Y.stateNode.containerInfo,ge===S||ge.nodeType===8&&ge.parentNode===S))return;Y=Y.return}for(;ae!==null;){if(Y=Cr(ae),Y===null)return;if(ge=Y.tag,ge===5||ge===6||ge===26||ge===27){v=P=Y;continue e}ae=ae.parentNode}}v=v.return}nr(function(){var Ee=P,We=bi(f),tt=[];e:{var Ie=gc.get(l);if(Ie!==void 0){var qe=He,Pt=l;switch(l){case"keypress":if(Gs(f)===0)break e;case"keydown":case"keyup":qe=lc;break;case"focusin":Pt="focus",qe=Wn;break;case"focusout":Pt="blur",qe=Wn;break;case"beforeblur":case"afterblur":qe=Wn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=xd;break;case bl:case Cl:case Ca:qe=Ts;break;case wa:qe=te;break;case"scroll":case"scrollend":qe=Rt;break;case"wheel":qe=Ce;break;case"copy":case"cut":case"paste":qe=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=uc;break;case"toggle":case"beforetoggle":qe=Ge}var Qt=(c&4)!==0,Hi=!Qt&&(l==="scroll"||l==="scrollend"),Pe=Qt?Ie!==null?Ie+"Capture":null:Ie;Qt=[];for(var Re=Ee,Ne;Re!==null;){var Ze=Re;if(Ne=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Ne===null||Pe===null||(Ze=js(Re,Pe),Ze!=null&&Qt.push(vg(Re,Ze,Ne))),Hi)break;Re=Re.return}0<Qt.length&&(Ie=new qe(Ie,Pt,null,f,We),tt.push({event:Ie,listeners:Qt}))}}if((c&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",qe=l==="mouseout"||l==="pointerout",Ie&&f!==ii&&(Pt=f.relatedTarget||f.fromElement)&&(Cr(Pt)||Pt[Mi]))break e;if((qe||Ie)&&(Ie=We.window===We?We:(Ie=We.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,qe?(Pt=f.relatedTarget||f.toElement,qe=Ee,Pt=Pt?Cr(Pt):null,Pt!==null&&(Hi=Q(Pt),Qt=Pt.tag,Pt!==Hi||Qt!==5&&Qt!==27&&Qt!==6)&&(Pt=null)):(qe=null,Pt=Ee),qe!==Pt)){if(Qt=Bn,Ze="onMouseLeave",Pe="onMouseEnter",Re="mouse",(l==="pointerout"||l==="pointerover")&&(Qt=uc,Ze="onPointerLeave",Pe="onPointerEnter",Re="pointer"),Hi=qe==null?Ie:Qr(qe),Ne=Pt==null?Ie:Qr(Pt),Ie=new Qt(Ze,Re+"leave",qe,f,We),Ie.target=Hi,Ie.relatedTarget=Ne,Ze=null,Cr(We)===Ee&&(Qt=new Qt(Pe,Re+"enter",Pt,f,We),Qt.target=Ne,Qt.relatedTarget=Hi,Ze=Qt),Hi=Ze,qe&&Pt)t:{for(Qt=qe,Pe=Pt,Re=0,Ne=Qt;Ne;Ne=wf(Ne))Re++;for(Ne=0,Ze=Pe;Ze;Ze=wf(Ze))Ne++;for(;0<Re-Ne;)Qt=wf(Qt),Re--;for(;0<Ne-Re;)Pe=wf(Pe),Ne--;for(;Re--;){if(Qt===Pe||Pe!==null&&Qt===Pe.alternate)break t;Qt=wf(Qt),Pe=wf(Pe)}Qt=null}else Qt=null;qe!==null&&PT(tt,Ie,qe,Qt,!1),Pt!==null&&Hi!==null&&PT(tt,Hi,Pt,Qt,!0)}}e:{if(Ie=Ee?Qr(Ee):window,qe=Ie.nodeName&&Ie.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Ie.type==="file")var St=dc;else if(fo(Ie))if(tu)St=Kh;else{St=zp;var un=ts}else qe=Ie.nodeName,!qe||qe.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Ee&&_r(Ee.elementType)&&(St=dc):St=Ad;if(St&&(St=St(l,Ee))){Rd(tt,St,f,We);break e}un&&un(l,Ie,Ee),l==="focusout"&&Ee&&Ie.type==="number"&&Ee.memoizedProps.value!=null&&_o(Ie,"number",Ie.value)}switch(un=Ee?Qr(Ee):window,l){case"focusin":(fo(un)||un.contentEditable==="true")&&(ns=un,vl=Ee,Ds=null);break;case"focusout":Ds=vl=ns=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,fc(tt,f,We);break;case"selectionchange":if(ba)break;case"keydown":case"keyup":fc(tt,f,We)}var Nt;if(gt)e:{switch(l){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else wi?ri(l,f)&&(Ht="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Ht="onCompositionStart");Ht&&(qt&&f.locale!=="ko"&&(wi||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&wi&&(Nt=jo()):(fr=We,Rr="value"in fr?fr.value:fr.textContent,wi=!0)),un=uy(Ee,Ht),0<un.length&&(Ht=new co(Ht,l,null,f,We),tt.push({event:Ht,listeners:un}),Nt?Ht.data=Nt:(Nt=Ci(f),Nt!==null&&(Ht.data=Nt)))),(Nt=Kt?rr(l,f):ho(l,f))&&(Ht=uy(Ee,"onBeforeInput"),0<Ht.length&&(un=new co("onBeforeInput","beforeinput",null,f,We),tt.push({event:un,listeners:Ht}),un.data=Nt)),t7(tt,l,Ee,f,We)}ET(tt,c)})}function vg(l,c,f){return{instance:l,listener:c,currentTarget:f}}function uy(l,c){for(var f=c+"Capture",v=[];l!==null;){var S=l,P=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||P===null||(S=js(l,f),S!=null&&v.unshift(vg(l,S,P)),S=js(l,c),S!=null&&v.push(vg(l,S,P))),l=l.return}return v}function wf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function PT(l,c,f,v,S){for(var P=c._reactName,Y=[];f!==null&&f!==v;){var ae=f,ge=ae.alternate,Ee=ae.stateNode;if(ae=ae.tag,ge!==null&&ge===v)break;ae!==5&&ae!==26&&ae!==27||Ee===null||(ge=Ee,S?(Ee=js(f,P),Ee!=null&&Y.unshift(vg(f,Ee,ge))):S||(Ee=js(f,P),Ee!=null&&Y.push(vg(f,Ee,ge)))),f=f.return}Y.length!==0&&l.push({event:c,listeners:Y})}var s7=/\r\n?/g,o7=/\u0000|\uFFFD/g;function DT(l){return(typeof l=="string"?l:""+l).replace(s7,`
`).replace(o7,"")}function FT(l,c){return c=DT(c),DT(l)===c}function cy(){}function qn(l,c,f,v,S,P){switch(f){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||ki(l,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&ki(l,""+v);break;case"className":Ln(l,"class",v);break;case"tabIndex":Ln(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(l,f,v);break;case"style":Ir(l,v,P);break;case"data":if(c!=="object"){Ln(l,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||f!=="href")){l.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(f);break}v=so(""+v),l.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(f==="formAction"?(c!=="input"&&qn(l,c,"name",S.name,S,null),qn(l,c,"formEncType",S.formEncType,S,null),qn(l,c,"formMethod",S.formMethod,S,null),qn(l,c,"formTarget",S.formTarget,S,null)):(qn(l,c,"encType",S.encType,S,null),qn(l,c,"method",S.method,S,null),qn(l,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(f);break}v=so(""+v),l.setAttribute(f,v);break;case"onClick":v!=null&&(l.onclick=cy);break;case"onScroll":v!=null&&vn("scroll",l);break;case"onScrollEnd":v!=null&&vn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(f=v.__html,f!=null){if(S.children!=null)throw Error(i(60));l.innerHTML=f}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}f=so(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(f,""+v):l.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(f,""):l.removeAttribute(f);break;case"capture":case"download":v===!0?l.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(f,v):l.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(f,v):l.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(f):l.setAttribute(f,v);break;case"popover":vn("beforetoggle",l),vn("toggle",l),Oo(l,"popover",v);break;case"xlinkActuate":wr(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":wr(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":wr(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":wr(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":wr(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":wr(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":wr(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":wr(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":wr(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Oo(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Bo.get(f)||f,Oo(l,f,v))}}function gw(l,c,f,v,S,P){switch(f){case"style":Ir(l,v,P);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(f=v.__html,f!=null){if(S.children!=null)throw Error(i(60));l.innerHTML=f}}break;case"children":typeof v=="string"?ki(l,v):(typeof v=="number"||typeof v=="bigint")&&ki(l,""+v);break;case"onScroll":v!=null&&vn("scroll",l);break;case"onScrollEnd":v!=null&&vn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=cy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!to.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(S=f.endsWith("Capture"),c=f.slice(2,S?f.length-7:void 0),P=l[Fn]||null,P=P!=null?P[f]:null,typeof P=="function"&&l.removeEventListener(c,P,S),typeof v=="function")){typeof P!="function"&&P!==null&&(f in l?l[f]=null:l.hasAttribute(f)&&l.removeAttribute(f)),l.addEventListener(c,v,S);break e}f in l?l[f]=v:v===!0?l.setAttribute(f,""):Oo(l,f,v)}}}function zr(l,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",l),vn("load",l);var v=!1,S=!1,P;for(P in f)if(f.hasOwnProperty(P)){var Y=f[P];if(Y!=null)switch(P){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:qn(l,c,P,Y,f,null)}}S&&qn(l,c,"srcSet",f.srcSet,f,null),v&&qn(l,c,"src",f.src,f,null);return;case"input":vn("invalid",l);var ae=P=Y=S=null,ge=null,Ee=null;for(v in f)if(f.hasOwnProperty(v)){var We=f[v];if(We!=null)switch(v){case"name":S=We;break;case"type":Y=We;break;case"checked":ge=We;break;case"defaultChecked":Ee=We;break;case"value":P=We;break;case"defaultValue":ae=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,c));break;default:qn(l,c,v,We,f,null)}}Io(l,P,ae,ge,Ee,Y,S,!1),ro(l);return;case"select":vn("invalid",l),v=Y=P=null;for(S in f)if(f.hasOwnProperty(S)&&(ae=f[S],ae!=null))switch(S){case"value":P=ae;break;case"defaultValue":Y=ae;break;case"multiple":v=ae;default:qn(l,c,S,ae,f,null)}c=P,f=Y,l.multiple=!!v,c!=null?Hs(l,!!v,c,!1):f!=null&&Hs(l,!!v,f,!0);return;case"textarea":vn("invalid",l),P=S=v=null;for(Y in f)if(f.hasOwnProperty(Y)&&(ae=f[Y],ae!=null))switch(Y){case"value":v=ae;break;case"defaultValue":S=ae;break;case"children":P=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(91));break;default:qn(l,c,Y,ae,f,null)}Sr(l,v,S,P),ro(l);return;case"option":for(ge in f)if(f.hasOwnProperty(ge)&&(v=f[ge],v!=null))switch(ge){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qn(l,c,ge,v,f,null)}return;case"dialog":vn("cancel",l),vn("close",l);break;case"iframe":case"object":vn("load",l);break;case"video":case"audio":for(v=0;v<mg.length;v++)vn(mg[v],l);break;case"image":vn("error",l),vn("load",l);break;case"details":vn("toggle",l);break;case"embed":case"source":case"link":vn("error",l),vn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in f)if(f.hasOwnProperty(Ee)&&(v=f[Ee],v!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:qn(l,c,Ee,v,f,null)}return;default:if(_r(c)){for(We in f)f.hasOwnProperty(We)&&(v=f[We],v!==void 0&&gw(l,c,We,v,f,void 0));return}}for(ae in f)f.hasOwnProperty(ae)&&(v=f[ae],v!=null&&qn(l,c,ae,v,f,null))}function a7(l,c,f,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,P=null,Y=null,ae=null,ge=null,Ee=null,We=null;for(qe in f){var tt=f[qe];if(f.hasOwnProperty(qe)&&tt!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":ge=tt;default:v.hasOwnProperty(qe)||qn(l,c,qe,null,v,tt)}}for(var Ie in v){var qe=v[Ie];if(tt=f[Ie],v.hasOwnProperty(Ie)&&(qe!=null||tt!=null))switch(Ie){case"type":P=qe;break;case"name":S=qe;break;case"checked":Ee=qe;break;case"defaultChecked":We=qe;break;case"value":Y=qe;break;case"defaultValue":ae=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,c));break;default:qe!==tt&&qn(l,c,Ie,qe,v,tt)}}ko(l,Y,ae,ge,Ee,We,P,S);return;case"select":qe=Y=ae=Ie=null;for(P in f)if(ge=f[P],f.hasOwnProperty(P)&&ge!=null)switch(P){case"value":break;case"multiple":qe=ge;default:v.hasOwnProperty(P)||qn(l,c,P,null,v,ge)}for(S in v)if(P=v[S],ge=f[S],v.hasOwnProperty(S)&&(P!=null||ge!=null))switch(S){case"value":Ie=P;break;case"defaultValue":ae=P;break;case"multiple":Y=P;default:P!==ge&&qn(l,c,S,P,v,ge)}c=ae,f=Y,v=qe,Ie!=null?Hs(l,!!f,Ie,!1):!!v!=!!f&&(c!=null?Hs(l,!!f,c,!0):Hs(l,!!f,f?[]:"",!1));return;case"textarea":qe=Ie=null;for(ae in f)if(S=f[ae],f.hasOwnProperty(ae)&&S!=null&&!v.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:qn(l,c,ae,null,v,S)}for(Y in v)if(S=v[Y],P=f[Y],v.hasOwnProperty(Y)&&(S!=null||P!=null))switch(Y){case"value":Ie=S;break;case"defaultValue":qe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==P&&qn(l,c,Y,S,v,P)}As(l,Ie,qe);return;case"option":for(var Pt in f)if(Ie=f[Pt],f.hasOwnProperty(Pt)&&Ie!=null&&!v.hasOwnProperty(Pt))switch(Pt){case"selected":l.selected=!1;break;default:qn(l,c,Pt,null,v,Ie)}for(ge in v)if(Ie=v[ge],qe=f[ge],v.hasOwnProperty(ge)&&Ie!==qe&&(Ie!=null||qe!=null))switch(ge){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:qn(l,c,ge,Ie,v,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in f)Ie=f[Qt],f.hasOwnProperty(Qt)&&Ie!=null&&!v.hasOwnProperty(Qt)&&qn(l,c,Qt,null,v,Ie);for(Ee in v)if(Ie=v[Ee],qe=f[Ee],v.hasOwnProperty(Ee)&&Ie!==qe&&(Ie!=null||qe!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,c));break;default:qn(l,c,Ee,Ie,v,qe)}return;default:if(_r(c)){for(var Hi in f)Ie=f[Hi],f.hasOwnProperty(Hi)&&Ie!==void 0&&!v.hasOwnProperty(Hi)&&gw(l,c,Hi,void 0,v,Ie);for(We in v)Ie=v[We],qe=f[We],!v.hasOwnProperty(We)||Ie===qe||Ie===void 0&&qe===void 0||gw(l,c,We,Ie,v,qe);return}}for(var Pe in f)Ie=f[Pe],f.hasOwnProperty(Pe)&&Ie!=null&&!v.hasOwnProperty(Pe)&&qn(l,c,Pe,null,v,Ie);for(tt in v)Ie=v[tt],qe=f[tt],!v.hasOwnProperty(tt)||Ie===qe||Ie==null&&qe==null||qn(l,c,tt,Ie,v,qe)}var mw=null,vw=null;function dy(l){return l.nodeType===9?l:l.ownerDocument}function LT(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MT(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function yw(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var bw=null;function l7(){var l=window.event;return l&&l.type==="popstate"?l===bw?!1:(bw=l,!0):(bw=null,!1)}var NT=typeof setTimeout=="function"?setTimeout:void 0,u7=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,c7=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(l){return OT.resolve(null).then(l).catch(d7)}:NT;function d7(l){setTimeout(function(){throw l})}function Cw(l,c){var f=c,v=0;do{var S=f.nextSibling;if(l.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(v===0){l.removeChild(S),Ag(c);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=S}while(f);Ag(c)}function ww(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":ww(f),Bs(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}l.removeChild(f)}}function h7(l,c,f,v){for(;l.nodeType===1;){var S=f;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[kr])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==S.rel||l.getAttribute("href")!==(S.href==null?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var P=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=Oa(l.nextSibling),l===null)break}return null}function f7(l,c,f){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Oa(l.nextSibling),l===null))return null;return l}function Oa(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}function kT(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}function IT(l,c,f){switch(c=dy(f),l){case"html":if(l=c.documentElement,!l)throw Error(i(452));return l;case"head":if(l=c.head,!l)throw Error(i(453));return l;case"body":if(l=c.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}var Qo=new Map,_T=new Set;function hy(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var Au=Z.d;Z.d={f:p7,r:g7,D:m7,C:v7,L:y7,m:b7,X:w7,S:C7,M:S7};function p7(){var l=Au.f(),c=ry();return l||c}function g7(l){var c=Vn(l);c!==null&&c.tag===5&&c.type==="form"?qd(c):Au.r(l)}var Sf=typeof document>"u"?null:document;function BT(l,c,f){var v=Sf;if(v&&typeof c=="string"&&c){var S=Oi(c);S='link[rel="'+l+'"][href="'+S+'"]',typeof f=="string"&&(S+='[crossorigin="'+f+'"]'),_T.has(S)||(_T.add(S),l={rel:l,crossOrigin:f,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),zr(c,"link",l),Qn(c),v.head.appendChild(c)))}}function m7(l){Au.D(l),BT("dns-prefetch",l,null)}function v7(l,c){Au.C(l,c),BT("preconnect",l,c)}function y7(l,c,f){Au.L(l,c,f);var v=Sf;if(v&&l&&c){var S='link[rel="preload"][as="'+Oi(c)+'"]';c==="image"&&f&&f.imageSrcSet?(S+='[imagesrcset="'+Oi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(S+='[imagesizes="'+Oi(f.imageSizes)+'"]')):S+='[href="'+Oi(l)+'"]';var P=S;switch(c){case"style":P=xf(l);break;case"script":P=Rf(l)}Qo.has(P)||(l=K({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:l,as:c},f),Qo.set(P,l),v.querySelector(S)!==null||c==="style"&&v.querySelector(yg(P))||c==="script"&&v.querySelector(bg(P))||(c=v.createElement("link"),zr(c,"link",l),Qn(c),v.head.appendChild(c)))}}function b7(l,c){Au.m(l,c);var f=Sf;if(f&&l){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+Oi(v)+'"][href="'+Oi(l)+'"]',P=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Rf(l)}if(!Qo.has(P)&&(l=K({rel:"modulepreload",href:l},c),Qo.set(P,l),f.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(bg(P)))return}v=f.createElement("link"),zr(v,"link",l),Qn(v),f.head.appendChild(v)}}}function C7(l,c,f){Au.S(l,c,f);var v=Sf;if(v&&l){var S=ws(v).hoistableStyles,P=xf(l);c=c||"default";var Y=S.get(P);if(!Y){var ae={loading:0,preload:null};if(Y=v.querySelector(yg(P)))ae.loading=5;else{l=K({rel:"stylesheet",href:l,"data-precedence":c},f),(f=Qo.get(P))&&Sw(l,f);var ge=Y=v.createElement("link");Qn(ge),zr(ge,"link",l),ge._p=new Promise(function(Ee,We){ge.onload=Ee,ge.onerror=We}),ge.addEventListener("load",function(){ae.loading|=1}),ge.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,fy(Y,c,v)}Y={type:"stylesheet",instance:Y,count:1,state:ae},S.set(P,Y)}}}function w7(l,c){Au.X(l,c);var f=Sf;if(f&&l){var v=ws(f).hoistableScripts,S=Rf(l),P=v.get(S);P||(P=f.querySelector(bg(S)),P||(l=K({src:l,async:!0},c),(c=Qo.get(S))&&xw(l,c),P=f.createElement("script"),Qn(P),zr(P,"link",l),f.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(S,P))}}function S7(l,c){Au.M(l,c);var f=Sf;if(f&&l){var v=ws(f).hoistableScripts,S=Rf(l),P=v.get(S);P||(P=f.querySelector(bg(S)),P||(l=K({src:l,async:!0,type:"module"},c),(c=Qo.get(S))&&xw(l,c),P=f.createElement("script"),Qn(P),zr(P,"link",l),f.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},v.set(S,P))}}function HT(l,c,f,v){var S=(S=Be.current)?hy(S):null;if(!S)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=xf(f.href),f=ws(S).hoistableStyles,v=f.get(c),v||(v={type:"style",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){l=xf(f.href);var P=ws(S).hoistableStyles,Y=P.get(l);if(Y||(S=S.ownerDocument||S,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,Y),(P=S.querySelector(yg(l)))&&!P._p&&(Y.instance=P,Y.state.loading=5),Qo.has(l)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Qo.set(l,f),P||x7(S,l,f,Y.state))),c&&v===null)throw Error(i(528,""));return Y}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Rf(f),f=ws(S).hoistableScripts,v=f.get(c),v||(v={type:"script",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function xf(l){return'href="'+Oi(l)+'"'}function yg(l){return'link[rel="stylesheet"]['+l+"]"}function jT(l){return K({},l,{"data-precedence":l.precedence,precedence:null})}function x7(l,c,f,v){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=l.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),zr(c,"link",f),Qn(c),l.head.appendChild(c))}function Rf(l){return'[src="'+Oi(l)+'"]'}function bg(l){return"script[async]"+l}function GT(l,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var v=l.querySelector('style[data-href~="'+Oi(f.href)+'"]');if(v)return c.instance=v,Qn(v),v;var S=K({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Qn(v),zr(v,"style",S),fy(v,f.precedence,l),c.instance=v;case"stylesheet":S=xf(f.href);var P=l.querySelector(yg(S));if(P)return c.state.loading|=4,c.instance=P,Qn(P),P;v=jT(f),(S=Qo.get(S))&&Sw(v,S),P=(l.ownerDocument||l).createElement("link"),Qn(P);var Y=P;return Y._p=new Promise(function(ae,ge){Y.onload=ae,Y.onerror=ge}),zr(P,"link",v),c.state.loading|=4,fy(P,f.precedence,l),c.instance=P;case"script":return P=Rf(f.src),(S=l.querySelector(bg(P)))?(c.instance=S,Qn(S),S):(v=f,(S=Qo.get(P))&&(v=K({},f),xw(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),Qn(S),zr(S,"link",v),l.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,fy(v,f.precedence,l));return c.instance}function fy(l,c,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,P=S,Y=0;Y<v.length;Y++){var ae=v[Y];if(ae.dataset.precedence===c)P=ae;else if(P!==S)break}P?P.parentNode.insertBefore(l,P.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(l,c.firstChild))}function Sw(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function xw(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var py=null;function VT(l,c,f){if(py===null){var v=new Map,S=py=new Map;S.set(f,v)}else S=py,v=S.get(f),v||(v=new Map,S.set(f,v));if(v.has(l))return v;for(v.set(l,null),f=f.getElementsByTagName(l),S=0;S<f.length;S++){var P=f[S];if(!(P[kr]||P[Dn]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=P.getAttribute(c)||"";Y=l+Y;var ae=v.get(Y);ae?ae.push(P):v.set(Y,[P])}}return v}function zT(l,c,f){l=l.ownerDocument||l,l.head.insertBefore(f,c==="title"?l.querySelector("head > title"):null)}function R7(l,c,f){if(f===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function qT(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Cg=null;function A7(){}function E7(l,c,f){if(Cg===null)throw Error(i(475));var v=Cg;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=xf(f.href),P=l.querySelector(yg(S));if(P){l=P._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=gy.bind(v),l.then(v,v)),c.state.loading|=4,c.instance=P,Qn(P);return}P=l.ownerDocument||l,f=jT(f),(S=Qo.get(S))&&Sw(f,S),P=P.createElement("link"),Qn(P);var Y=P;Y._p=new Promise(function(ae,ge){Y.onload=ae,Y.onerror=ge}),zr(P,"link",f),c.instance=P}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(v.count++,c=gy.bind(v),l.addEventListener("load",c),l.addEventListener("error",c))}}function T7(){if(Cg===null)throw Error(i(475));var l=Cg;return l.stylesheets&&l.count===0&&Rw(l,l.stylesheets),0<l.count?function(c){var f=setTimeout(function(){if(l.stylesheets&&Rw(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(f)}}:null}function gy(){if(this.count--,this.count===0){if(this.stylesheets)Rw(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var my=null;function Rw(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,my=new Map,c.forEach(P7,l),my=null,gy.call(l))}function P7(l,c){if(!(c.state.loading&4)){var f=my.get(l);if(f)var v=f.get(null);else{f=new Map,my.set(l,f);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<S.length;P++){var Y=S[P];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(f.set(Y.dataset.precedence,Y),v=Y)}v&&f.set(null,v)}S=c.instance,Y=S.getAttribute("data-precedence"),P=f.get(Y)||v,P===v&&f.set(null,S),f.set(Y,S),this.count++,v=gy.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),P?P.parentNode.insertBefore(S,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),c.state.loading|=4}}var wg={$$typeof:m,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function D7(l,c,f,v,S,P,Y,ae){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=P,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function UT(l,c,f,v,S,P,Y,ae,ge,Ee,We,tt){return l=new D7(l,c,f,Y,ae,ge,Ee,tt),c=1,P===!0&&(c|=24),P=Ko(3,null,null,c),l.current=P,P.stateNode=l,c=ef(),c.refCount++,l.pooledCache=c,c.refCount++,P.memoizedState={element:v,isDehydrated:f,cache:c},I0(P),l}function WT(l){return l?(l=Sa,l):Sa}function $T(l,c,f,v,S,P){S=WT(S),v.context===null?v.context=S:v.pendingContext=S,v=Pc(c),v.payload={element:f},P=P===void 0?null:P,P!==null&&(v.callback=P),f=Dc(l,v,c),f!==null&&(Ns(f,l,c),rg(f,l,c))}function KT(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function Aw(l,c){KT(l,c),(l=l.alternate)&&KT(l,c)}function YT(l){if(l.tag===13){var c=Ls(l,67108864);c!==null&&Ns(c,l,67108864),Aw(l,67108864)}}var vy=!0;function F7(l,c,f,v){var S=V.T;V.T=null;var P=Z.p;try{Z.p=2,Ew(l,c,f,v)}finally{Z.p=P,V.T=S}}function L7(l,c,f,v){var S=V.T;V.T=null;var P=Z.p;try{Z.p=8,Ew(l,c,f,v)}finally{Z.p=P,V.T=S}}function Ew(l,c,f,v){if(vy){var S=Tw(v);if(S===null)pw(l,c,v,yy,f),XT(l,v);else if(N7(S,l,c,f,v))v.stopPropagation();else if(XT(l,v),c&4&&-1<M7.indexOf(l)){for(;S!==null;){var P=Vn(S);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var Y=fn(P.pendingLanes);if(Y!==0){var ae=P;for(ae.pendingLanes|=2,ae.entangledLanes|=2;Y;){var ge=1<<31-En(Y);ae.entanglements[1]|=ge,Y&=~ge}Fl(P),(Ri&6)===0&&(ty=mt()+500,gg(0))}}break;case 13:ae=Ls(P,2),ae!==null&&Ns(ae,P,2),ry(),Aw(P,2)}if(P=Tw(v),P===null&&pw(l,c,v,yy,f),P===S)break;S=P}S!==null&&v.stopPropagation()}else pw(l,c,v,null,f)}}function Tw(l){return l=bi(l),Pw(l)}var yy=null;function Pw(l){if(yy=null,l=Cr(l),l!==null){var c=Q(l);if(c===null)l=null;else{var f=c.tag;if(f===13){if(l=ue(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return yy=l,null}function QT(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Vt:return 2;case zt:return 8;case wt:case vt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Dw=!1,Ic=null,_c=null,Bc=null,Sg=new Map,xg=new Map,Hc=[],M7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XT(l,c){switch(l){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":_c=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":Sg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xg.delete(c.pointerId)}}function Rg(l,c,f,v,S,P){return l===null||l.nativeEvent!==P?(l={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:P,targetContainers:[S]},c!==null&&(c=Vn(c),c!==null&&YT(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),l)}function N7(l,c,f,v,S){switch(c){case"focusin":return Ic=Rg(Ic,l,c,f,v,S),!0;case"dragenter":return _c=Rg(_c,l,c,f,v,S),!0;case"mouseover":return Bc=Rg(Bc,l,c,f,v,S),!0;case"pointerover":var P=S.pointerId;return Sg.set(P,Rg(Sg.get(P)||null,l,c,f,v,S)),!0;case"gotpointercapture":return P=S.pointerId,xg.set(P,Rg(xg.get(P)||null,l,c,f,v,S)),!0}return!1}function ZT(l){var c=Cr(l.target);if(c!==null){var f=Q(c);if(f!==null){if(c=f.tag,c===13){if(c=ue(f),c!==null){l.blockedOn=c,Cn(l.priority,function(){if(f.tag===13){var v=Eo(),S=Ls(f,v);S!==null&&Ns(S,f,v),Aw(f,v)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function by(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=Tw(l.nativeEvent);if(f===null){f=l.nativeEvent;var v=new f.constructor(f.type,f);ii=v,f.target.dispatchEvent(v),ii=null}else return c=Vn(f),c!==null&&YT(c),l.blockedOn=f,!1;c.shift()}return!0}function JT(l,c,f){by(l)&&f.delete(c)}function O7(){Dw=!1,Ic!==null&&by(Ic)&&(Ic=null),_c!==null&&by(_c)&&(_c=null),Bc!==null&&by(Bc)&&(Bc=null),Sg.forEach(JT),xg.forEach(JT)}function Cy(l,c){l.blockedOn===c&&(l.blockedOn=null,Dw||(Dw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,O7)))}var wy=null;function eP(l){wy!==l&&(wy=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wy===l&&(wy=null);for(var c=0;c<l.length;c+=3){var f=l[c],v=l[c+1],S=l[c+2];if(typeof v!="function"){if(Pw(v||f)===null)continue;break}var P=Vn(f);P!==null&&(l.splice(c,3),c-=3,af(P,{pending:!0,data:S,method:f.method,action:v},v,S))}}))}function Ag(l){function c(ge){return Cy(ge,l)}Ic!==null&&Cy(Ic,l),_c!==null&&Cy(_c,l),Bc!==null&&Cy(Bc,l),Sg.forEach(c),xg.forEach(c);for(var f=0;f<Hc.length;f++){var v=Hc[f];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Hc.length&&(f=Hc[0],f.blockedOn===null);)ZT(f),f.blockedOn===null&&Hc.shift();if(f=(l.ownerDocument||l).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var S=f[v],P=f[v+1],Y=S[Fn]||null;if(typeof P=="function")Y||eP(f);else if(Y){var ae=null;if(P&&P.hasAttribute("formAction")){if(S=P,Y=P[Fn]||null)ae=Y.formAction;else if(Pw(S)!==null)continue}else ae=Y.action;typeof ae=="function"?f[v+1]=ae:(f.splice(v,3),v-=3),eP(f)}}}function Fw(l){this._internalRoot=l}Sy.prototype.render=Fw.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(i(409));var f=c.current,v=Eo();$T(f,v,l,c,null,null)},Sy.prototype.unmount=Fw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;l.tag===0&&bf(),$T(l.current,2,null,l,null,null),ry(),c[Mi]=null}};function Sy(l){this._internalRoot=l}Sy.prototype.unstable_scheduleHydration=function(l){if(l){var c=In();l={blockedOn:null,target:l,priority:c};for(var f=0;f<Hc.length&&c!==0&&c<Hc[f].priority;f++);Hc.splice(f,0,l),f===0&&ZT(l)}};var tP=t.version;if(tP!=="19.0.0")throw Error(i(527,tP,"19.0.0"));Z.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=de(c),l=l!==null?j(l):null,l=l===null?null:l.stateNode,l};var k7={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xy.isDisabled&&xy.supportsFiber)try{Zt=xy.inject(k7),An=xy}catch{}}return Tg.createRoot=function(l,c){if(!r(l))throw Error(i(299));var f=!1,v="",S=tg,P=Kv,Y=df,ae=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(Y=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ae=c.unstable_transitionCallbacks)),c=UT(l,1,!1,null,null,f,v,S,P,Y,ae,null),l[Mi]=c.current,fw(l.nodeType===8?l.parentNode:l),new Fw(c)},Tg.hydrateRoot=function(l,c,f){if(!r(l))throw Error(i(299));var v=!1,S="",P=tg,Y=Kv,ae=df,ge=null,Ee=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(P=f.onUncaughtError),f.onCaughtError!==void 0&&(Y=f.onCaughtError),f.onRecoverableError!==void 0&&(ae=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(ge=f.unstable_transitionCallbacks),f.formState!==void 0&&(Ee=f.formState)),c=UT(l,1,!0,c,f??null,v,S,P,Y,ae,ge,Ee),c.context=WT(null),f=c.current,v=Eo(),S=Pc(v),S.callback=null,Dc(f,S,v),c.current.lanes=v,bt(c,v),Fl(c),l[Mi]=c.current,fw(l),new Sy(c)},Tg.version="19.0.0",Tg}var fP;function hH(){if(fP)return Nw.exports;fP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nw.exports=dH(),Nw.exports}var fH=hH();const pH=fd(fH);var _w={exports:{}},Bw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP;function gH(){if(pP)return Bw;pP=1;var e=Pp();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(u,d,h,p,g){var m=r(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function x(N){if(!C){if(C=!0,A=N,N=p(N),g!==void 0&&y.hasValue){var z=y.value;if(g(z,N))return E=z}return E=N}if(z=E,n(A,N))return z;var B=p(N);return g!==void 0&&g(z,B)?(A=N,z):(A=N,E=B)}var C=!1,A,E,F=h===void 0?null:h;return[function(){return x(d())},F===null?void 0:function(){return x(F())}]},[d,h,p,g]);var w=i(u,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),a(w),w},Bw}var gP;function mH(){return gP||(gP=1,_w.exports=gH()),_w.exports}var vH=mH();function ik(e){e()}function yH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ik(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var mP={notify(){},get:()=>[]};function bH(e,t){let n,i=mP,r=0,s=!1;function o(w){h();const x=i.subscribe(w);let C=!1;return()=>{C||(C=!0,x(),p())}}function a(){i.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return s}function h(){r++,n||(n=e.subscribe(u),i=yH())}function p(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=mP)}function g(){s||(s=!0,h())}function m(){s&&(s=!1,p())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>i};return y}var CH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wH=CH(),SH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xH=SH(),RH=()=>wH||xH?M.useLayoutEffect:M.useEffect,AH=RH();function vP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jg(e,t){if(vP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!vP(e[n[r]],t[n[r]]))return!1;return!0}var Hw=Symbol.for("react-redux-context"),jw=typeof globalThis<"u"?globalThis:{};function EH(){if(!M.createContext)return{};const e=jw[Hw]??(jw[Hw]=new Map);let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var nd=EH();function TH(e){const{children:t,context:n,serverState:i,store:r}=e,s=M.useMemo(()=>{const u=bH(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),o=M.useMemo(()=>r.getState(),[r]);AH(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const a=n||nd;return M.createElement(a.Provider,{value:s},t)}var PH=TH;function J5(e=nd){return function(){return M.useContext(e)}}var rk=J5();function sk(e=nd){const t=e===nd?rk:J5(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var ok=sk();function DH(e=nd){const t=e===nd?ok:sk(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var sv=DH(),FH=(e,t)=>e===t;function LH(e=nd){const t=e===nd?rk:J5(e),n=(i,r={})=>{const{equalityFn:s=FH}=typeof r=="function"?{equalityFn:r}:r,o=t(),{store:a,subscription:u,getServerState:d}=o;M.useRef(!0);const h=M.useCallback({[i.name](g){return i(g)}}[i.name],[i]),p=vH.useSyncExternalStoreWithSelector(u.addNestedSub,a.getState,d||a.getState,h,s);return M.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var ak=LH(),MH=ik;function qr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var NH=typeof Symbol=="function"&&Symbol.observable||"@@observable",yP=NH,Gw=()=>Math.random().toString(36).substring(7).split("").join("."),OH={INIT:`@@redux/INIT${Gw()}`,REPLACE:`@@redux/REPLACE${Gw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gw()}`},Hb=OH;function id(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lk(e,t,n){if(typeof e!="function")throw new Error(qr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qr(1));return n(lk)(e,t)}let i=e,r=t,s=new Map,o=s,a=0,u=!1;function d(){o===s&&(o=new Map,s.forEach((x,C)=>{o.set(C,x)}))}function h(){if(u)throw new Error(qr(3));return r}function p(x){if(typeof x!="function")throw new Error(qr(4));if(u)throw new Error(qr(5));let C=!0;d();const A=a++;return o.set(A,x),function(){if(C){if(u)throw new Error(qr(6));C=!1,d(),o.delete(A),s=null}}}function g(x){if(!id(x))throw new Error(qr(7));if(typeof x.type>"u")throw new Error(qr(8));if(typeof x.type!="string")throw new Error(qr(17));if(u)throw new Error(qr(9));try{u=!0,r=i(r,x)}finally{u=!1}return(s=o).forEach(A=>{A()}),x}function m(x){if(typeof x!="function")throw new Error(qr(10));i=x,g({type:Hb.REPLACE})}function y(){const x=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(qr(11));function A(){const F=C;F.next&&F.next(h())}return A(),{unsubscribe:x(A)}},[yP](){return this}}}return g({type:Hb.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:m,[yP]:y}}function kH(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hb.INIT})>"u")throw new Error(qr(12));if(typeof n(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qr(13))})}function uk(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const i=Object.keys(n);let r;try{kH(n)}catch(s){r=s}return function(o={},a){if(r)throw r;let u=!1;const d={};for(let h=0;h<i.length;h++){const p=i[h],g=n[p],m=o[p],y=g(m,a);if(typeof y>"u")throw a&&a.type,new Error(qr(14));d[p]=y,u=u||y!==m}return u=u||i.length!==Object.keys(o).length,u?d:o}}function jb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function IH(...e){return t=>(n,i)=>{const r=t(n,i);let s=()=>{throw new Error(qr(15))};const o={getState:r.getState,dispatch:(u,...d)=>s(u,...d)},a=e.map(u=>u(o));return s=jb(...a)(r.dispatch),{...r,dispatch:s}}}function ck(e){return id(e)&&"type"in e&&typeof e.type=="string"}var eR=Symbol.for("immer-nothing"),em=Symbol.for("immer-draftable"),Js=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wh=Object.getPrototypeOf;function Ul(e){return!!e&&!!e[Js]}function Ya(e){var t;return e?dk(e)||Array.isArray(e)||!!e[em]||!!((t=e.constructor)!=null&&t[em])||ov(e)||av(e):!1}var _H=Object.prototype.constructor.toString();function dk(e){if(!e||typeof e!="object")return!1;const t=wh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_H}function BH(e){return Ul(e)||Wr(15,e),e[Js].base_}function Am(e,t){Sh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Sh(e){const t=e[Js];return t?t.type_:Array.isArray(e)?1:ov(e)?2:av(e)?3:0}function Em(e,t){return Sh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vw(e,t){return Sh(e)===2?e.get(t):e[t]}function hk(e,t,n){const i=Sh(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function HH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ov(e){return e instanceof Map}function av(e){return e instanceof Set}function eh(e){return e.copy_||e.base_}function nx(e,t){if(ov(e))return new Map(e);if(av(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=dk(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Js];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(wh(e),i)}else{const i=wh(e);if(i!==null&&n)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function tR(e,t=!1){return kC(e)||Ul(e)||!Ya(e)||(Sh(e)>1&&(e.set=e.add=e.clear=e.delete=jH),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>tR(i,!0))),e}function jH(){Wr(2)}function kC(e){return Object.isFrozen(e)}var ix={};function xh(e){const t=ix[e];return t||Wr(0,e),t}function GH(e,t){ix[e]||(ix[e]=t)}var Tm;function fk(){return Tm}function VH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bP(e,t){t&&(xh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rx(e){sx(e),e.drafts_.forEach(zH),e.drafts_=null}function sx(e){e===Tm&&(Tm=e.parent_)}function CP(e){return Tm=VH(Tm,e)}function zH(e){const t=e[Js];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Js].modified_&&(rx(t),Wr(4)),Ya(e)&&(e=Gb(t,e),t.parent_||Vb(t,e)),t.patches_&&xh("Patches").generateReplacementPatches_(n[Js].base_,e,t.patches_,t.inversePatches_)):e=Gb(t,n,[]),rx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eR?e:void 0}function Gb(e,t,n){if(kC(t))return t;const i=t[Js];if(!i)return Am(t,(r,s)=>SP(e,i,t,r,s,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return Vb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),Am(s,(a,u)=>SP(e,i,r,a,u,n,o)),Vb(e,r,!1),n&&e.patches_&&xh("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function SP(e,t,n,i,r,s,o){if(Ul(r)){const a=s&&t&&t.type_!==3&&!Em(t.assigned_,i)?s.concat(i):void 0,u=Gb(e,r,a);if(hk(n,i,u),Ul(u))e.canAutoFreeze_=!1;else return}else o&&n.add(r);if(Ya(r)&&!kC(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gb(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Vb(e,r)}}function Vb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tR(t,n)}function qH(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:fk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=nR;n&&(r=[i],s=Pm);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}var nR={get(e,t){if(t===Js)return e;const n=eh(e);if(!Em(n,t))return UH(e,n,t);const i=n[t];return e.finalized_||!Ya(i)?i:i===zw(e.base_,t)?(qw(e),e.copy_[t]=ax(i,e)):i},has(e,t){return t in eh(e)},ownKeys(e){return Reflect.ownKeys(eh(e))},set(e,t,n){const i=pk(eh(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=zw(eh(e),t),s=r==null?void 0:r[Js];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(HH(n,r)&&(n!==void 0||Em(e.base_,t)))return!0;qw(e),ox(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qw(e),ox(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=eh(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return wh(e.base_)},setPrototypeOf(){Wr(12)}},Pm={};Am(nR,(e,t)=>{Pm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Pm.deleteProperty=function(e,t){return Pm.set.call(this,e,t,void 0)};Pm.set=function(e,t,n){return nR.set.call(this,e[0],t,n,e[0])};function zw(e,t){const n=e[Js];return(n?eh(n):e)[t]}function UH(e,t,n){var r;const i=pk(t,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(e.draft_):void 0}function pk(e,t){if(!(t in e))return;let n=wh(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=wh(n)}}function ox(e){e.modified_||(e.modified_=!0,e.parent_&&ox(e.parent_))}function qw(e){e.copy_||(e.copy_=nx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...d){return o.produce(u,h=>n.call(this,h,...d))}}typeof n!="function"&&Wr(6),i!==void 0&&typeof i!="function"&&Wr(7);let r;if(Ya(t)){const s=CP(this),o=ax(t,void 0);let a=!0;try{r=n(o),a=!1}finally{a?rx(s):sx(s)}return bP(s,i),wP(r,s)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===eR&&(r=void 0),this.autoFreeze_&&tR(r,!0),i){const s=[],o=[];xh("Patches").generateReplacementPatches_(t,r,s,o),i(s,o)}return r}else Wr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,u=>t(u,...a));let i,r;return[this.produce(t,n,(o,a)=>{i=o,r=a}),i,r]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ya(e)||Wr(8),Ul(e)&&(e=$H(e));const t=CP(this),n=ax(e,void 0);return n[Js].isManual_=!0,sx(t),n}finishDraft(e,t){const n=e&&e[Js];(!n||!n.isManual_)&&Wr(9);const{scope_:i}=n;return bP(i,t),wP(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=xh("Patches").applyPatches_;return Ul(e)?i(e,t):this.produce(e,r=>i(r,t))}};function ax(e,t){const n=ov(e)?xh("MapSet").proxyMap_(e,t):av(e)?xh("MapSet").proxySet_(e,t):qH(e,t);return(t?t.scope_:fk()).drafts_.push(n),n}function $H(e){return Ul(e)||Wr(10,e),gk(e)}function gk(e){if(!Ya(e)||kC(e))return e;const t=e[Js];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nx(e,t.scope_.immer_.useStrictShallowCopy_)}else n=nx(e,!0);return Am(n,(i,r)=>{hk(n,i,gk(r))}),t&&(t.finalized_=!1),n}function KH(){const t="replace",n="add",i="remove";function r(g,m,y,w){switch(g.type_){case 0:case 2:return o(g,m,y,w);case 1:return s(g,m,y,w);case 3:return a(g,m,y,w)}}function s(g,m,y,w){let{base_:x,assigned_:C}=g,A=g.copy_;A.length<x.length&&([x,A]=[A,x],[y,w]=[w,y]);for(let E=0;E<x.length;E++)if(C[E]&&A[E]!==x[E]){const F=m.concat([E]);y.push({op:t,path:F,value:p(A[E])}),w.push({op:t,path:F,value:p(x[E])})}for(let E=x.length;E<A.length;E++){const F=m.concat([E]);y.push({op:n,path:F,value:p(A[E])})}for(let E=A.length-1;x.length<=E;--E){const F=m.concat([E]);w.push({op:i,path:F})}}function o(g,m,y,w){const{base_:x,copy_:C}=g;Am(g.assigned_,(A,E)=>{const F=Vw(x,A),N=Vw(C,A),z=E?Em(x,A)?t:n:i;if(F===N&&z===t)return;const B=m.concat(A);y.push(z===i?{op:z,path:B}:{op:z,path:B,value:N}),w.push(z===n?{op:i,path:B}:z===i?{op:n,path:B,value:p(F)}:{op:t,path:B,value:p(F)})})}function a(g,m,y,w){let{base_:x,copy_:C}=g,A=0;x.forEach(E=>{if(!C.has(E)){const F=m.concat([A]);y.push({op:i,path:F,value:E}),w.unshift({op:n,path:F,value:E})}A++}),A=0,C.forEach(E=>{if(!x.has(E)){const F=m.concat([A]);y.push({op:n,path:F,value:E}),w.unshift({op:i,path:F,value:E})}A++})}function u(g,m,y,w){y.push({op:t,path:[],value:m===eR?void 0:m}),w.push({op:t,path:[],value:g})}function d(g,m){return m.forEach(y=>{const{path:w,op:x}=y;let C=g;for(let N=0;N<w.length-1;N++){const z=Sh(C);let B=w[N];typeof B!="string"&&typeof B!="number"&&(B=""+B),(z===0||z===1)&&(B==="__proto__"||B==="constructor")&&Wr(19),typeof C=="function"&&B==="prototype"&&Wr(19),C=Vw(C,B),typeof C!="object"&&Wr(18,w.join("/"))}const A=Sh(C),E=h(y.value),F=w[w.length-1];switch(x){case t:switch(A){case 2:return C.set(F,E);case 3:Wr(16);default:return C[F]=E}case n:switch(A){case 1:return F==="-"?C.push(E):C.splice(F,0,E);case 2:return C.set(F,E);case 3:return C.add(E);default:return C[F]=E}case i:switch(A){case 1:return C.splice(F,1);case 2:return C.delete(F);case 3:return C.delete(y.value);default:return delete C[F]}default:Wr(17,x)}}),g}function h(g){if(!Ya(g))return g;if(Array.isArray(g))return g.map(h);if(ov(g))return new Map(Array.from(g.entries()).map(([y,w])=>[y,h(w)]));if(av(g))return new Set(Array.from(g).map(h));const m=Object.create(wh(g));for(const y in g)m[y]=h(g[y]);return Em(g,em)&&(m[em]=g[em]),m}function p(g){return Ul(g)?h(g):g}GH("Patches",{applyPatches_:d,generatePatches_:r,generateReplacementPatches_:u})}var Fo=new WH,lv=Fo.produce,mk=Fo.produceWithPatches.bind(Fo);Fo.setAutoFreeze.bind(Fo);Fo.setUseStrictShallowCopy.bind(Fo);var xP=Fo.applyPatches.bind(Fo);Fo.createDraft.bind(Fo);Fo.finishDraft.bind(Fo);function YH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function QH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function XH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var RP=e=>Array.isArray(e)?e:[e];function ZH(e){const t=Array.isArray(e[0])?e[0]:e;return XH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function JH(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}var ej=class{constructor(e){this.value=e}deref(){return this.value}},tj=typeof WeakRef<"u"?WeakRef:ej,nj=0,AP=1;function Ry(){return{s:nj,v:void 0,o:null,p:null}}function zb(e,t={}){let n=Ry();const{resultEqualityCheck:i}=t;let r,s=0;function o(){var p;let a=n;const{length:u}=arguments;for(let g=0,m=u;g<m;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=a.o;w===null&&(a.o=w=new WeakMap);const x=w.get(y);x===void 0?(a=Ry(),w.set(y,a)):a=x}else{let w=a.p;w===null&&(a.p=w=new Map);const x=w.get(y);x===void 0?(a=Ry(),w.set(y,a)):a=x}}const d=a;let h;if(a.s===AP)h=a.v;else if(h=e.apply(null,arguments),s++,i){const g=((p=r==null?void 0:r.deref)==null?void 0:p.call(r))??r;g!=null&&i(g,h)&&(h=g,s!==0&&s--),r=typeof h=="object"&&h!==null||typeof h=="function"?new tj(h):h}return d.s=AP,d.v=h,h}return o.clearCache=()=>{n=Ry(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ij(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...r)=>{let s=0,o=0,a,u={},d=r.pop();typeof d=="object"&&(u=d,d=r.pop()),YH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:m=zb,argsMemoizeOptions:y=[]}=h,w=RP(g),x=RP(y),C=ZH(r),A=p(function(){return s++,d.apply(null,arguments)},...w),E=m(function(){o++;const N=JH(C,arguments);return a=A.apply(null,N),a},...x);return Object.assign(E,{resultFunc:d,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:m})};return Object.assign(i,{withTypes:()=>i}),i}var iR=ij(zb),rj=Object.assign((e,t=iR)=>{QH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(s=>e[s]);return t(i,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>rj});function vk(e){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,e):r(s)}var sj=vk(),oj=vk,aj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jb:jb.apply(null,arguments)},lj=e=>e&&typeof e.match=="function";function Wa(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error($a(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>ck(i)&&i.type===e,n}var yk=class zg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zg.prototype)}static get[Symbol.species](){return zg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zg(...t[0].concat(this)):new zg(...t.concat(this))}};function EP(e){return Ya(e)?lv(e,()=>{}):e}function TP(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function uj(e){return typeof e=="boolean"}var cj=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=t??{};let o=new yk;return n&&(uj(n)?o.push(sj):o.push(oj(n.extraArgument))),o},IC="RTK_autoBatch",Pg=()=>e=>({payload:e,meta:{[IC]:!0}}),PP=e=>t=>{setTimeout(t,e)},dj=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,s=!1,o=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PP(10):e.type==="callback"?e.queueNotification:PP(e.timeout),d=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const p=()=>r&&h(),g=i.subscribe(p);return a.add(h),()=>{g(),a.delete(h)}},dispatch(h){var p;try{return r=!((p=h==null?void 0:h.meta)!=null&&p[IC]),s=!r,s&&(o||(o=!0,u(d))),i.dispatch(h)}finally{r=!0}}})},hj=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new yk(e);return i&&r.push(dj(typeof i=="object"?i:void 0)),r};function fj(e){const t=cj(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(id(n))a=uk(n);else throw new Error($a(1));let u;typeof i=="function"?u=i(t):u=t();let d=jb;r&&(d=aj({trace:!1,...typeof r=="object"&&r}));const h=IH(...u),p=hj(h);let g=typeof o=="function"?o(p):p();const m=d(...g);return lk(a,s,m)}function bk(e){const t={},n=[];let i;const r={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error($a(28));if(a in t)throw new Error($a(29));return t[a]=o,r},addMatcher(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return e(r),[t,n,i]}function pj(e){return typeof e=="function"}function gj(e,t){let[n,i,r]=bk(t),s;if(pj(e))s=()=>EP(e());else{const a=EP(e);s=()=>a}function o(a=s(),u){let d=[n[u.type],...i.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[r]),d.reduce((h,p)=>{if(p)if(Ul(h)){const m=p(h,u);return m===void 0?h:m}else{if(Ya(h))return lv(h,g=>p(g,u));{const g=p(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},a)}return o.getInitialState=s,o}var Ck=(e,t)=>lj(e)?e.match(t):e(t);function Vu(...e){return t=>e.some(n=>Ck(n,t))}function tm(...e){return t=>e.every(n=>Ck(n,t))}function _C(e,t){if(!e||!e.meta)return!1;const n=typeof e.meta.requestId=="string",i=t.indexOf(e.meta.requestStatus)>-1;return n&&i}function uv(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function rR(...e){return e.length===0?t=>_C(t,["pending"]):uv(e)?Vu(...e.map(t=>t.pending)):rR()(e[0])}function hp(...e){return e.length===0?t=>_C(t,["rejected"]):uv(e)?Vu(...e.map(t=>t.rejected)):hp()(e[0])}function BC(...e){const t=n=>n&&n.meta&&n.meta.rejectedWithValue;return e.length===0?tm(hp(...e),t):uv(e)?tm(hp(...e),t):BC()(e[0])}function rd(...e){return e.length===0?t=>_C(t,["fulfilled"]):uv(e)?Vu(...e.map(t=>t.fulfilled)):rd()(e[0])}function lx(...e){return e.length===0?t=>_C(t,["pending","fulfilled","rejected"]):uv(e)?Vu(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):lx()(e[0])}var mj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sR=(e=21)=>{let t="",n=e;for(;n--;)t+=mj[Math.random()*64|0];return t},vj=["name","message","stack","code"],Uw=class{constructor(e,t){dt(this,"_type");this.payload=e,this.meta=t}},DP=class{constructor(e,t){dt(this,"_type");this.payload=e,this.meta=t}},yj=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of vj)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},FP=(()=>{function e(t,n,i){const r=Wa(t+"/fulfilled",(u,d,h,p)=>({payload:u,meta:{...p||{},arg:h,requestId:d,requestStatus:"fulfilled"}})),s=Wa(t+"/pending",(u,d,h)=>({payload:void 0,meta:{...h||{},arg:d,requestId:u,requestStatus:"pending"}})),o=Wa(t+"/rejected",(u,d,h,p,g)=>({payload:p,error:(i&&i.serializeError||yj)(u||"Rejected"),meta:{...g||{},arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(d,h,p)=>{const g=i!=null&&i.idGenerator?i.idGenerator(u):sR(),m=new AbortController;let y,w;function x(A){w=A,m.abort()}const C=async function(){var F,N;let A;try{let z=(F=i==null?void 0:i.condition)==null?void 0:F.call(i,u,{getState:h,extra:p});if(Cj(z)&&(z=await z),z===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((k,V)=>{y=()=>{V({name:"AbortError",message:w||"Aborted"})},m.signal.addEventListener("abort",y)});d(s(g,u,(N=i==null?void 0:i.getPendingMeta)==null?void 0:N.call(i,{requestId:g,arg:u},{getState:h,extra:p}))),A=await Promise.race([B,Promise.resolve(n(u,{dispatch:d,getState:h,extra:p,requestId:g,signal:m.signal,abort:x,rejectWithValue:(k,V)=>new Uw(k,V),fulfillWithValue:(k,V)=>new DP(k,V)})).then(k=>{if(k instanceof Uw)throw k;return k instanceof DP?r(k.payload,g,u,k.meta):r(k,g,u)})])}catch(z){A=z instanceof Uw?o(null,g,u,z.payload,z.meta):o(z,g,u)}finally{y&&m.signal.removeEventListener("abort",y)}return i&&!i.dispatchConditionRejection&&o.match(A)&&A.meta.condition||d(A),A}();return Object.assign(C,{abort:x,requestId:g,arg:u,unwrap(){return C.then(bj)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:r,settled:Vu(o,r),typePrefix:t})}return e.withTypes=()=>e,e})();function bj(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Cj(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var wj=Symbol.for("rtk-slice-createasyncthunk");function Sj(e,t){return`${e}/${t}`}function xj({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[wj];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error($a(11));const a=(typeof r.reducers=="function"?r.reducers(Aj()):r.reducers)||{},u=Object.keys(a),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,F){const N=typeof E=="string"?E:E.type;if(!N)throw new Error($a(12));if(N in d.sliceCaseReducersByType)throw new Error($a(13));return d.sliceCaseReducersByType[N]=F,h},addMatcher(E,F){return d.sliceMatchers.push({matcher:E,reducer:F}),h},exposeAction(E,F){return d.actionCreators[E]=F,h},exposeCaseReducer(E,F){return d.sliceCaseReducersByName[E]=F,h}};u.forEach(E=>{const F=a[E],N={reducerName:E,type:Sj(s,E),createNotation:typeof r.reducers=="function"};Tj(F)?Dj(N,F,h,t):Ej(N,F,h)});function p(){const[E={},F=[],N=void 0]=typeof r.extraReducers=="function"?bk(r.extraReducers):[r.extraReducers],z={...E,...d.sliceCaseReducersByType};return gj(r.initialState,B=>{for(let k in z)B.addCase(k,z[k]);for(let k of d.sliceMatchers)B.addMatcher(k.matcher,k.reducer);for(let k of F)B.addMatcher(k.matcher,k.reducer);N&&B.addDefaultCase(N)})}const g=E=>E,m=new Map;let y;function w(E,F){return y||(y=p()),y(E,F)}function x(){return y||(y=p()),y.getInitialState()}function C(E,F=!1){function N(B){let k=B[E];return typeof k>"u"&&F&&(k=x()),k}function z(B=g){const k=TP(m,F,()=>new WeakMap);return TP(k,B,()=>{const V={};for(const[K,T]of Object.entries(r.selectors??{}))V[K]=Rj(T,B,x,F);return V})}return{reducerPath:E,getSelectors:z,get selectors(){return z(N)},selectSlice:N}}const A={name:s,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...C(o),injectInto(E,{reducerPath:F,...N}={}){const z=F??o;return E.inject({reducerPath:z,reducer:w},N),{...A,...C(z,!0)}}};return A}}function Rj(e,t,n,i){function r(s,...o){let a=t(s);return typeof a>"u"&&i&&(a=n()),e(a,...o)}return r.unwrapped=e,r}var th=xj();function Aj(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Ej({type:e,reducerName:t,createNotation:n},i,r){let s,o;if("reducer"in i){if(n&&!Pj(i))throw new Error($a(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Wa(e,o):Wa(e))}function Tj(e){return e._reducerDefinitionType==="asyncThunk"}function Pj(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Dj({type:e,reducerName:t},n,i,r){if(!r)throw new Error($a(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:d,options:h}=n,p=r(e,s,h);i.exposeAction(t,p),o&&i.addCase(p.fulfilled,o),a&&i.addCase(p.pending,a),u&&i.addCase(p.rejected,u),d&&i.addMatcher(p.settled,d),i.exposeCaseReducer(t,{fulfilled:o||Ay,pending:a||Ay,rejected:u||Ay,settled:d||Ay})}function Ay(){}function $a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const wk=th({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1},reducers:{setUser:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1}}}),{setUser:oR,logout:Fj}=wk.actions,Lj=wk.reducer;var Sk=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(Sk||{});function LP(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var MP=id;function xk(e,t){if(e===t||!(MP(e)&&MP(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),i=Object.keys(e);let r=n.length===i.length;const s=Array.isArray(t)?[]:{};for(const o of n)s[o]=xk(e[o],t[o]),r&&(r=e[o]===s[o]);return r?e:s}function Qf(e){let t=0;for(const n in e)t++;return t}var NP=e=>[].concat(...e);function Mj(e){return new RegExp("(^|:)//").test(e)}function Nj(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function qb(e){return e!=null}function Oj(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var kj=e=>e.replace(/\/$/,""),Ij=e=>e.replace(/^\//,"");function _j(e,t){if(!e)return t;if(!t)return e;if(Mj(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=kj(e),t=Ij(t),`${e}${n}${t}`}function Bj(e,t,n){return e.has(t)?e.get(t):e.set(t,n).get(t)}var OP=(...e)=>fetch(...e),Hj=e=>e.status>=200&&e.status<=299,jj=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function kP(e){if(!id(e))return e;const t={...e};for(const[n,i]of Object.entries(t))i===void 0&&delete t[n];return t}function Dp({baseUrl:e,prepareHeaders:t=p=>p,fetchFn:n=OP,paramsSerializer:i,isJsonContentType:r=jj,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:u,validateStatus:d,...h}={}){return typeof fetch>"u"&&n===OP&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(g,m,y)=>{const{getState:w,extra:x,endpoint:C,forced:A,type:E}=m;let F,{url:N,headers:z=new Headers(h.headers),params:B=void 0,responseHandler:k=u??"json",validateStatus:V=d??Hj,timeout:K=a,...T}=typeof g=="string"?{url:g}:g,O,H=m.signal;K&&(O=new AbortController,m.signal.addEventListener("abort",O.abort),H=O.signal);let q={...h,signal:H,...T};z=new Headers(kP(z)),q.headers=await t(z,{getState:w,arg:g,extra:x,endpoint:C,forced:A,type:E,extraOptions:y})||z;const ee=Z=>typeof Z=="object"&&(id(Z)||Array.isArray(Z)||typeof Z.toJSON=="function");if(!q.headers.has("content-type")&&ee(q.body)&&q.headers.set("content-type",s),ee(q.body)&&r(q.headers)&&(q.body=JSON.stringify(q.body,o)),B){const Z=~N.indexOf("?")?"&":"?",re=i?i(B):new URLSearchParams(kP(B));N+=Z+re}N=_j(e,N);const $=new Request(N,q);F={request:new Request(N,q)};let Q,ue=!1,U=O&&setTimeout(()=>{ue=!0,O.abort()},K);try{Q=await n($)}catch(Z){return{error:{status:ue?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(Z)},meta:F}}finally{U&&clearTimeout(U),O==null||O.signal.removeEventListener("abort",O.abort)}const de=Q.clone();F.response=de;let j,X="";try{let Z;if(await Promise.all([p(Q,k).then(re=>j=re,re=>Z=re),de.text().then(re=>X=re,()=>{})]),Z)throw Z}catch(Z){return{error:{status:"PARSING_ERROR",originalStatus:Q.status,data:X,error:String(Z)},meta:F}}return V(Q,j)?{data:j,meta:F}:{error:{status:Q.status,data:j},meta:F}};async function p(g,m){if(typeof m=="function")return m(g);if(m==="content-type"&&(m=r(g.headers)?"json":"text"),m==="json"){const y=await g.text();return y.length?JSON.parse(y):null}return g.text()}}var IP=class{constructor(e,t=void 0){this.value=e,this.meta=t}},aR=Wa("__rtkq/focused"),Rk=Wa("__rtkq/unfocused"),lR=Wa("__rtkq/online"),Ak=Wa("__rtkq/offline");function uR(e){return e.type==="query"}function Gj(e){return e.type==="mutation"}function cR(e){return e.type==="infinitequery"}function dR(e,t,n,i,r,s){return Vj(e)?e(t,n,i,r).filter(qb).map(ux).map(s):Array.isArray(e)?e.map(ux).map(s):[]}function Vj(e){return typeof e=="function"}function ux(e){return typeof e=="string"?{type:e}:e}function zj(e,t){return e.catch(t)}var Dm=Symbol("forceQueryFn"),cx=e=>typeof e[Dm]=="function";function qj({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:i,api:r,context:s}){const o=new Map,a=new Map,{unsubscribeQueryResult:u,removeMutationResult:d,updateSubscriptionOptions:h}=r.internalActions;return{buildInitiateQuery:x,buildInitiateInfiniteQuery:C,buildInitiateMutation:A,getRunningQueryThunk:p,getRunningMutationThunk:g,getRunningQueriesThunk:m,getRunningMutationsThunk:y};function p(E,F){return N=>{var k;const z=s.endpointDefinitions[E],B=e({queryArgs:F,endpointDefinition:z,endpointName:E});return(k=o.get(N))==null?void 0:k[B]}}function g(E,F){return N=>{var z;return(z=a.get(N))==null?void 0:z[F]}}function m(){return E=>Object.values(o.get(E)||{}).filter(qb)}function y(){return E=>Object.values(a.get(E)||{}).filter(qb)}function w(E,F){const N=(z,{subscribe:B=!0,forceRefetch:k,subscriptionOptions:V,[Dm]:K,...T}={})=>(O,H)=>{var ce;const q=e({queryArgs:z,endpointDefinition:F,endpointName:E});let ee;const $={...T,type:"query",subscribe:B,forceRefetch:k,subscriptionOptions:V,endpointName:E,originalArgs:z,queryCacheKey:q,[Dm]:K};if(uR(F))ee=t($);else{const{direction:ye,initialPageParam:me}=T;ee=n({...$,direction:ye,initialPageParam:me})}const W=r.endpoints[E].select(z),Q=O(ee),ue=W(H()),{requestId:U,abort:de}=Q,j=ue.requestId!==U,X=(ce=o.get(O))==null?void 0:ce[q],Z=()=>W(H()),re=Object.assign(K?Q.then(Z):j&&!X?Promise.resolve(ue):Promise.all([X,Q]).then(Z),{arg:z,requestId:U,subscriptionOptions:V,queryCacheKey:q,abort:de,async unwrap(){const ye=await re;if(ye.isError)throw ye.error;return ye.data},refetch:()=>O(N(z,{subscribe:!1,forceRefetch:!0})),unsubscribe(){B&&O(u({queryCacheKey:q,requestId:U}))},updateSubscriptionOptions(ye){re.subscriptionOptions=ye,O(h({endpointName:E,requestId:U,queryCacheKey:q,options:ye}))}});if(!X&&!j&&!K){const ye=Bj(o,O,{});ye[q]=re,re.then(()=>{delete ye[q],Qf(ye)||o.delete(O)})}return re};return N}function x(E,F){return w(E,F)}function C(E,F){return w(E,F)}function A(E){return(F,{track:N=!0,fixedCacheKey:z}={})=>(B,k)=>{const V=i({type:"mutation",endpointName:E,originalArgs:F,track:N,fixedCacheKey:z}),K=B(V),{requestId:T,abort:O,unwrap:H}=K,q=zj(K.unwrap().then(Q=>({data:Q})),Q=>({error:Q})),ee=()=>{B(d({requestId:T,fixedCacheKey:z}))},$=Object.assign(q,{arg:K.arg,requestId:T,abort:O,unwrap:H,reset:ee}),W=a.get(B)||{};return a.set(B,W),W[T]=$,$.then(()=>{delete W[T],Qf(W)||a.delete(B)}),z&&(W[z]=$,$.then(()=>{W[z]===$&&(delete W[z],Qf(W)||a.delete(B))})),$}}}function Uj(e){return e}var Ey=(e={})=>({...e,[IC]:!0});function Wj({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:i,api:r,assertTagType:s,selectors:o}){const a=(k,V,K,T)=>(O,H)=>{const q=n[k],ee=i({queryArgs:V,endpointDefinition:q,endpointName:k});if(O(r.internalActions.queryResultPatched({queryCacheKey:ee,patches:K})),!T)return;const $=r.endpoints[k].select(V)(H()),W=dR(q.providesTags,$.data,void 0,V,{},s);O(r.internalActions.updateProvidedBy({queryCacheKey:ee,providedTags:W}))};function u(k,V,K=0){const T=[V,...k];return K&&T.length>K?T.slice(0,-1):T}function d(k,V,K=0){const T=[...k,V];return K&&T.length>K?T.slice(1):T}const h=(k,V,K,T=!0)=>(O,H)=>{const ee=r.endpoints[k].select(V)(H()),$={patches:[],inversePatches:[],undo:()=>O(r.util.patchQueryData(k,V,$.inversePatches,T))};if(ee.status==="uninitialized")return $;let W;if("data"in ee)if(Ya(ee.data)){const[Q,ue,U]=mk(ee.data,K);$.patches.push(...ue),$.inversePatches.push(...U),W=Q}else W=K(ee.data),$.patches.push({op:"replace",path:[],value:W}),$.inversePatches.push({op:"replace",path:[],value:ee.data});return $.patches.length===0||O(r.util.patchQueryData(k,V,$.patches,T)),$},p=(k,V,K)=>T=>T(r.endpoints[k].initiate(V,{subscribe:!1,forceRefetch:!0,[Dm]:()=>({data:K})})),g=(k,V)=>k.query&&k[V]?k[V]:Uj,m=async(k,{signal:V,abort:K,rejectWithValue:T,fulfillWithValue:O,dispatch:H,getState:q,extra:ee})=>{var W;const $=n[k.endpointName];try{let Q=g($,"transformResponse");const ue={signal:V,abort:K,dispatch:H,getState:q,extra:ee,endpoint:k.endpointName,type:k.type,forced:k.type==="query"?y(k,q()):void 0,queryCacheKey:k.type==="query"?k.queryCacheKey:void 0},U=k.type==="query"?k[Dm]:void 0;let de;const j=async(Z,re,ce,ye)=>{if(re==null&&Z.pages.length)return Promise.resolve({data:Z});const me={queryArg:k.originalArgs,pageParam:re},Se=await X(me),Oe=ye?u:d;return{data:{pages:Oe(Z.pages,Se.data,ce),pageParams:Oe(Z.pageParams,re,ce)}}};async function X(Z){let re;const{extraOptions:ce}=$;if(U?re=U():$.query?re=await t($.query(Z),ue,ce):re=await $.queryFn(Z,ue,ce,me=>t(me,ue,ce)),typeof process<"u",re.error)throw new IP(re.error,re.meta);const ye=await Q(re.data,re.meta,Z);return{...re,data:ye}}if(k.type==="query"&&"infiniteQueryOptions"in $){const{infiniteQueryOptions:Z}=$,{maxPages:re=1/0}=Z;let ce;const ye={pages:[],pageParams:[]},me=(W=o.selectQueryEntry(q(),k.queryCacheKey))==null?void 0:W.data,Oe=y(k,q())&&!k.direction||!me?ye:me;if("direction"in k&&k.direction&&Oe.pages.length){const _e=k.direction==="backward",Be=(_e?Ek:dx)(Z,Oe);ce=await j(Oe,Be,re,_e)}else{const{initialPageParam:_e=Z.initialPageParam}=k,$e=(me==null?void 0:me.pageParams)??[],Be=$e[0]??_e,it=$e.length;ce=await j(Oe,Be,re),U&&(ce={data:ce.data.pages[0]});for(let De=1;De<it;De++){const fe=dx(Z,ce.data);ce=await j(ce.data,fe,re)}}de=ce}else de=await X(k.originalArgs);return O(de.data,Ey({fulfilledTimeStamp:Date.now(),baseQueryMeta:de.meta}))}catch(Q){let ue=Q;if(ue instanceof IP){let U=g($,"transformErrorResponse");try{return T(await U(ue.value,ue.meta,k.originalArgs),Ey({baseQueryMeta:ue.meta}))}catch(de){ue=de}}throw console.error(ue),ue}};function y(k,V){const K=o.selectQueryEntry(V,k.queryCacheKey),T=o.selectConfig(V).refetchOnMountOrArgChange,O=K==null?void 0:K.fulfilledTimeStamp,H=k.forceRefetch??(k.subscribe&&T);return H?H===!0||(Number(new Date)-Number(O))/1e3>=H:!1}const w=()=>FP(`${e}/executeQuery`,m,{getPendingMeta({arg:V}){const K=n[V.endpointName];return Ey({startedTimeStamp:Date.now(),...cR(K)?{direction:V.direction}:{}})},condition(V,{getState:K}){var Q;const T=K(),O=o.selectQueryEntry(T,V.queryCacheKey),H=O==null?void 0:O.fulfilledTimeStamp,q=V.originalArgs,ee=O==null?void 0:O.originalArgs,$=n[V.endpointName],W=V.direction;return cx(V)?!0:(O==null?void 0:O.status)==="pending"?!1:y(V,T)||uR($)&&((Q=$==null?void 0:$.forceRefetch)!=null&&Q.call($,{currentArg:q,previousArg:ee,endpointState:O,state:T}))?!0:!(H&&!W)},dispatchConditionRejection:!0}),x=w(),C=w(),A=FP(`${e}/executeMutation`,m,{getPendingMeta(){return Ey({startedTimeStamp:Date.now()})}}),E=k=>"force"in k,F=k=>"ifOlderThan"in k,N=(k,V,K)=>(T,O)=>{const H=E(K)&&K.force,q=F(K)&&K.ifOlderThan,ee=(W=!0)=>{const Q={forceRefetch:W,isPrefetch:!0};return r.endpoints[k].initiate(V,Q)},$=r.endpoints[k].select(V)(O());if(H)T(ee());else if(q){const W=$==null?void 0:$.fulfilledTimeStamp;if(!W){T(ee());return}(Number(new Date)-Number(new Date(W)))/1e3>=q&&T(ee())}else T(ee(!1))};function z(k){return V=>{var K,T;return((T=(K=V==null?void 0:V.meta)==null?void 0:K.arg)==null?void 0:T.endpointName)===k}}function B(k,V){return{matchPending:tm(rR(k),z(V)),matchFulfilled:tm(rd(k),z(V)),matchRejected:tm(hp(k),z(V))}}return{queryThunk:x,mutationThunk:A,infiniteQueryThunk:C,prefetch:N,updateQueryData:h,upsertQueryData:p,patchQueryData:a,buildMatchThunkActions:B}}function dx(e,{pages:t,pageParams:n}){const i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n)}function Ek(e,{pages:t,pageParams:n}){var i;return(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n)}function Tk(e,t,n,i){return dR(n[e.meta.arg.endpointName][t],rd(e)?e.payload:void 0,BC(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function Ty(e,t,n){const i=e[t];i&&n(i)}function Fm(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function _P(e,t,n){const i=e[Fm(t)];i&&n(i)}var Dg={};function $j({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:i,context:{endpointDefinitions:r,apiUid:s,extractRehydrationInfo:o,hasRehydrationInfo:a},assertTagType:u,config:d}){const h=Wa(`${e}/resetApiState`);function p(z,B,k,V){var K;z[K=B.queryCacheKey]??(z[K]={status:"uninitialized",endpointName:B.endpointName}),Ty(z,B.queryCacheKey,T=>{T.status="pending",T.requestId=k&&T.requestId?T.requestId:V.requestId,B.originalArgs!==void 0&&(T.originalArgs=B.originalArgs),T.startedTimeStamp=V.startedTimeStamp;const O=r[V.arg.endpointName];cR(O)&&"direction"in B&&(T.direction=B.direction)})}function g(z,B,k,V){Ty(z,B.arg.queryCacheKey,K=>{if(K.requestId!==B.requestId&&!V)return;const{merge:T}=r[B.arg.endpointName];if(K.status="fulfilled",T)if(K.data!==void 0){const{fulfilledTimeStamp:O,arg:H,baseQueryMeta:q,requestId:ee}=B;let $=lv(K.data,W=>T(W,k,{arg:H.originalArgs,baseQueryMeta:q,fulfilledTimeStamp:O,requestId:ee}));K.data=$}else K.data=k;else K.data=r[B.arg.endpointName].structuralSharing??!0?xk(Ul(K.data)?BH(K.data):K.data,k):k;delete K.error,K.fulfilledTimeStamp=B.fulfilledTimeStamp})}const m=th({name:`${e}/queries`,initialState:Dg,reducers:{removeQueryResult:{reducer(z,{payload:{queryCacheKey:B}}){delete z[B]},prepare:Pg()},cacheEntriesUpserted:{reducer(z,B){for(const k of B.payload){const{queryDescription:V,value:K}=k;p(z,V,!0,{arg:V,requestId:B.meta.requestId,startedTimeStamp:B.meta.timestamp}),g(z,{arg:V,requestId:B.meta.requestId,fulfilledTimeStamp:B.meta.timestamp,baseQueryMeta:{}},K,!0)}},prepare:z=>({payload:z.map(V=>{const{endpointName:K,arg:T,value:O}=V,H=r[K];return{queryDescription:{type:"query",endpointName:K,originalArgs:V.arg,queryCacheKey:i({queryArgs:T,endpointDefinition:H,endpointName:K})},value:O}}),meta:{[IC]:!0,requestId:sR(),timestamp:Date.now()}})},queryResultPatched:{reducer(z,{payload:{queryCacheKey:B,patches:k}}){Ty(z,B,V=>{V.data=xP(V.data,k.concat())})},prepare:Pg()}},extraReducers(z){z.addCase(t.pending,(B,{meta:k,meta:{arg:V}})=>{const K=cx(V);p(B,V,K,k)}).addCase(t.fulfilled,(B,{meta:k,payload:V})=>{const K=cx(k.arg);g(B,k,V,K)}).addCase(t.rejected,(B,{meta:{condition:k,arg:V,requestId:K},error:T,payload:O})=>{Ty(B,V.queryCacheKey,H=>{if(!k){if(H.requestId!==K)return;H.status="rejected",H.error=O??T}})}).addMatcher(a,(B,k)=>{const{queries:V}=o(k);for(const[K,T]of Object.entries(V))((T==null?void 0:T.status)==="fulfilled"||(T==null?void 0:T.status)==="rejected")&&(B[K]=T)})}}),y=th({name:`${e}/mutations`,initialState:Dg,reducers:{removeMutationResult:{reducer(z,{payload:B}){const k=Fm(B);k in z&&delete z[k]},prepare:Pg()}},extraReducers(z){z.addCase(n.pending,(B,{meta:k,meta:{requestId:V,arg:K,startedTimeStamp:T}})=>{K.track&&(B[Fm(k)]={requestId:V,status:"pending",endpointName:K.endpointName,startedTimeStamp:T})}).addCase(n.fulfilled,(B,{payload:k,meta:V})=>{V.arg.track&&_P(B,V,K=>{K.requestId===V.requestId&&(K.status="fulfilled",K.data=k,K.fulfilledTimeStamp=V.fulfilledTimeStamp)})}).addCase(n.rejected,(B,{payload:k,error:V,meta:K})=>{K.arg.track&&_P(B,K,T=>{T.requestId===K.requestId&&(T.status="rejected",T.error=k??V)})}).addMatcher(a,(B,k)=>{const{mutations:V}=o(k);for(const[K,T]of Object.entries(V))((T==null?void 0:T.status)==="fulfilled"||(T==null?void 0:T.status)==="rejected")&&K!==(T==null?void 0:T.requestId)&&(B[K]=T)})}}),w=th({name:`${e}/invalidation`,initialState:Dg,reducers:{updateProvidedBy:{reducer(z,B){var K,T;const{queryCacheKey:k,providedTags:V}=B.payload;for(const O of Object.values(z))for(const H of Object.values(O)){const q=H.indexOf(k);q!==-1&&H.splice(q,1)}for(const{type:O,id:H}of V){const q=(K=z[O]??(z[O]={}))[T=H||"__internal_without_id"]??(K[T]=[]);q.includes(k)||q.push(k)}},prepare:Pg()}},extraReducers(z){z.addCase(m.actions.removeQueryResult,(B,{payload:{queryCacheKey:k}})=>{for(const V of Object.values(B))for(const K of Object.values(V)){const T=K.indexOf(k);T!==-1&&K.splice(T,1)}}).addMatcher(a,(B,k)=>{var K,T;const{provided:V}=o(k);for(const[O,H]of Object.entries(V))for(const[q,ee]of Object.entries(H)){const $=(K=B[O]??(B[O]={}))[T=q||"__internal_without_id"]??(K[T]=[]);for(const W of ee)$.includes(W)||$.push(W)}}).addMatcher(Vu(rd(t),BC(t)),(B,k)=>{const V=Tk(k,"providesTags",r,u),{queryCacheKey:K}=k.meta.arg;w.caseReducers.updateProvidedBy(B,w.actions.updateProvidedBy({queryCacheKey:K,providedTags:V}))})}}),x=th({name:`${e}/subscriptions`,initialState:Dg,reducers:{updateSubscriptionOptions(z,B){},unsubscribeQueryResult(z,B){},internal_getRTKQSubscriptions(){}}}),C=th({name:`${e}/internalSubscriptions`,initialState:Dg,reducers:{subscriptionsUpdated:{reducer(z,B){return xP(z,B.payload)},prepare:Pg()}}}),A=th({name:`${e}/config`,initialState:{online:Oj(),focused:Nj(),middlewareRegistered:!1,...d},reducers:{middlewareRegistered(z,{payload:B}){z.middlewareRegistered=z.middlewareRegistered==="conflict"||s!==B?"conflict":!0}},extraReducers:z=>{z.addCase(lR,B=>{B.online=!0}).addCase(Ak,B=>{B.online=!1}).addCase(aR,B=>{B.focused=!0}).addCase(Rk,B=>{B.focused=!1}).addMatcher(a,B=>({...B}))}}),E=uk({queries:m.reducer,mutations:y.reducer,provided:w.reducer,subscriptions:C.reducer,config:A.reducer}),F=(z,B)=>E(h.match(B)?void 0:z,B),N={...A.actions,...m.actions,...x.actions,...C.actions,...y.actions,...w.actions,resetApiState:h};return{reducer:F,actions:N}}var Fu=Symbol.for("RTKQ/skipToken"),Pk={status:"uninitialized"},BP=lv(Pk,()=>{}),HP=lv(Pk,()=>{});function Kj({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const i=E=>BP,r=E=>HP;return{buildQuerySelector:g,buildInfiniteQuerySelector:m,buildMutationSelector:y,selectInvalidatedBy:w,selectCachedArgsForQuery:x,selectApiState:o,selectQueries:a,selectMutations:d,selectQueryEntry:u,selectConfig:h};function s(E){return{...E,...LP(E.status)}}function o(E){return E[t]}function a(E){var F;return(F=o(E))==null?void 0:F.queries}function u(E,F){var N;return(N=a(E))==null?void 0:N[F]}function d(E){var F;return(F=o(E))==null?void 0:F.mutations}function h(E){var F;return(F=o(E))==null?void 0:F.config}function p(E,F,N){return z=>{if(z===Fu)return n(i,N);const B=e({queryArgs:z,endpointDefinition:F,endpointName:E});return n(V=>u(V,B)??BP,N)}}function g(E,F){return p(E,F,s)}function m(E,F){const{infiniteQueryOptions:N}=F;function z(B){const k={...B,...LP(B.status)},{isLoading:V,isError:K,direction:T}=k,O=T==="forward",H=T==="backward";return{...k,hasNextPage:C(N,k.data),hasPreviousPage:A(N,k.data),isFetchingNextPage:V&&O,isFetchingPreviousPage:V&&H,isFetchNextPageError:K&&O,isFetchPreviousPageError:K&&H}}return p(E,F,z)}function y(){return E=>{let F;return typeof E=="object"?F=Fm(E)??Fu:F=E,n(F===Fu?r:B=>{var k,V;return((V=(k=o(B))==null?void 0:k.mutations)==null?void 0:V[F])??HP},s)}}function w(E,F){const N=E[t],z=new Set;for(const B of F.filter(qb).map(ux)){const k=N.provided[B.type];if(!k)continue;let V=(B.id!==void 0?k[B.id]:NP(Object.values(k)))??[];for(const K of V)z.add(K)}return NP(Array.from(z.values()).map(B=>{const k=N.queries[B];return k?[{queryCacheKey:B,endpointName:k.endpointName,originalArgs:k.originalArgs}]:[]}))}function x(E,F){return Object.values(a(E)).filter(N=>(N==null?void 0:N.endpointName)===F&&N.status!=="uninitialized").map(N=>N.originalArgs)}function C(E,F){return F?dx(E,F)!=null:!1}function A(E,F){return!F||!E.getPreviousPageParam?!1:Ek(E,F)!=null}}var Af=WeakMap?new WeakMap:void 0,hx=({endpointName:e,queryArgs:t})=>{let n="";const i=Af==null?void 0:Af.get(t);if(typeof i=="string")n=i;else{const r=JSON.stringify(t,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=id(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o,o));id(t)&&(Af==null||Af.set(t,r)),n=r}return`${e}(${n})`};function Dk(...e){return function(n){const i=zb(d=>{var h;return(h=n.extractRehydrationInfo)==null?void 0:h.call(n,d,{reducerPath:n.reducerPath??"api"})}),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:i,serializeQueryArgs(d){let h=hx;if("serializeQueryArgs"in d.endpointDefinition){const p=d.endpointDefinition.serializeQueryArgs;h=g=>{const m=p(g);return typeof m=="string"?m:hx({...g,queryArgs:m})}}else n.serializeQueryArgs&&(h=n.serializeQueryArgs);return h(d)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(d){d()},apiUid:sR(),extractRehydrationInfo:i,hasRehydrationInfo:zb(d=>i(d)!=null)},o={injectEndpoints:u,enhanceEndpoints({addTagTypes:d,endpoints:h}){if(d)for(const p of d)r.tagTypes.includes(p)||r.tagTypes.push(p);if(h)for(const[p,g]of Object.entries(h))typeof g=="function"?g(s.endpointDefinitions[p]):Object.assign(s.endpointDefinitions[p]||{},g);return o}},a=e.map(d=>d.init(o,r,s));function u(d){const h=d.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"}),infiniteQuery:p=>({...p,type:"infinitequery"})});for(const[p,g]of Object.entries(h)){if(d.overrideExisting!==!0&&p in s.endpointDefinitions){if(d.overrideExisting==="throw")throw new Error($a(39));continue}s.endpointDefinitions[p]=g;for(const m of a)m.injectEndpoint(p,g)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function Eu(e,...t){return Object.assign(e,...t)}var Yj=({api:e,queryThunk:t,internalState:n})=>{const i=`${e.reducerPath}/subscriptions`;let r=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=e.internalActions,u=(m,y)=>{var x,C,A;if(o.match(y)){const{queryCacheKey:E,requestId:F,options:N}=y.payload;return(x=m==null?void 0:m[E])!=null&&x[F]&&(m[E][F]=N),!0}if(a.match(y)){const{queryCacheKey:E,requestId:F}=y.payload;return m[E]&&delete m[E][F],!0}if(e.internalActions.removeQueryResult.match(y))return delete m[y.payload.queryCacheKey],!0;if(t.pending.match(y)){const{meta:{arg:E,requestId:F}}=y,N=m[C=E.queryCacheKey]??(m[C]={});return N[`${F}_running`]={},E.subscribe&&(N[F]=E.subscriptionOptions??N[F]??{}),!0}let w=!1;if(t.fulfilled.match(y)||t.rejected.match(y)){const E=m[y.meta.arg.queryCacheKey]||{},F=`${y.meta.requestId}_running`;w||(w=!!E[F]),delete E[F]}if(t.rejected.match(y)){const{meta:{condition:E,arg:F,requestId:N}}=y;if(E&&F.subscribe){const z=m[A=F.queryCacheKey]??(m[A]={});z[N]=F.subscriptionOptions??z[N]??{},w=!0}}return w},d=()=>n.currentSubscriptions,g={getSubscriptions:d,getSubscriptionCount:m=>{const w=d()[m]??{};return Qf(w)},isRequestSubscribed:(m,y)=>{var x;const w=d();return!!((x=w==null?void 0:w[m])!=null&&x[y])}};return(m,y)=>{if(r||(r=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(m))return r=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(m))return[!1,g];const w=u(n.currentSubscriptions,m);let x=!0;if(w){s||(s=setTimeout(()=>{const E=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,F]=mk(r,()=>E);y.next(e.internalActions.subscriptionsUpdated(F)),r=E,s=null},500));const C=typeof m.type=="string"&&!!m.type.startsWith(i),A=t.rejected.match(m)&&m.meta.condition&&!!m.meta.arg.subscribe;x=!C&&!A}return[x,!1]}};function Qj(e){for(const t in e)return!1;return!0}var Xj=2147483647/1e3-1,Zj=({reducerPath:e,api:t,queryThunk:n,context:i,internalState:r,selectors:{selectQueryEntry:s,selectConfig:o}})=>{const{removeQueryResult:a,unsubscribeQueryResult:u,cacheEntriesUpserted:d}=t.internalActions,h=Vu(u.match,n.fulfilled,n.rejected,d.match);function p(x){const C=r.currentSubscriptions[x];return!!C&&!Qj(C)}const g={},m=(x,C,A)=>{const E=C.getState(),F=o(E);if(h(x)){let N;if(d.match(x))N=x.payload.map(z=>z.queryDescription.queryCacheKey);else{const{queryCacheKey:z}=u.match(x)?x.payload:x.meta.arg;N=[z]}y(N,C,F)}if(t.util.resetApiState.match(x))for(const[N,z]of Object.entries(g))z&&clearTimeout(z),delete g[N];if(i.hasRehydrationInfo(x)){const{queries:N}=i.extractRehydrationInfo(x);y(Object.keys(N),C,F)}};function y(x,C,A){const E=C.getState();for(const F of x){const N=s(E,F);w(F,N==null?void 0:N.endpointName,C,A)}}function w(x,C,A,E){const F=i.endpointDefinitions[C],N=(F==null?void 0:F.keepUnusedDataFor)??E.keepUnusedDataFor;if(N===1/0)return;const z=Math.max(0,Math.min(N,Xj));if(!p(x)){const B=g[x];B&&clearTimeout(B),g[x]=setTimeout(()=>{p(x)||A.dispatch(a({queryCacheKey:x})),delete g[x]},z*1e3)}}return m},jP=new Error("Promise never resolved before cacheEntryRemoved."),Jj=({api:e,reducerPath:t,context:n,queryThunk:i,mutationThunk:r,internalState:s,selectors:{selectQueryEntry:o,selectApiState:a}})=>{const u=lx(i),d=lx(r),h=rd(i,r),p={};function g(C,A,E){const F=p[C];F!=null&&F.valueResolved&&(F.valueResolved({data:A,meta:E}),delete F.valueResolved)}function m(C){const A=p[C];A&&(delete p[C],A.cacheEntryRemoved())}const y=(C,A,E)=>{const F=w(C);function N(z,B,k,V){const K=o(E,B),T=o(A.getState(),B);!K&&T&&x(z,V,B,A,k)}if(i.pending.match(C))N(C.meta.arg.endpointName,F,C.meta.requestId,C.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(C))for(const{queryDescription:z,value:B}of C.payload){const{endpointName:k,originalArgs:V,queryCacheKey:K}=z;N(k,K,C.meta.requestId,V),g(K,B,{})}else if(r.pending.match(C))A.getState()[t].mutations[F]&&x(C.meta.arg.endpointName,C.meta.arg.originalArgs,F,A,C.meta.requestId);else if(h(C))g(F,C.payload,C.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(C)||e.internalActions.removeMutationResult.match(C))m(F);else if(e.util.resetApiState.match(C))for(const z of Object.keys(p))m(z)};function w(C){return u(C)?C.meta.arg.queryCacheKey:d(C)?C.meta.arg.fixedCacheKey??C.meta.requestId:e.internalActions.removeQueryResult.match(C)?C.payload.queryCacheKey:e.internalActions.removeMutationResult.match(C)?Fm(C.payload):""}function x(C,A,E,F,N){const z=n.endpointDefinitions[C],B=z==null?void 0:z.onCacheEntryAdded;if(!B)return;const k={},V=new Promise(ee=>{k.cacheEntryRemoved=ee}),K=Promise.race([new Promise(ee=>{k.valueResolved=ee}),V.then(()=>{throw jP})]);K.catch(()=>{}),p[E]=k;const T=e.endpoints[C].select(z.type==="query"?A:E),O=F.dispatch((ee,$,W)=>W),H={...F,getCacheEntry:()=>T(F.getState()),requestId:N,extra:O,updateCachedData:z.type==="query"?ee=>F.dispatch(e.util.updateQueryData(C,A,ee)):void 0,cacheDataLoaded:K,cacheEntryRemoved:V},q=B(A,H);Promise.resolve(q).catch(ee=>{if(ee!==jP)throw ee})}return y},eG=({api:e,context:{apiUid:t},reducerPath:n})=>(i,r)=>{e.util.resetApiState.match(i)&&r.dispatch(e.internalActions.middlewareRegistered(t))},tG=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:i,queryThunk:r,api:s,assertTagType:o,refetchQuery:a,internalState:u})=>{const{removeQueryResult:d}=s.internalActions,h=Vu(rd(i),BC(i)),p=Vu(rd(i,r),hp(i,r));let g=[];const m=(x,C)=>{h(x)?w(Tk(x,"invalidatesTags",n,o),C):p(x)?w([],C):s.util.invalidateTags.match(x)&&w(dR(x.payload,void 0,void 0,void 0,void 0,o),C)};function y(x){var E;const{queries:C,mutations:A}=x;for(const F of[C,A])for(const N in F)if(((E=F[N])==null?void 0:E.status)==="pending")return!0;return!1}function w(x,C){const A=C.getState(),E=A[e];if(g.push(...x),E.config.invalidationBehavior==="delayed"&&y(E))return;const F=g;if(g=[],F.length===0)return;const N=s.util.selectInvalidatedBy(A,F);t.batch(()=>{const z=Array.from(N.values());for(const{queryCacheKey:B}of z){const k=E.queries[B],V=u.currentSubscriptions[B]??{};k&&(Qf(V)===0?C.dispatch(d({queryCacheKey:B})):k.status!=="uninitialized"&&C.dispatch(a(k)))}})}return m},nG=({reducerPath:e,queryThunk:t,api:n,refetchQuery:i,internalState:r})=>{const s={},o=(g,m)=>{(n.internalActions.updateSubscriptionOptions.match(g)||n.internalActions.unsubscribeQueryResult.match(g))&&u(g.payload,m),(t.pending.match(g)||t.rejected.match(g)&&g.meta.condition)&&u(g.meta.arg,m),(t.fulfilled.match(g)||t.rejected.match(g)&&!g.meta.condition)&&a(g.meta.arg,m),n.util.resetApiState.match(g)&&h()};function a({queryCacheKey:g},m){const y=m.getState()[e],w=y.queries[g],x=r.currentSubscriptions[g];if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:C,skipPollingIfUnfocused:A}=p(x);if(!Number.isFinite(C))return;const E=s[g];E!=null&&E.timeout&&(clearTimeout(E.timeout),E.timeout=void 0);const F=Date.now()+C;s[g]={nextPollTimestamp:F,pollingInterval:C,timeout:setTimeout(()=>{(y.config.focused||!A)&&m.dispatch(i(w)),a({queryCacheKey:g},m)},C)}}function u({queryCacheKey:g},m){const w=m.getState()[e].queries[g],x=r.currentSubscriptions[g];if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:C}=p(x);if(!Number.isFinite(C)){d(g);return}const A=s[g],E=Date.now()+C;(!A||E<A.nextPollTimestamp)&&a({queryCacheKey:g},m)}function d(g){const m=s[g];m!=null&&m.timeout&&clearTimeout(m.timeout),delete s[g]}function h(){for(const g of Object.keys(s))d(g)}function p(g={}){let m=!1,y=Number.POSITIVE_INFINITY;for(let w in g)g[w].pollingInterval&&(y=Math.min(g[w].pollingInterval,y),m=g[w].skipPollingIfUnfocused||m);return{lowestPollingInterval:y,skipPollingIfUnfocused:m}}return o},iG=({api:e,context:t,queryThunk:n,mutationThunk:i})=>{const r=rR(n,i),s=hp(n,i),o=rd(n,i),a={};return(d,h)=>{var p,g;if(r(d)){const{requestId:m,arg:{endpointName:y,originalArgs:w}}=d.meta,x=t.endpointDefinitions[y],C=x==null?void 0:x.onQueryStarted;if(C){const A={},E=new Promise((B,k)=>{A.resolve=B,A.reject=k});E.catch(()=>{}),a[m]=A;const F=e.endpoints[y].select(x.type==="query"?w:m),N=h.dispatch((B,k,V)=>V),z={...h,getCacheEntry:()=>F(h.getState()),requestId:m,extra:N,updateCachedData:x.type==="query"?B=>h.dispatch(e.util.updateQueryData(y,w,B)):void 0,queryFulfilled:E};C(w,z)}}else if(o(d)){const{requestId:m,baseQueryMeta:y}=d.meta;(p=a[m])==null||p.resolve({data:d.payload,meta:y}),delete a[m]}else if(s(d)){const{requestId:m,rejectedWithValue:y,baseQueryMeta:w}=d.meta;(g=a[m])==null||g.reject({error:d.payload??d.error,isUnhandledError:!y,meta:w}),delete a[m]}}},rG=({reducerPath:e,context:t,api:n,refetchQuery:i,internalState:r})=>{const{removeQueryResult:s}=n.internalActions,o=(u,d)=>{aR.match(u)&&a(d,"refetchOnFocus"),lR.match(u)&&a(d,"refetchOnReconnect")};function a(u,d){const h=u.getState()[e],p=h.queries,g=r.currentSubscriptions;t.batch(()=>{for(const m of Object.keys(g)){const y=p[m],w=g[m];if(!w||!y)continue;(Object.values(w).some(C=>C[d]===!0)||Object.values(w).every(C=>C[d]===void 0)&&h.config[d])&&(Qf(w)===0?u.dispatch(s({queryCacheKey:m})):y.status!=="uninitialized"&&u.dispatch(i(y)))}})}return o};function sG(e){const{reducerPath:t,queryThunk:n,api:i,context:r}=e,{apiUid:s}=r,o={invalidateTags:Wa(`${t}/invalidateTags`)},a=p=>p.type.startsWith(`${t}/`),u=[eG,Zj,tG,nG,Jj,iG];return{middleware:p=>{let g=!1;const y={...e,internalState:{currentSubscriptions:{}},refetchQuery:h,isThisApiSliceAction:a},w=u.map(A=>A(y)),x=Yj(y),C=rG(y);return A=>E=>{if(!ck(E))return A(E);g||(g=!0,p.dispatch(i.internalActions.middlewareRegistered(s)));const F={...p,next:A},N=p.getState(),[z,B]=x(E,F,N);let k;if(z?k=A(E):k=B,p.getState()[t]&&(C(E,F,N),a(E)||r.hasRehydrationInfo(E)))for(const V of w)V(E,F,N);return k}},actions:o};function h(p){return e.api.endpoints[p.endpointName].initiate(p.originalArgs,{subscribe:!1,forceRefetch:!0})}}var GP=Symbol(),Fk=({createSelector:e=iR}={})=>({name:GP,init(t,{baseQuery:n,tagTypes:i,reducerPath:r,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:u,refetchOnReconnect:d,invalidationBehavior:h},p){KH();const g=j=>j;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:lR,onOffline:Ak,onFocus:aR,onFocusLost:Rk},util:{}});const m=Kj({serializeQueryArgs:s,reducerPath:r,createSelector:e}),{selectInvalidatedBy:y,selectCachedArgsForQuery:w,buildQuerySelector:x,buildInfiniteQuerySelector:C,buildMutationSelector:A}=m;Eu(t.util,{selectInvalidatedBy:y,selectCachedArgsForQuery:w});const{queryThunk:E,infiniteQueryThunk:F,mutationThunk:N,patchQueryData:z,updateQueryData:B,upsertQueryData:k,prefetch:V,buildMatchThunkActions:K}=Wj({baseQuery:n,reducerPath:r,context:p,api:t,serializeQueryArgs:s,assertTagType:g,selectors:m}),{reducer:T,actions:O}=$j({context:p,queryThunk:E,mutationThunk:N,serializeQueryArgs:s,reducerPath:r,assertTagType:g,config:{refetchOnFocus:u,refetchOnReconnect:d,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:r,invalidationBehavior:h}});Eu(t.util,{patchQueryData:z,updateQueryData:B,upsertQueryData:k,prefetch:V,resetApiState:O.resetApiState,upsertQueryEntries:O.cacheEntriesUpserted}),Eu(t.internalActions,O);const{middleware:H,actions:q}=sG({reducerPath:r,context:p,queryThunk:E,mutationThunk:N,infiniteQueryThunk:F,api:t,assertTagType:g,selectors:m});Eu(t.util,q),Eu(t,{reducer:T,middleware:H});const{buildInitiateQuery:ee,buildInitiateInfiniteQuery:$,buildInitiateMutation:W,getRunningMutationThunk:Q,getRunningMutationsThunk:ue,getRunningQueriesThunk:U,getRunningQueryThunk:de}=qj({queryThunk:E,mutationThunk:N,infiniteQueryThunk:F,api:t,serializeQueryArgs:s,context:p});return Eu(t.util,{getRunningMutationThunk:Q,getRunningMutationsThunk:ue,getRunningQueryThunk:de,getRunningQueriesThunk:U}),{name:GP,injectEndpoint(j,X){var ce;const re=(ce=t.endpoints)[j]??(ce[j]={});uR(X)&&Eu(re,{name:j,select:x(j,X),initiate:ee(j,X)},K(E,j)),Gj(X)&&Eu(re,{name:j,select:A(),initiate:W(j)},K(N,j)),cR(X)&&Eu(re,{name:j,select:C(j,X),initiate:$(j,X)},K(E,j))}}}});Fk();function Py(e){return e.replace(e[0],e[0].toUpperCase())}function oG(e){return e.type==="query"}function aG(e){return e.type==="mutation"}function Lk(e){return e.type==="infinitequery"}function Fg(e,...t){return Object.assign(e,...t)}var Ww=Symbol();function VP(e,t,n,i){const r=M.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:i}):e}),[e,t,n,i]),s=M.useRef(r);return M.useEffect(()=>{s.current.serialized!==r.serialized&&(s.current=r)},[r]),s.current.serialized===r.serialized?s.current.queryArgs:e}function Dy(e){const t=M.useRef(e);return M.useEffect(()=>{Jg(t.current,e)||(t.current=e)},[e]),Jg(t.current,e)?t.current:e}var lG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uG=lG(),cG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dG=cG(),hG=()=>uG||dG?M.useLayoutEffect:M.useEffect,fG=hG(),zP=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Sk.pending}:e;function $w(e,...t){const n={};return t.forEach(i=>{n[i]=e[i]}),n}var Kw=["data","status","isLoading","isSuccess","isError","error"];function pG({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:i,useStore:r},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:u}){const d=s?F=>F():M.useEffect;return{buildQueryHooks:C,buildInfiniteQueryHooks:A,buildMutationHook:E,usePrefetch:g};function h(F,N,z){if(N!=null&&N.endpointName&&F.isUninitialized){const{endpointName:O}=N,H=u.endpointDefinitions[O];z!==Fu&&a({queryArgs:N.originalArgs,endpointDefinition:H,endpointName:O})===a({queryArgs:z,endpointDefinition:H,endpointName:O})&&(N=void 0)}let B=F.isSuccess?F.data:N==null?void 0:N.data;B===void 0&&(B=F.data);const k=B!==void 0,V=F.isLoading,K=(!N||N.isLoading||N.isUninitialized)&&!k&&V,T=F.isSuccess||k&&(V&&!(N!=null&&N.isError)||F.isUninitialized);return{...F,data:B,currentData:F.data,isFetching:V,isLoading:K,isSuccess:T}}function p(F,N,z){if(N!=null&&N.endpointName&&F.isUninitialized){const{endpointName:O}=N,H=u.endpointDefinitions[O];a({queryArgs:N.originalArgs,endpointDefinition:H,endpointName:O})===a({queryArgs:z,endpointDefinition:H,endpointName:O})&&(N=void 0)}let B=F.isSuccess?F.data:N==null?void 0:N.data;B===void 0&&(B=F.data);const k=B!==void 0,V=F.isLoading,K=(!N||N.isLoading||N.isUninitialized)&&!k&&V,T=F.isSuccess||V&&k;return{...F,data:B,currentData:F.data,isFetching:V,isLoading:K,isSuccess:T}}function g(F,N){const z=n(),B=Dy(N);return M.useCallback((k,V)=>z(e.util.prefetch(F,k,{...B,...V})),[F,z,B])}function m(F,N,{refetchOnReconnect:z,refetchOnFocus:B,refetchOnMountOrArgChange:k,skip:V=!1,pollingInterval:K=0,skipPollingIfUnfocused:T=!1,...O}={}){const{initiate:H}=e.endpoints[F],q=n(),ee=M.useRef(void 0);if(!ee.current){const ce=q(e.internalActions.internal_getRTKQSubscriptions());ee.current=ce}const $=VP(V?Fu:N,hx,u.endpointDefinitions[F],F),W=Dy({refetchOnReconnect:z,refetchOnFocus:B,pollingInterval:K,skipPollingIfUnfocused:T}),Q=M.useRef(!1),ue=O.initialPageParam,U=Dy(ue),de=M.useRef(void 0);let{queryCacheKey:j,requestId:X}=de.current||{},Z=!1;j&&X&&(Z=ee.current.isRequestSubscribed(j,X));const re=!Z&&Q.current;return d(()=>{Q.current=Z}),d(()=>{re&&(de.current=void 0)},[re]),d(()=>{var me;const ce=de.current;if($===Fu){ce==null||ce.unsubscribe(),de.current=void 0;return}const ye=(me=de.current)==null?void 0:me.subscriptionOptions;if(!ce||ce.arg!==$){ce==null||ce.unsubscribe();const Se=q(H($,{subscriptionOptions:W,forceRefetch:k,...Lk(u.endpointDefinitions[F])?{initialPageParam:U}:{}}));de.current=Se}else W!==ye&&ce.updateSubscriptionOptions(W)},[q,H,k,$,W,re,U,F]),[de,q,H,W]}function y(F,N){return(B,{skip:k=!1,selectFromResult:V}={})=>{const{select:K}=e.endpoints[F],T=VP(k?Fu:B,a,u.endpointDefinitions[F],F),O=M.useRef(void 0),H=M.useMemo(()=>o([K(T),(Q,ue)=>ue,Q=>T],N,{memoizeOptions:{resultEqualityCheck:Jg}}),[K,T]),q=M.useMemo(()=>V?o([H],V,{devModeChecks:{identityFunctionCheck:"never"}}):H,[H,V]),ee=i(Q=>q(Q,O.current),Jg),$=r(),W=H($.getState(),O.current);return fG(()=>{O.current=W},[W]),ee}}function w(F){M.useEffect(()=>()=>{var N,z;(z=(N=F.current)==null?void 0:N.unsubscribe)==null||z.call(N),F.current=void 0},[F])}function x(F){if(!F.current)throw new Error($a(38));return F.current.refetch()}function C(F){const N=(k,V={})=>{const[K]=m(F,k,V);return w(K),M.useMemo(()=>({refetch:()=>x(K)}),[K])},z=({refetchOnReconnect:k,refetchOnFocus:V,pollingInterval:K=0,skipPollingIfUnfocused:T=!1}={})=>{const{initiate:O}=e.endpoints[F],H=n(),[q,ee]=M.useState(Ww),$=M.useRef(void 0),W=Dy({refetchOnReconnect:k,refetchOnFocus:V,pollingInterval:K,skipPollingIfUnfocused:T});d(()=>{var j,X;const de=(j=$.current)==null?void 0:j.subscriptionOptions;W!==de&&((X=$.current)==null||X.updateSubscriptionOptions(W))},[W]);const Q=M.useRef(W);d(()=>{Q.current=W},[W]);const ue=M.useCallback(function(de,j=!1){let X;return t(()=>{var Z;(Z=$.current)==null||Z.unsubscribe(),$.current=X=H(O(de,{subscriptionOptions:Q.current,forceRefetch:!j})),ee(de)}),X},[H,O]),U=M.useCallback(()=>{var de,j;(de=$.current)!=null&&de.queryCacheKey&&H(e.internalActions.removeQueryResult({queryCacheKey:(j=$.current)==null?void 0:j.queryCacheKey}))},[H]);return M.useEffect(()=>()=>{var de;(de=$==null?void 0:$.current)==null||de.unsubscribe()},[]),M.useEffect(()=>{q!==Ww&&!$.current&&ue(q,!0)},[q,ue]),M.useMemo(()=>[ue,q,{reset:U}],[ue,q,U])},B=y(F,h);return{useQueryState:B,useQuerySubscription:N,useLazyQuerySubscription:z,useLazyQuery(k){const[V,K,{reset:T}]=z(k),O=B(K,{...k,skip:K===Ww}),H=M.useMemo(()=>({lastArg:K}),[K]);return M.useMemo(()=>[V,{...O,reset:T},H],[V,O,T,H])},useQuery(k,V){const K=N(k,V),T=B(k,{selectFromResult:k===Fu||V!=null&&V.skip?void 0:zP,...V}),O=$w(T,...Kw);return M.useDebugValue(O),M.useMemo(()=>({...T,...K}),[T,K])}}}function A(F){const N=(B,k={})=>{const[V,K,T,O]=m(F,B,k),H=M.useRef(O);d(()=>{H.current=O},[O]);const q=M.useCallback(function(ee,$){let W;return t(()=>{var Q;(Q=V.current)==null||Q.unsubscribe(),V.current=W=K(T(ee,{subscriptionOptions:H.current,direction:$}))}),W},[V,K,T]);return w(V),M.useMemo(()=>({trigger:q,refetch:()=>x(V),fetchNextPage:()=>q(B,"forward"),fetchPreviousPage:()=>q(B,"backward")}),[V,q,B])},z=y(F,p);return{useInfiniteQueryState:z,useInfiniteQuerySubscription:N,useInfiniteQuery(B,k){const{refetch:V,fetchNextPage:K,fetchPreviousPage:T}=N(B,k),O=z(B,{selectFromResult:B===Fu||k!=null&&k.skip?void 0:zP,...k}),H=$w(O,...Kw,"hasNextPage","hasPreviousPage");return M.useDebugValue(H),M.useMemo(()=>({...O,fetchNextPage:K,fetchPreviousPage:T,refetch:V}),[O,K,T,V])}}}function E(F){return({selectFromResult:N,fixedCacheKey:z}={})=>{const{select:B,initiate:k}=e.endpoints[F],V=n(),[K,T]=M.useState();M.useEffect(()=>()=>{K!=null&&K.arg.fixedCacheKey||K==null||K.reset()},[K]);const O=M.useCallback(function(de){const j=V(k(de,{fixedCacheKey:z}));return T(j),j},[V,k,z]),{requestId:H}=K||{},q=M.useMemo(()=>B({fixedCacheKey:z,requestId:K==null?void 0:K.requestId}),[z,K,B]),ee=M.useMemo(()=>N?o([q],N):q,[N,q]),$=i(ee,Jg),W=z==null?K==null?void 0:K.arg.originalArgs:void 0,Q=M.useCallback(()=>{t(()=>{K&&T(void 0),z&&V(e.internalActions.removeMutationResult({requestId:H,fixedCacheKey:z}))})},[V,z,K,H]),ue=$w($,...Kw,"endpointName");M.useDebugValue(ue);const U=M.useMemo(()=>({...$,originalArgs:W,reset:Q}),[$,W,Q]);return M.useMemo(()=>[O,U],[O,U])}}}var gG=Symbol(),mG=({batch:e=MH,hooks:t={useDispatch:sv,useSelector:ak,useStore:ok},createSelector:n=iR,unstable__sideEffectsInRender:i=!1,...r}={})=>({name:gG,init(s,{serializeQueryArgs:o},a){const u=s,{buildQueryHooks:d,buildInfiniteQueryHooks:h,buildMutationHook:p,usePrefetch:g}=pG({api:s,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:o,context:a});return Fg(u,{usePrefetch:g}),Fg(a,{batch:e}),{injectEndpoint(m,y){if(oG(y)){const{useQuery:w,useLazyQuery:x,useLazyQuerySubscription:C,useQueryState:A,useQuerySubscription:E}=d(m);Fg(u.endpoints[m],{useQuery:w,useLazyQuery:x,useLazyQuerySubscription:C,useQueryState:A,useQuerySubscription:E}),s[`use${Py(m)}Query`]=w,s[`useLazy${Py(m)}Query`]=x}if(aG(y)){const w=p(m);Fg(u.endpoints[m],{useMutation:w}),s[`use${Py(m)}Mutation`]=w}else if(Lk(y)){const{useInfiniteQuery:w,useInfiniteQuerySubscription:x,useInfiniteQueryState:C}=h(m);Fg(u.endpoints[m],{useInfiniteQuery:w,useInfiniteQuerySubscription:x,useInfiniteQueryState:C}),s[`use${Py(m)}InfiniteQuery`]=w}}}}}),Fp=Dk(Fk(),mG());const db=Fp({reducerPath:"productApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),tagTypes:["Products"],endpoints:e=>({getProducts:e.query({query:({limit:t,page:n,search:i})=>{let r=`/products?limit=${t}&page=${n}`;return i&&(r+=`&search=${i}`),r},providesTags:["Products"]}),getProductById:e.query({query:t=>`/products/${t}`,providesTags:(t,n,i)=>[{type:"Products",id:i}]}),addProduct:e.mutation({query:t=>({url:"/products",method:"POST",body:t}),invalidatesTags:["Products"]}),updateProduct:e.mutation({query:({id:t,...n})=>({url:`/products/${t}`,method:"PUT",body:n}),invalidatesTags:["Products"]}),deleteProduct:e.mutation({query:t=>({url:`/products/${t}`,method:"DELETE"}),invalidatesTags:["Products"]})})}),{useGetProductsQuery:vG,useGetProductByIdQuery:yG,useAddProductMutation:bG,useUpdateProductMutation:CG,useDeleteProductMutation:wG}=db,hb=Fp({reducerPath:"categoryApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),endpoints:e=>({getCategories:e.query({query:()=>"categories"}),getCategoryById:e.query({query:t=>`categories/${t}`}),addCategory:e.mutation({query:t=>({url:"categories",method:"POST",body:t})}),updateCategory:e.mutation({query:({id:t,...n})=>({url:`categories/${t}`,method:"PUT",body:n})}),deleteCategory:e.mutation({query:t=>({url:`categories/${t}`,method:"DELETE"})})})}),{useGetCategoriesQuery:cv,useAddCategoryMutation:SG}=hb,fb=Fp({reducerPath:"subCategoryApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),endpoints:e=>({getSubCategories:e.query({query:()=>"subcategories"}),getSubCategoryById:e.query({query:t=>`subcategories/${t}`}),addSubCategory:e.mutation({query:t=>({url:"subcategories",method:"POST",body:t})}),updateSubCategory:e.mutation({query:({id:t,...n})=>({url:`subcategories/${t}`,method:"PUT",body:n})}),deleteSubCategory:e.mutation({query:t=>({url:`subcategories/${t}`,method:"DELETE"})})})}),{useGetSubCategoriesQuery:hR,useAddSubCategoryMutation:xG}=fb,pb=Fp({reducerPath:"ordersApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),tagTypes:["Orders"],endpoints:e=>({getOrders:e.query({query:({startDate:t,endDate:n,orderId:i}={})=>{let r="";return t&&n&&(r=`?startDate=${t}&endDate=${n}`),i&&(r=r?`${r}&orderId=${i}`:`?orderId=${i}`),`orders${r}`},providesTags:t=>t?[...t.map(({_id:n})=>({type:"Order",id:n})),"Order"]:["Order"]}),getordersById:e.query({query:t=>`orders/${t}`,providesTags:(t,n,i)=>[{type:"Orders",id:i}]}),addorders:e.mutation({query:t=>({url:"orders",method:"POST",body:t}),invalidatesTags:["Orders"]}),updateorders:e.mutation({query:({id:t,...n})=>({url:`orders/${t}`,method:"PUT",body:n}),invalidatesTags:(t,n,{id:i})=>[{type:"Orders",id:i},"Orders"]}),deleteorders:e.mutation({query:t=>({url:`orders/${t}`,method:"DELETE"}),invalidatesTags:["Orders"]})})}),{useGetOrdersQuery:HC,useGetordersByIdQuery:RG,useUpdateordersMutation:fR}=pb,gb=Fp({reducerPath:"userApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),tagTypes:["user"],endpoints:e=>({register:e.mutation({query:t=>({url:"/users/register",method:"POST",body:t})}),login:e.mutation({query:t=>({url:"/users/login",method:"POST",body:t})}),getUsers:e.query({query:()=>"users",providesTags:["user"]}),getUserById:e.query({query:t=>`users/${t}`,providesTags:(t,n,i)=>[{type:"user",id:i}]}),addUser:e.mutation({query:t=>({url:"users",method:"POST",body:t}),invalidatesTags:["user"]}),updateUser:e.mutation({query:({id:t,...n})=>({url:`users/${t}`,method:"PUT",body:n}),invalidatesTags:(t,n,{id:i})=>[{type:"users",id:i},"user"]}),deleteUser:e.mutation({query:t=>({url:`users/${t}`,method:"DELETE"}),invalidatesTags:["user"]})})}),{useGetUsersQuery:AG,useGetUserByIdQuery:EG,useLoginMutation:TG,useRegisterMutation:PG}=gb,mb=Fp({reducerPath:"sliderApi",baseQuery:Dp({baseUrl:"http://localhost:4000/api"}),tagTypes:["Sliders"],endpoints:e=>({getSliders:e.query({query:()=>"/sliders",providesTags:["Sliders"]}),getSliderById:e.query({query:t=>`/sliders/${t}`,providesTags:(t,n,i)=>[{type:"Sliders",id:i}]}),addSlider:e.mutation({query:t=>({url:"/sliders",method:"POST",body:t}),invalidatesTags:["Sliders"]}),updateSlider:e.mutation({query:({id:t,...n})=>({url:`/sliders/${t}`,method:"PUT",body:n}),invalidatesTags:["Sliders"]}),deleteSlider:e.mutation({query:t=>({url:`/sliders/${t}`,method:"DELETE"}),invalidatesTags:["Sliders"]})})}),{useGetSlidersQuery:DG,useAddSliderMutation:FG,useUpdateSliderMutation:LG,useDeleteSliderMutation:MG}=mb,NG=fj({reducer:{auth:Lj,[db.reducerPath]:db.reducer,[hb.reducerPath]:hb.reducer,[fb.reducerPath]:fb.reducer,[pb.reducerPath]:pb.reducer,[gb.reducerPath]:gb.reducer,[mb.reducerPath]:mb.reducer},middleware:e=>e().concat(db.middleware).concat(hb.middleware).concat(fb.middleware).concat(pb.middleware).concat(gb.middleware).concat(mb.middleware)});var Lg={},qP;function OG(){if(qP)return Lg;qP=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.parse=o,Lg.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,m){const y=new s,w=g.length;if(w<2)return y;const x=(m==null?void 0:m.decode)||h;let C=0;do{const A=g.indexOf("=",C);if(A===-1)break;const E=g.indexOf(";",C),F=E===-1?w:E;if(A>F){C=g.lastIndexOf(";",A-1)+1;continue}const N=a(g,C,A),z=u(g,A,N),B=g.slice(N,z);if(y[B]===void 0){let k=a(g,A+1,F),V=u(g,F,k);const K=x(g.slice(k,V));y[B]=K}C=F+1}while(C<w);return y}function a(g,m,y){do{const w=g.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<y);return y}function u(g,m,y){for(;m>y;){const w=g.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return y}function d(g,m,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=w(m);if(!t.test(x))throw new TypeError(`argument val is invalid: ${m}`);let C=g+"="+x;if(!y)return C;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);C+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);C+="; Domain="+y.domain}if(y.path){if(!i.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);C+="; Path="+y.path}if(y.expires){if(!p(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);C+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(C+="; HttpOnly"),y.secure&&(C+="; Secure"),y.partitioned&&(C+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return C}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return r.call(g)==="[object Date]"}return Lg}OG();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var UP="popstate";function kG(e={}){function t(i,r){let{pathname:s,search:o,hash:a}=i.location;return fx("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Lm(r)}return _G(t,n,null,e)}function vi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IG(){return Math.random().toString(36).substring(2,10)}function WP(e,t){return{usr:e.state,key:e.key,idx:t}}function fx(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lp(t):t,state:n,key:t&&t.key||i||IG()}}function Lm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _G(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let x=h(),C=x==null?null:x-d;d=x,u&&u({action:a,location:w.location,delta:C})}function g(x,C){a="PUSH";let A=fx(w.location,x,C);d=h()+1;let E=WP(A,d),F=w.createHref(A);try{o.pushState(E,"",F)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(F)}s&&u&&u({action:a,location:w.location,delta:1})}function m(x,C){a="REPLACE";let A=fx(w.location,x,C);d=h();let E=WP(A,d),F=w.createHref(A);o.replaceState(E,"",F),s&&u&&u({action:a,location:w.location,delta:0})}function y(x){let C=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof x=="string"?x:Lm(x);return A=A.replace(/ $/,"%20"),vi(C,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,C)}let w={get action(){return a},get location(){return e(r,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(UP,p),u=x,()=>{r.removeEventListener(UP,p),u=null}},createHref(x){return t(r,x)},createURL:y,encodeLocation(x){let C=y(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:m,go(x){return o.go(x)}};return w}function Mk(e,t,n="/"){return BG(e,t,n,!1)}function BG(e,t,n,i){let r=typeof t=="string"?Lp(t):t,s=sd(r.pathname||"/",n);if(s==null)return null;let o=Nk(e);HG(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=QG(s);a=KG(o[u],d,i)}return a}function Nk(e,t=[],n=[],i=""){let r=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(vi(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let d=ku([i,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(vi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Nk(s.children,t,h,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:WG(d,s.index),routesMeta:h})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let u of Ok(s.path))r(s,o,u)}),t}function Ok(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Ok(i.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function HG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$G(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var jG=/^:[\w-]+$/,GG=3,VG=2,zG=1,qG=10,UG=-2,$P=e=>e==="*";function WG(e,t){let n=e.split("/"),i=n.length;return n.some($P)&&(i+=UG),t&&(i+=VG),n.filter(r=>!$P(r)).reduce((r,s)=>r+(jG.test(s)?GG:s===""?zG:qG),i)}function $G(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function KG(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let u=i[a],d=a===i.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=Ub({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),g=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=Ub({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:ku([s,p.pathname]),pathnameBase:eV(ku([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ku([s,p.pathnameBase]))}return o}function Ub(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=YG(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((d,{paramName:h,isOptional:p},g)=>{if(h==="*"){let y=a[g]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[g];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function YG(e,t=!1,n=!0){Qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(i.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function QG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function XG(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Lp(e):e;return{pathname:n?n.startsWith("/")?n:ZG(n,t):t,search:tV(i),hash:nV(r)}}function ZG(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Yw(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pR(e){let t=JG(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function gR(e,t,n,i=!1){let r;typeof e=="string"?r=Lp(e):(r={...e},vi(!r.pathname||!r.pathname.includes("?"),Yw("?","pathname","search",r)),vi(!r.pathname||!r.pathname.includes("#"),Yw("#","pathname","hash",r)),vi(!r.search||!r.search.includes("#"),Yw("#","search","hash",r)));let s=e===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let p=t.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=XG(r,a),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var ku=e=>e.join("/").replace(/\/\/+/g,"/"),eV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kk=["POST","PUT","PATCH","DELETE"];new Set(kk);var rV=["GET",...kk];new Set(rV);var Mp=M.createContext(null);Mp.displayName="DataRouter";var jC=M.createContext(null);jC.displayName="DataRouterState";var Ik=M.createContext({isTransitioning:!1});Ik.displayName="ViewTransition";var sV=M.createContext(new Map);sV.displayName="Fetchers";var oV=M.createContext(null);oV.displayName="Await";var el=M.createContext(null);el.displayName="Navigation";var dv=M.createContext(null);dv.displayName="Location";var ga=M.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var mR=M.createContext(null);mR.displayName="RouteError";function aV(e,{relative:t}={}){vi(Np(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(el),{hash:r,pathname:s,search:o}=hv(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ku([n,s])),i.createHref({pathname:a,search:o,hash:r})}function Np(){return M.useContext(dv)!=null}function Xu(){return vi(Np(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(dv).location}var _k="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bk(e){M.useContext(el).static||M.useLayoutEffect(e)}function Zu(){let{isDataRoute:e}=M.useContext(ga);return e?SV():lV()}function lV(){vi(Np(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(Mp),{basename:t,navigator:n}=M.useContext(el),{matches:i}=M.useContext(ga),{pathname:r}=Xu(),s=JSON.stringify(pR(i)),o=M.useRef(!1);return Bk(()=>{o.current=!0}),M.useCallback((u,d={})=>{if(Qa(o.current,_k),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=gR(u,JSON.parse(s),r,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ku([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,s,r,e])}var uV=M.createContext(null);function cV(e){let t=M.useContext(ga).outlet;return t&&M.createElement(uV.Provider,{value:e},t)}function vR(){let{matches:e}=M.useContext(ga),t=e[e.length-1];return t?t.params:{}}function hv(e,{relative:t}={}){let{matches:n}=M.useContext(ga),{pathname:i}=Xu(),r=JSON.stringify(pR(n));return M.useMemo(()=>gR(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function dV(e,t){return Hk(e,t)}function Hk(e,t,n,i){var A;vi(Np(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=M.useContext(el),{matches:o}=M.useContext(ga),a=o[o.length-1],u=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let E=p&&p.path||"";jk(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Xu(),m;if(t){let E=typeof t=="string"?Lp(t):t;vi(h==="/"||((A=E.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=g;let y=m.pathname||"/",w=y;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:Mk(e,{pathname:w});Qa(p||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Qa(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=mV(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ku([h,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ku([h,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,i);return t&&C?M.createElement(dv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},C):C}function hV(){let e=wV(),t=iV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:r},n):null,o)}var fV=M.createElement(hV,null),pV=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?M.createElement(ga.Provider,{value:this.props.routeContext},M.createElement(mR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gV({routeContext:e,match:t,children:n}){let i=M.useContext(Mp);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(ga.Provider,{value:e},n)}function mV(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let u=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);vi(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<r.length;u++){let d=r[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,a>=0?r=r.slice(0,a+1):r=[r[0]];break}}}return r.reduceRight((u,d,h)=>{let p,g=!1,m=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,m=d.route.errorElement||fV,o&&(a<0&&h===0?(jk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):a===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,h+1)),x=()=>{let C;return p?C=m:g?C=y:d.route.Component?C=M.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,M.createElement(gV,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?M.createElement(pV,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function yR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vV(e){let t=M.useContext(Mp);return vi(t,yR(e)),t}function yV(e){let t=M.useContext(jC);return vi(t,yR(e)),t}function bV(e){let t=M.useContext(ga);return vi(t,yR(e)),t}function bR(e){let t=bV(e),n=t.matches[t.matches.length-1];return vi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function CV(){return bR("useRouteId")}function wV(){var i;let e=M.useContext(mR),t=yV("useRouteError"),n=bR("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function SV(){let{router:e}=vV("useNavigate"),t=bR("useNavigate"),n=M.useRef(!1);return Bk(()=>{n.current=!0}),M.useCallback(async(r,s={})=>{Qa(n.current,_k),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var KP={};function jk(e,t,n){!t&&!KP[e]&&(KP[e]=!0,Qa(!1,n))}M.memo(xV);function xV({routes:e,future:t,state:n}){return Hk(e,void 0,n,t)}function RV({to:e,replace:t,state:n,relative:i}){vi(Np(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=M.useContext(el);Qa(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=M.useContext(ga),{pathname:o}=Xu(),a=Zu(),u=gR(e,pR(s),o,i==="path"),d=JSON.stringify(u);return M.useEffect(()=>{a(JSON.parse(d),{replace:t,state:n,relative:i})},[a,d,i,t,n]),null}function AV(e){return cV(e.context)}function ji(e){vi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EV({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){vi(!Np(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=M.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof n=="string"&&(n=Lp(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=M.useMemo(()=>{let y=sd(u,o);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[o,u,d,h,p,g,i]);return Qa(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:M.createElement(el.Provider,{value:a},M.createElement(dv.Provider,{children:t,value:m}))}function TV({children:e,location:t}){return dV(px(e),t)}function px(e,t=[]){let n=[];return M.Children.forEach(e,(i,r)=>{if(!M.isValidElement(i))return;let s=[...t,r];if(i.type===M.Fragment){n.push.apply(n,px(i.props.children,s));return}vi(i.type===ji,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=px(i.props.children,s)),n.push(o)}),n}var vb="get",yb="application/x-www-form-urlencoded";function GC(e){return e!=null&&typeof e.tagName=="string"}function PV(e){return GC(e)&&e.tagName.toLowerCase()==="button"}function DV(e){return GC(e)&&e.tagName.toLowerCase()==="form"}function FV(e){return GC(e)&&e.tagName.toLowerCase()==="input"}function LV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MV(e,t){return e.button===0&&(!t||t==="_self")&&!LV(e)}var Fy=null;function NV(){if(Fy===null)try{new FormData(document.createElement("form"),0),Fy=!1}catch{Fy=!0}return Fy}var OV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qw(e){return e!=null&&!OV.has(e)?(Qa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yb}"`),null):e}function kV(e,t){let n,i,r,s,o;if(DV(e)){let a=e.getAttribute("action");i=a?sd(a,t):null,n=e.getAttribute("method")||vb,r=Qw(e.getAttribute("enctype"))||yb,s=new FormData(e)}else if(PV(e)||FV(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(i=u?sd(u,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||vb,r=Qw(e.getAttribute("formenctype"))||Qw(a.getAttribute("enctype"))||yb,s=new FormData(a,e),!NV()){let{name:d,type:h,value:p}=e;if(h==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(GC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vb,i=null,r=yb,o=e}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function CR(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function IV(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _V(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BV(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let o=await IV(s,n);return o.links?o.links():[]}return[]}));return VV(i.flat(1).filter(_V).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function YP(e,t,n,i,r,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,a=(u,d)=>{var h;return n[d].pathname!==u.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>o(u,d)||a(u,d)):s==="data"?t.filter((u,d)=>{var p;let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||a(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function HV(e,t,{includeHydrateFallback:n}={}){return jV(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function jV(e){return[...new Set(e)]}function GV(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function VV(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(GV(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function zV(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function qV(){let e=M.useContext(Mp);return CR(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UV(){let e=M.useContext(jC);return CR(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wR=M.createContext(void 0);wR.displayName="FrameworkContext";function Gk(){let e=M.useContext(wR);return CR(e,"You must render this element inside a <HydratedRouter> element"),e}function WV(e,t){let n=M.useContext(wR),[i,r]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,g=M.useRef(null);M.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=C=>{C.forEach(A=>{o(A.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[e]),M.useEffect(()=>{if(i){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[i]);let m=()=>{r(!0)},y=()=>{r(!1),o(!1)};return n?e!=="intent"?[s,g,{}]:[s,g,{onFocus:Mg(a,m),onBlur:Mg(u,y),onMouseEnter:Mg(d,m),onMouseLeave:Mg(h,y),onTouchStart:Mg(p,m)}]:[!1,g,{}]}function Mg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $V({page:e,...t}){let{router:n}=qV(),i=M.useMemo(()=>Mk(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?M.createElement(YV,{page:e,matches:i,...t}):null}function KV(e){let{manifest:t,routeModules:n}=Gk(),[i,r]=M.useState([]);return M.useEffect(()=>{let s=!1;return BV(e,t,n).then(o=>{s||r(o)}),()=>{s=!0}},[e,t,n]),i}function YV({page:e,matches:t,...n}){let i=Xu(),{manifest:r,routeModules:s}=Gk(),{loaderData:o,matches:a}=UV(),u=M.useMemo(()=>YP(e,t,a,r,i,"data"),[e,t,a,r,i]),d=M.useMemo(()=>YP(e,t,a,r,i,"assets"),[e,t,a,r,i]),h=M.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let m=new Set,y=!1;if(t.forEach(x=>{var A;let C=r.routes[x.route.id];!C||!C.hasLoader||(!u.some(E=>E.route.id===x.route.id)&&x.route.id in o&&((A=s[x.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?y=!0:m.add(x.route.id))}),m.size===0)return[];let w=zV(e);return y&&m.size>0&&w.searchParams.set("_routes",t.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[o,i,r,u,t,e,s]),p=M.useMemo(()=>HV(d,r),[d,r]),g=KV(d);return M.createElement(M.Fragment,null,h.map(m=>M.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),p.map(m=>M.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),g.map(({key:m,link:y})=>M.createElement("link",{key:m,...y})))}function QV(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Vk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vk&&(window.__reactRouterVersion="7.2.0")}catch{}function XV({basename:e,children:t,window:n}){let i=M.useRef();i.current==null&&(i.current=kG({window:n,v5Compat:!0}));let r=i.current,[s,o]=M.useState({action:r.action,location:r.location}),a=M.useCallback(u=>{M.startTransition(()=>o(u))},[o]);return M.useLayoutEffect(()=>r.listen(a),[r,a]),M.createElement(EV,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var zk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qi=M.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:u,to:d,preventScrollReset:h,viewTransition:p,...g},m){let{basename:y}=M.useContext(el),w=typeof d=="string"&&zk.test(d),x,C=!1;if(typeof d=="string"&&w&&(x=d,Vk))try{let V=new URL(window.location.href),K=d.startsWith("//")?new URL(V.protocol+d):new URL(d),T=sd(K.pathname,y);K.origin===V.origin&&T!=null?d=T+K.search+K.hash:C=!0}catch{Qa(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=aV(d,{relative:r}),[E,F,N]=WV(i,g),z=tz(d,{replace:o,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:p});function B(V){t&&t(V),V.defaultPrevented||z(V)}let k=M.createElement("a",{...g,...N,href:x||A,onClick:C||s?t:B,ref:QV(m,F),target:u,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?M.createElement(M.Fragment,null,k,M.createElement($V,{page:A})):k});Qi.displayName="Link";var ZV=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:u,...d},h){let p=hv(o,{relative:d.relative}),g=Xu(),m=M.useContext(jC),{navigator:y,basename:w}=M.useContext(el),x=m!=null&&oz(p)&&a===!0,C=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,A=g.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(A=A.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&w&&(E=sd(E,w)||E);const F=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=A===C||!r&&A.startsWith(C)&&A.charAt(F)==="/",z=E!=null&&(E===C||!r&&E.startsWith(C)&&E.charAt(C.length)==="/"),B={isActive:N,isPending:z,isTransitioning:x},k=N?t:void 0,V;typeof i=="function"?V=i(B):V=[i,N?"active":null,z?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(B):s;return M.createElement(Qi,{...d,"aria-current":k,className:V,ref:h,style:K,to:o,viewTransition:a},typeof u=="function"?u(B):u)});ZV.displayName="NavLink";var JV=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:o=vb,action:a,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...g},m)=>{let y=rz(),w=sz(a,{relative:d}),x=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&zk.test(a),A=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let F=E.nativeEvent.submitter,N=(F==null?void 0:F.getAttribute("formmethod"))||o;y(F||E.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:r,state:s,relative:d,preventScrollReset:h,viewTransition:p})};return M.createElement("form",{ref:m,method:x,action:w,onSubmit:i?u:A,...g,"data-discover":!C&&e==="render"?"true":void 0})});JV.displayName="Form";function ez(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qk(e){let t=M.useContext(Mp);return vi(t,ez(e)),t}function tz(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=Zu(),u=Xu(),d=hv(e,{relative:s});return M.useCallback(h=>{if(MV(h,t)){h.preventDefault();let p=n!==void 0?n:Lm(u)===Lm(d);a(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[u,a,d,n,i,t,e,r,s,o])}var nz=0,iz=()=>`__${String(++nz)}__`;function rz(){let{router:e}=qk("useSubmit"),{basename:t}=M.useContext(el),n=CV();return M.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:u,body:d}=kV(i,t);if(r.navigate===!1){let h=r.fetcherKey||iz();await e.fetch(h,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:d,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function sz(e,{relative:t}={}){let{basename:n}=M.useContext(el),i=M.useContext(ga);vi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...hv(e||".",{relative:t})},o=Xu();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ku([n,s.pathname])),Lm(s)}function oz(e,t={}){let n=M.useContext(Ik);vi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qk("useViewTransitionState"),r=hv(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=sd(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=sd(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ub(r.pathname,o)!=null||Ub(r.pathname,s)!=null}new TextEncoder;function az(){return I.jsx("div",{className:"h-screen flex flex-col justify-center items-center bg-gray-100",children:I.jsxs("div",{className:"text-center p-6 space-y-6 bg-white rounded-lg shadow-md",children:[I.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Welcome to Our Application"}),I.jsx("p",{className:"text-lg text-gray-600",children:"A brief introduction to what your app does goes here. This could include the benefits, key features, or just a welcoming message for users."}),I.jsxs("div",{className:"space-x-4",children:[I.jsx(Qi,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 transition",children:"Login"}),I.jsx(Qi,{to:"/register",className:"bg-green-600 text-white px-6 py-3 rounded-full hover:bg-green-700 transition",children:"Register"})]})]})})}const lz=()=>{const e=sv(),t=Zu(),n=()=>{e(Fj()),localStorage.removeItem("token"),t("/login")};return I.jsx("div",{className:"flex justify-end p-4 bg-gray-100",children:I.jsx("button",{onClick:n,className:"bg-red-500 text-white p-2 rounded",children:"Logout"})})};function uz(){const[e,t]=M.useState(""),[n,i]=M.useState(""),[r,{isLoading:s,isError:o,isSuccess:a}]=SG(),u=async d=>{if(d.preventDefault(),!(!e.trim()||!n.trim()))try{await r({name:e,imageUrl:n}).unwrap(),t(""),i("")}catch(h){console.error("Failed to add category",h)}};return I.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[I.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Add Category"}),I.jsxs("form",{onSubmit:u,className:"space-y-4",children:[I.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Enter category name",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.jsx("input",{type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"Enter image URL",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition",children:s?"Adding...":"Add Category"})]}),a&&I.jsx("p",{className:"text-green-500 mt-2",children:"Category added successfully!"}),o&&I.jsx("p",{className:"text-red-500 mt-2",children:"Failed to add category."})]})}var Xw,QP;function cz(){if(QP)return Xw;QP=1;function e(){this.__data__=[],this.size=0}return Xw=e,Xw}var Zw,XP;function Uk(){if(XP)return Zw;XP=1;function e(t,n){return t===n||t!==t&&n!==n}return Zw=e,Zw}var Jw,ZP;function VC(){if(ZP)return Jw;ZP=1;var e=Uk();function t(n,i){for(var r=n.length;r--;)if(e(n[r][0],i))return r;return-1}return Jw=t,Jw}var e1,JP;function dz(){if(JP)return e1;JP=1;var e=VC(),t=Array.prototype,n=t.splice;function i(r){var s=this.__data__,o=e(s,r);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return e1=i,e1}var t1,eD;function hz(){if(eD)return t1;eD=1;var e=VC();function t(n){var i=this.__data__,r=e(i,n);return r<0?void 0:i[r][1]}return t1=t,t1}var n1,tD;function fz(){if(tD)return n1;tD=1;var e=VC();function t(n){return e(this.__data__,n)>-1}return n1=t,n1}var i1,nD;function pz(){if(nD)return i1;nD=1;var e=VC();function t(n,i){var r=this.__data__,s=e(r,n);return s<0?(++this.size,r.push([n,i])):r[s][1]=i,this}return i1=t,i1}var r1,iD;function zC(){if(iD)return r1;iD=1;var e=cz(),t=dz(),n=hz(),i=fz(),r=pz();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,r1=s,r1}var s1,rD;function gz(){if(rD)return s1;rD=1;var e=zC();function t(){this.__data__=new e,this.size=0}return s1=t,s1}var o1,sD;function mz(){if(sD)return o1;sD=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return o1=e,o1}var a1,oD;function vz(){if(oD)return a1;oD=1;function e(t){return this.__data__.get(t)}return a1=e,a1}var l1,aD;function yz(){if(aD)return l1;aD=1;function e(t){return this.__data__.has(t)}return l1=e,l1}var u1,lD;function Wk(){if(lD)return u1;lD=1;var e=typeof la=="object"&&la&&la.Object===Object&&la;return u1=e,u1}var c1,uD;function Ju(){if(uD)return c1;uD=1;var e=Wk(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return c1=n,c1}var d1,cD;function SR(){if(cD)return d1;cD=1;var e=Ju(),t=e.Symbol;return d1=t,d1}var h1,dD;function bz(){if(dD)return h1;dD=1;var e=SR(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,r=e?e.toStringTag:void 0;function s(o){var a=n.call(o,r),u=o[r];try{o[r]=void 0;var d=!0}catch{}var h=i.call(o);return d&&(a?o[r]=u:delete o[r]),h}return h1=s,h1}var f1,hD;function Cz(){if(hD)return f1;hD=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return f1=n,f1}var p1,fD;function qC(){if(fD)return p1;fD=1;var e=SR(),t=bz(),n=Cz(),i="[object Null]",r="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?r:i:s&&s in Object(a)?t(a):n(a)}return p1=o,p1}var g1,pD;function $k(){if(pD)return g1;pD=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return g1=e,g1}var m1,gD;function Kk(){if(gD)return m1;gD=1;var e=qC(),t=$k(),n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==i||u==r||u==n||u==s}return m1=o,m1}var v1,mD;function wz(){if(mD)return v1;mD=1;var e=Ju(),t=e["__core-js_shared__"];return v1=t,v1}var y1,vD;function Sz(){if(vD)return y1;vD=1;var e=wz(),t=function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!t&&t in i}return y1=n,y1}var b1,yD;function Yk(){if(yD)return b1;yD=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return b1=n,b1}var C1,bD;function xz(){if(bD)return C1;bD=1;var e=Kk(),t=Sz(),n=$k(),i=Yk(),r=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,d=a.hasOwnProperty,h=RegExp("^"+u.call(d).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var m=e(g)?h:s;return m.test(i(g))}return C1=p,C1}var w1,CD;function Rz(){if(CD)return w1;CD=1;function e(t,n){return t==null?void 0:t[n]}return w1=e,w1}var S1,wD;function Op(){if(wD)return S1;wD=1;var e=xz(),t=Rz();function n(i,r){var s=t(i,r);return e(s)?s:void 0}return S1=n,S1}var x1,SD;function xR(){if(SD)return x1;SD=1;var e=Op(),t=Ju(),n=e(t,"Map");return x1=n,x1}var R1,xD;function UC(){if(xD)return R1;xD=1;var e=Op(),t=e(Object,"create");return R1=t,R1}var A1,RD;function Az(){if(RD)return A1;RD=1;var e=UC();function t(){this.__data__=e?e(null):{},this.size=0}return A1=t,A1}var E1,AD;function Ez(){if(AD)return E1;AD=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return E1=e,E1}var T1,ED;function Tz(){if(ED)return T1;ED=1;var e=UC(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function r(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return i.call(o,s)?o[s]:void 0}return T1=r,T1}var P1,TD;function Pz(){if(TD)return P1;TD=1;var e=UC(),t=Object.prototype,n=t.hasOwnProperty;function i(r){var s=this.__data__;return e?s[r]!==void 0:n.call(s,r)}return P1=i,P1}var D1,PD;function Dz(){if(PD)return D1;PD=1;var e=UC(),t="__lodash_hash_undefined__";function n(i,r){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=e&&r===void 0?t:r,this}return D1=n,D1}var F1,DD;function Fz(){if(DD)return F1;DD=1;var e=Az(),t=Ez(),n=Tz(),i=Pz(),r=Dz();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,F1=s,F1}var L1,FD;function Lz(){if(FD)return L1;FD=1;var e=Fz(),t=zC(),n=xR();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return L1=i,L1}var M1,LD;function Mz(){if(LD)return M1;LD=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return M1=e,M1}var N1,MD;function WC(){if(MD)return N1;MD=1;var e=Mz();function t(n,i){var r=n.__data__;return e(i)?r[typeof i=="string"?"string":"hash"]:r.map}return N1=t,N1}var O1,ND;function Nz(){if(ND)return O1;ND=1;var e=WC();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return O1=t,O1}var k1,OD;function Oz(){if(OD)return k1;OD=1;var e=WC();function t(n){return e(this,n).get(n)}return k1=t,k1}var I1,kD;function kz(){if(kD)return I1;kD=1;var e=WC();function t(n){return e(this,n).has(n)}return I1=t,I1}var _1,ID;function Iz(){if(ID)return _1;ID=1;var e=WC();function t(n,i){var r=e(this,n),s=r.size;return r.set(n,i),this.size+=r.size==s?0:1,this}return _1=t,_1}var B1,_D;function Qk(){if(_D)return B1;_D=1;var e=Lz(),t=Nz(),n=Oz(),i=kz(),r=Iz();function s(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var d=o[a];this.set(d[0],d[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,B1=s,B1}var H1,BD;function _z(){if(BD)return H1;BD=1;var e=zC(),t=xR(),n=Qk(),i=200;function r(s,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<i-1)return u.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(u)}return a.set(s,o),this.size=a.size,this}return H1=r,H1}var j1,HD;function Bz(){if(HD)return j1;HD=1;var e=zC(),t=gz(),n=mz(),i=vz(),r=yz(),s=_z();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=i,o.prototype.has=r,o.prototype.set=s,j1=o,j1}var G1,jD;function Hz(){if(jD)return G1;jD=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return G1=t,G1}var V1,GD;function jz(){if(GD)return V1;GD=1;function e(t){return this.__data__.has(t)}return V1=e,V1}var z1,VD;function Gz(){if(VD)return z1;VD=1;var e=Qk(),t=Hz(),n=jz();function i(r){var s=-1,o=r==null?0:r.length;for(this.__data__=new e;++s<o;)this.add(r[s])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,z1=i,z1}var q1,zD;function Vz(){if(zD)return q1;zD=1;function e(t,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(t[i],i,t))return!0;return!1}return q1=e,q1}var U1,qD;function zz(){if(qD)return U1;qD=1;function e(t,n){return t.has(n)}return U1=e,U1}var W1,UD;function Xk(){if(UD)return W1;UD=1;var e=Gz(),t=Vz(),n=zz(),i=1,r=2;function s(o,a,u,d,h,p){var g=u&i,m=o.length,y=a.length;if(m!=y&&!(g&&y>m))return!1;var w=p.get(o),x=p.get(a);if(w&&x)return w==a&&x==o;var C=-1,A=!0,E=u&r?new e:void 0;for(p.set(o,a),p.set(a,o);++C<m;){var F=o[C],N=a[C];if(d)var z=g?d(N,F,C,a,o,p):d(F,N,C,o,a,p);if(z!==void 0){if(z)continue;A=!1;break}if(E){if(!t(a,function(B,k){if(!n(E,k)&&(F===B||h(F,B,u,d,p)))return E.push(k)})){A=!1;break}}else if(!(F===N||h(F,N,u,d,p))){A=!1;break}}return p.delete(o),p.delete(a),A}return W1=s,W1}var $1,WD;function qz(){if(WD)return $1;WD=1;var e=Ju(),t=e.Uint8Array;return $1=t,$1}var K1,$D;function Uz(){if($D)return K1;$D=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(r,s){i[++n]=[s,r]}),i}return K1=e,K1}var Y1,KD;function Wz(){if(KD)return Y1;KD=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(r){i[++n]=r}),i}return Y1=e,Y1}var Q1,YD;function $z(){if(YD)return Q1;YD=1;var e=SR(),t=qz(),n=Uk(),i=Xk(),r=Uz(),s=Wz(),o=1,a=2,u="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",m="[object RegExp]",y="[object Set]",w="[object String]",x="[object Symbol]",C="[object ArrayBuffer]",A="[object DataView]",E=e?e.prototype:void 0,F=E?E.valueOf:void 0;function N(z,B,k,V,K,T,O){switch(k){case A:if(z.byteLength!=B.byteLength||z.byteOffset!=B.byteOffset)return!1;z=z.buffer,B=B.buffer;case C:return!(z.byteLength!=B.byteLength||!T(new t(z),new t(B)));case u:case d:case g:return n(+z,+B);case h:return z.name==B.name&&z.message==B.message;case m:case w:return z==B+"";case p:var H=r;case y:var q=V&o;if(H||(H=s),z.size!=B.size&&!q)return!1;var ee=O.get(z);if(ee)return ee==B;V|=a,O.set(z,B);var $=i(H(z),H(B),V,K,T,O);return O.delete(z),$;case x:if(F)return F.call(z)==F.call(B)}return!1}return Q1=N,Q1}var X1,QD;function Kz(){if(QD)return X1;QD=1;function e(t,n){for(var i=-1,r=n.length,s=t.length;++i<r;)t[s+i]=n[i];return t}return X1=e,X1}var Z1,XD;function RR(){if(XD)return Z1;XD=1;var e=Array.isArray;return Z1=e,Z1}var J1,ZD;function Yz(){if(ZD)return J1;ZD=1;var e=Kz(),t=RR();function n(i,r,s){var o=r(i);return t(i)?o:e(o,s(i))}return J1=n,J1}var eS,JD;function Qz(){if(JD)return eS;JD=1;function e(t,n){for(var i=-1,r=t==null?0:t.length,s=0,o=[];++i<r;){var a=t[i];n(a,i,t)&&(o[s++]=a)}return o}return eS=e,eS}var tS,eF;function Xz(){if(eF)return tS;eF=1;function e(){return[]}return tS=e,tS}var nS,tF;function Zz(){if(tF)return nS;tF=1;var e=Qz(),t=Xz(),n=Object.prototype,i=n.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(o){return o==null?[]:(o=Object(o),e(r(o),function(a){return i.call(o,a)}))}:t;return nS=s,nS}var iS,nF;function Jz(){if(nF)return iS;nF=1;function e(t,n){for(var i=-1,r=Array(t);++i<t;)r[i]=n(i);return r}return iS=e,iS}var rS,iF;function $C(){if(iF)return rS;iF=1;function e(t){return t!=null&&typeof t=="object"}return rS=e,rS}var sS,rF;function eq(){if(rF)return sS;rF=1;var e=qC(),t=$C(),n="[object Arguments]";function i(r){return t(r)&&e(r)==n}return sS=i,sS}var oS,sF;function tq(){if(sF)return oS;sF=1;var e=eq(),t=$C(),n=Object.prototype,i=n.hasOwnProperty,r=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&i.call(o,"callee")&&!r.call(o,"callee")};return oS=s,oS}var qg={exports:{}},aS,oF;function nq(){if(oF)return aS;oF=1;function e(){return!1}return aS=e,aS}qg.exports;var aF;function Zk(){return aF||(aF=1,function(e,t){var n=Ju(),i=nq(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===r,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,d=u||i;e.exports=d}(qg,qg.exports)),qg.exports}var lS,lF;function iq(){if(lF)return lS;lF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,r){var s=typeof i;return r=r??e,!!r&&(s=="number"||s!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<r}return lS=n,lS}var uS,uF;function Jk(){if(uF)return uS;uF=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return uS=t,uS}var cS,cF;function rq(){if(cF)return cS;cF=1;var e=qC(),t=Jk(),n=$C(),i="[object Arguments]",r="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",C="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",F="[object Int8Array]",N="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",k="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",T={};T[A]=T[E]=T[F]=T[N]=T[z]=T[B]=T[k]=T[V]=T[K]=!0,T[i]=T[r]=T[x]=T[s]=T[C]=T[o]=T[a]=T[u]=T[d]=T[h]=T[p]=T[g]=T[m]=T[y]=T[w]=!1;function O(H){return n(H)&&t(H.length)&&!!T[e(H)]}return cS=O,cS}var dS,dF;function sq(){if(dF)return dS;dF=1;function e(t){return function(n){return t(n)}}return dS=e,dS}var Ug={exports:{}};Ug.exports;var hF;function oq(){return hF||(hF=1,function(e,t){var n=Wk(),i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,s=r&&r.exports===i,o=s&&n.process,a=function(){try{var u=r&&r.require&&r.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Ug,Ug.exports)),Ug.exports}var hS,fF;function e3(){if(fF)return hS;fF=1;var e=rq(),t=sq(),n=oq(),i=n&&n.isTypedArray,r=i?t(i):e;return hS=r,hS}var fS,pF;function aq(){if(pF)return fS;pF=1;var e=Jz(),t=tq(),n=RR(),i=Zk(),r=iq(),s=e3(),o=Object.prototype,a=o.hasOwnProperty;function u(d,h){var p=n(d),g=!p&&t(d),m=!p&&!g&&i(d),y=!p&&!g&&!m&&s(d),w=p||g||m||y,x=w?e(d.length,String):[],C=x.length;for(var A in d)(h||a.call(d,A))&&!(w&&(A=="length"||m&&(A=="offset"||A=="parent")||y&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||r(A,C)))&&x.push(A);return x}return fS=u,fS}var pS,gF;function lq(){if(gF)return pS;gF=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,r=typeof i=="function"&&i.prototype||e;return n===r}return pS=t,pS}var gS,mF;function uq(){if(mF)return gS;mF=1;function e(t,n){return function(i){return t(n(i))}}return gS=e,gS}var mS,vF;function cq(){if(vF)return mS;vF=1;var e=uq(),t=e(Object.keys,Object);return mS=t,mS}var vS,yF;function dq(){if(yF)return vS;yF=1;var e=lq(),t=cq(),n=Object.prototype,i=n.hasOwnProperty;function r(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))i.call(s,a)&&a!="constructor"&&o.push(a);return o}return vS=r,vS}var yS,bF;function hq(){if(bF)return yS;bF=1;var e=Kk(),t=Jk();function n(i){return i!=null&&t(i.length)&&!e(i)}return yS=n,yS}var bS,CF;function fq(){if(CF)return bS;CF=1;var e=aq(),t=dq(),n=hq();function i(r){return n(r)?e(r):t(r)}return bS=i,bS}var CS,wF;function pq(){if(wF)return CS;wF=1;var e=Yz(),t=Zz(),n=fq();function i(r){return e(r,n,t)}return CS=i,CS}var wS,SF;function gq(){if(SF)return wS;SF=1;var e=pq(),t=1,n=Object.prototype,i=n.hasOwnProperty;function r(s,o,a,u,d,h){var p=a&t,g=e(s),m=g.length,y=e(o),w=y.length;if(m!=w&&!p)return!1;for(var x=m;x--;){var C=g[x];if(!(p?C in o:i.call(o,C)))return!1}var A=h.get(s),E=h.get(o);if(A&&E)return A==o&&E==s;var F=!0;h.set(s,o),h.set(o,s);for(var N=p;++x<m;){C=g[x];var z=s[C],B=o[C];if(u)var k=p?u(B,z,C,o,s,h):u(z,B,C,s,o,h);if(!(k===void 0?z===B||d(z,B,a,u,h):k)){F=!1;break}N||(N=C=="constructor")}if(F&&!N){var V=s.constructor,K=o.constructor;V!=K&&"constructor"in s&&"constructor"in o&&!(typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K)&&(F=!1)}return h.delete(s),h.delete(o),F}return wS=r,wS}var SS,xF;function mq(){if(xF)return SS;xF=1;var e=Op(),t=Ju(),n=e(t,"DataView");return SS=n,SS}var xS,RF;function vq(){if(RF)return xS;RF=1;var e=Op(),t=Ju(),n=e(t,"Promise");return xS=n,xS}var RS,AF;function yq(){if(AF)return RS;AF=1;var e=Op(),t=Ju(),n=e(t,"Set");return RS=n,RS}var AS,EF;function bq(){if(EF)return AS;EF=1;var e=Op(),t=Ju(),n=e(t,"WeakMap");return AS=n,AS}var ES,TF;function Cq(){if(TF)return ES;TF=1;var e=mq(),t=xR(),n=vq(),i=yq(),r=bq(),s=qC(),o=Yk(),a="[object Map]",u="[object Object]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",m=o(e),y=o(t),w=o(n),x=o(i),C=o(r),A=s;return(e&&A(new e(new ArrayBuffer(1)))!=g||t&&A(new t)!=a||n&&A(n.resolve())!=d||i&&A(new i)!=h||r&&A(new r)!=p)&&(A=function(E){var F=s(E),N=F==u?E.constructor:void 0,z=N?o(N):"";if(z)switch(z){case m:return g;case y:return a;case w:return d;case x:return h;case C:return p}return F}),ES=A,ES}var TS,PF;function wq(){if(PF)return TS;PF=1;var e=Bz(),t=Xk(),n=$z(),i=gq(),r=Cq(),s=RR(),o=Zk(),a=e3(),u=1,d="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function y(w,x,C,A,E,F){var N=s(w),z=s(x),B=N?h:r(w),k=z?h:r(x);B=B==d?p:B,k=k==d?p:k;var V=B==p,K=k==p,T=B==k;if(T&&o(w)){if(!o(x))return!1;N=!0,V=!1}if(T&&!V)return F||(F=new e),N||a(w)?t(w,x,C,A,E,F):n(w,x,B,C,A,E,F);if(!(C&u)){var O=V&&m.call(w,"__wrapped__"),H=K&&m.call(x,"__wrapped__");if(O||H){var q=O?w.value():w,ee=H?x.value():x;return F||(F=new e),E(q,ee,C,A,F)}}return T?(F||(F=new e),i(w,x,C,A,E,F)):!1}return TS=y,TS}var PS,DF;function Sq(){if(DF)return PS;DF=1;var e=wq(),t=$C();function n(i,r,s,o,a){return i===r?!0:i==null||r==null||!t(i)&&!t(r)?i!==i&&r!==r:e(i,r,s,o,n,a)}return PS=n,PS}var DS,FF;function xq(){if(FF)return DS;FF=1;var e=Sq();function t(n,i){return e(n,i)}return DS=t,DS}var Rq=xq();const Ng=fd(Rq);var t3=typeof global=="object"&&global&&global.Object===Object&&global,Aq=typeof self=="object"&&self&&self.Object===Object&&self,Ql=t3||Aq||Function("return this")(),od=Ql.Symbol,n3=Object.prototype,Eq=n3.hasOwnProperty,Tq=n3.toString,Og=od?od.toStringTag:void 0;function Pq(e){var t=Eq.call(e,Og),n=e[Og];try{e[Og]=void 0;var i=!0}catch{}var r=Tq.call(e);return i&&(t?e[Og]=n:delete e[Og]),r}var Dq=Object.prototype,Fq=Dq.toString;function Lq(e){return Fq.call(e)}var Mq="[object Null]",Nq="[object Undefined]",LF=od?od.toStringTag:void 0;function kp(e){return e==null?e===void 0?Nq:Mq:LF&&LF in Object(e)?Pq(e):Lq(e)}function zu(e){return e!=null&&typeof e=="object"}var Rh=Array.isArray;function pd(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function i3(e){return e}var Oq="[object AsyncFunction]",kq="[object Function]",Iq="[object GeneratorFunction]",_q="[object Proxy]";function AR(e){if(!pd(e))return!1;var t=kp(e);return t==kq||t==Iq||t==Oq||t==_q}var FS=Ql["__core-js_shared__"],MF=function(){var e=/[^.]+$/.exec(FS&&FS.keys&&FS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bq(e){return!!MF&&MF in e}var Hq=Function.prototype,jq=Hq.toString;function Nh(e){if(e!=null){try{return jq.call(e)}catch{}try{return e+""}catch{}}return""}var Gq=/[\\^$.*+?()[\]{}|]/g,Vq=/^\[object .+?Constructor\]$/,zq=Function.prototype,qq=Object.prototype,Uq=zq.toString,Wq=qq.hasOwnProperty,$q=RegExp("^"+Uq.call(Wq).replace(Gq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kq(e){if(!pd(e)||Bq(e))return!1;var t=AR(e)?$q:Vq;return t.test(Nh(e))}function Yq(e,t){return e==null?void 0:e[t]}function Oh(e,t){var n=Yq(e,t);return Kq(n)?n:void 0}var gx=Oh(Ql,"WeakMap"),NF=Object.create,Qq=function(){function e(){}return function(t){if(!pd(t))return{};if(NF)return NF(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Xq(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Zq(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var Jq=800,e9=16,t9=Date.now;function n9(e){var t=0,n=0;return function(){var i=t9(),r=e9-(i-n);if(n=i,r>0){if(++t>=Jq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function i9(e){return function(){return e}}var Wb=function(){try{var e=Oh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),r9=Wb?function(e,t){return Wb(e,"toString",{configurable:!0,enumerable:!1,value:i9(t),writable:!0})}:i3,s9=n9(r9);function o9(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var a9=9007199254740991,l9=/^(?:0|[1-9]\d*)$/;function r3(e,t){var n=typeof e;return t=t??a9,!!t&&(n=="number"||n!="symbol"&&l9.test(e))&&e>-1&&e%1==0&&e<t}function ER(e,t,n){t=="__proto__"&&Wb?Wb(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fv(e,t){return e===t||e!==e&&t!==t}var u9=Object.prototype,c9=u9.hasOwnProperty;function s3(e,t,n){var i=e[t];(!(c9.call(e,t)&&fv(i,n))||n===void 0&&!(t in e))&&ER(e,t,n)}function d9(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],u=void 0;u===void 0&&(u=e[a]),r?ER(n,a,u):s3(n,a,u)}return n}var OF=Math.max;function h9(e,t,n){return t=OF(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=OF(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),Xq(e,this,a)}}function f9(e,t){return s9(h9(e,t,i3),e+"")}var p9=9007199254740991;function o3(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=p9}function KC(e){return e!=null&&o3(e.length)&&!AR(e)}function g9(e,t,n){if(!pd(n))return!1;var i=typeof t;return(i=="number"?KC(n)&&r3(t,n.length):i=="string"&&t in n)?fv(n[t],e):!1}function m9(e){return f9(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(r--,s):void 0,o&&g9(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t})}var v9=Object.prototype;function TR(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||v9;return e===n}function y9(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var b9="[object Arguments]";function kF(e){return zu(e)&&kp(e)==b9}var a3=Object.prototype,C9=a3.hasOwnProperty,w9=a3.propertyIsEnumerable,mx=kF(function(){return arguments}())?kF:function(e){return zu(e)&&C9.call(e,"callee")&&!w9.call(e,"callee")};function S9(){return!1}var l3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IF=l3&&typeof module=="object"&&module&&!module.nodeType&&module,x9=IF&&IF.exports===l3,_F=x9?Ql.Buffer:void 0,R9=_F?_F.isBuffer:void 0,Mm=R9||S9,A9="[object Arguments]",E9="[object Array]",T9="[object Boolean]",P9="[object Date]",D9="[object Error]",F9="[object Function]",L9="[object Map]",M9="[object Number]",N9="[object Object]",O9="[object RegExp]",k9="[object Set]",I9="[object String]",_9="[object WeakMap]",B9="[object ArrayBuffer]",H9="[object DataView]",j9="[object Float32Array]",G9="[object Float64Array]",V9="[object Int8Array]",z9="[object Int16Array]",q9="[object Int32Array]",U9="[object Uint8Array]",W9="[object Uint8ClampedArray]",$9="[object Uint16Array]",K9="[object Uint32Array]",li={};li[j9]=li[G9]=li[V9]=li[z9]=li[q9]=li[U9]=li[W9]=li[$9]=li[K9]=!0;li[A9]=li[E9]=li[B9]=li[T9]=li[H9]=li[P9]=li[D9]=li[F9]=li[L9]=li[M9]=li[N9]=li[O9]=li[k9]=li[I9]=li[_9]=!1;function Y9(e){return zu(e)&&o3(e.length)&&!!li[kp(e)]}function PR(e){return function(t){return e(t)}}var u3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nm=u3&&typeof module=="object"&&module&&!module.nodeType&&module,Q9=nm&&nm.exports===u3,LS=Q9&&t3.process,fp=function(){try{var e=nm&&nm.require&&nm.require("util").types;return e||LS&&LS.binding&&LS.binding("util")}catch{}}(),BF=fp&&fp.isTypedArray,DR=BF?PR(BF):Y9,X9=Object.prototype,Z9=X9.hasOwnProperty;function c3(e,t){var n=Rh(e),i=!n&&mx(e),r=!n&&!i&&Mm(e),s=!n&&!i&&!r&&DR(e),o=n||i||r||s,a=o?y9(e.length,String):[],u=a.length;for(var d in e)(t||Z9.call(e,d))&&!(o&&(d=="length"||r&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||r3(d,u)))&&a.push(d);return a}function d3(e,t){return function(n){return e(t(n))}}var J9=d3(Object.keys,Object),eU=Object.prototype,tU=eU.hasOwnProperty;function nU(e){if(!TR(e))return J9(e);var t=[];for(var n in Object(e))tU.call(e,n)&&n!="constructor"&&t.push(n);return t}function iU(e){return KC(e)?c3(e):nU(e)}function rU(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var sU=Object.prototype,oU=sU.hasOwnProperty;function aU(e){if(!pd(e))return rU(e);var t=TR(e),n=[];for(var i in e)i=="constructor"&&(t||!oU.call(e,i))||n.push(i);return n}function h3(e){return KC(e)?c3(e,!0):aU(e)}var Nm=Oh(Object,"create");function lU(){this.__data__=Nm?Nm(null):{},this.size=0}function uU(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var cU="__lodash_hash_undefined__",dU=Object.prototype,hU=dU.hasOwnProperty;function fU(e){var t=this.__data__;if(Nm){var n=t[e];return n===cU?void 0:n}return hU.call(t,e)?t[e]:void 0}var pU=Object.prototype,gU=pU.hasOwnProperty;function mU(e){var t=this.__data__;return Nm?t[e]!==void 0:gU.call(t,e)}var vU="__lodash_hash_undefined__";function yU(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nm&&t===void 0?vU:t,this}function Ah(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ah.prototype.clear=lU;Ah.prototype.delete=uU;Ah.prototype.get=fU;Ah.prototype.has=mU;Ah.prototype.set=yU;function bU(){this.__data__=[],this.size=0}function YC(e,t){for(var n=e.length;n--;)if(fv(e[n][0],t))return n;return-1}var CU=Array.prototype,wU=CU.splice;function SU(e){var t=this.__data__,n=YC(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():wU.call(t,n,1),--this.size,!0}function xU(e){var t=this.__data__,n=YC(t,e);return n<0?void 0:t[n][1]}function RU(e){return YC(this.__data__,e)>-1}function AU(e,t){var n=this.__data__,i=YC(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function ec(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ec.prototype.clear=bU;ec.prototype.delete=SU;ec.prototype.get=xU;ec.prototype.has=RU;ec.prototype.set=AU;var Om=Oh(Ql,"Map");function EU(){this.size=0,this.__data__={hash:new Ah,map:new(Om||ec),string:new Ah}}function TU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function QC(e,t){var n=e.__data__;return TU(t)?n[typeof t=="string"?"string":"hash"]:n.map}function PU(e){var t=QC(this,e).delete(e);return this.size-=t?1:0,t}function DU(e){return QC(this,e).get(e)}function FU(e){return QC(this,e).has(e)}function LU(e,t){var n=QC(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function kh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}kh.prototype.clear=EU;kh.prototype.delete=PU;kh.prototype.get=DU;kh.prototype.has=FU;kh.prototype.set=LU;function MU(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var f3=d3(Object.getPrototypeOf,Object),NU="[object Object]",OU=Function.prototype,kU=Object.prototype,p3=OU.toString,IU=kU.hasOwnProperty,_U=p3.call(Object);function BU(e){if(!zu(e)||kp(e)!=NU)return!1;var t=f3(e);if(t===null)return!0;var n=IU.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&p3.call(n)==_U}function HU(){this.__data__=new ec,this.size=0}function jU(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function GU(e){return this.__data__.get(e)}function VU(e){return this.__data__.has(e)}var zU=200;function qU(e,t){var n=this.__data__;if(n instanceof ec){var i=n.__data__;if(!Om||i.length<zU-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new kh(i)}return n.set(e,t),this.size=n.size,this}function Hl(e){var t=this.__data__=new ec(e);this.size=t.size}Hl.prototype.clear=HU;Hl.prototype.delete=jU;Hl.prototype.get=GU;Hl.prototype.has=VU;Hl.prototype.set=qU;var g3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,HF=g3&&typeof module=="object"&&module&&!module.nodeType&&module,UU=HF&&HF.exports===g3,jF=UU?Ql.Buffer:void 0,GF=jF?jF.allocUnsafe:void 0;function m3(e,t){if(t)return e.slice();var n=e.length,i=GF?GF(n):new e.constructor(n);return e.copy(i),i}function WU(e,t){for(var n=-1,i=e==null?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function $U(){return[]}var KU=Object.prototype,YU=KU.propertyIsEnumerable,VF=Object.getOwnPropertySymbols,QU=VF?function(e){return e==null?[]:(e=Object(e),WU(VF(e),function(t){return YU.call(e,t)}))}:$U;function XU(e,t,n){var i=t(e);return Rh(e)?i:MU(i,n(e))}function vx(e){return XU(e,iU,QU)}var yx=Oh(Ql,"DataView"),bx=Oh(Ql,"Promise"),Cx=Oh(Ql,"Set"),zF="[object Map]",ZU="[object Object]",qF="[object Promise]",UF="[object Set]",WF="[object WeakMap]",$F="[object DataView]",JU=Nh(yx),eW=Nh(Om),tW=Nh(bx),nW=Nh(Cx),iW=Nh(gx),Va=kp;(yx&&Va(new yx(new ArrayBuffer(1)))!=$F||Om&&Va(new Om)!=zF||bx&&Va(bx.resolve())!=qF||Cx&&Va(new Cx)!=UF||gx&&Va(new gx)!=WF)&&(Va=function(e){var t=kp(e),n=t==ZU?e.constructor:void 0,i=n?Nh(n):"";if(i)switch(i){case JU:return $F;case eW:return zF;case tW:return qF;case nW:return UF;case iW:return WF}return t});var rW=Object.prototype,sW=rW.hasOwnProperty;function oW(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&sW.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var $b=Ql.Uint8Array;function FR(e){var t=new e.constructor(e.byteLength);return new $b(t).set(new $b(e)),t}function aW(e,t){var n=FR(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var lW=/\w*$/;function uW(e){var t=new e.constructor(e.source,lW.exec(e));return t.lastIndex=e.lastIndex,t}var KF=od?od.prototype:void 0,YF=KF?KF.valueOf:void 0;function cW(e){return YF?Object(YF.call(e)):{}}function v3(e,t){var n=t?FR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var dW="[object Boolean]",hW="[object Date]",fW="[object Map]",pW="[object Number]",gW="[object RegExp]",mW="[object Set]",vW="[object String]",yW="[object Symbol]",bW="[object ArrayBuffer]",CW="[object DataView]",wW="[object Float32Array]",SW="[object Float64Array]",xW="[object Int8Array]",RW="[object Int16Array]",AW="[object Int32Array]",EW="[object Uint8Array]",TW="[object Uint8ClampedArray]",PW="[object Uint16Array]",DW="[object Uint32Array]";function FW(e,t,n){var i=e.constructor;switch(t){case bW:return FR(e);case dW:case hW:return new i(+e);case CW:return aW(e);case wW:case SW:case xW:case RW:case AW:case EW:case TW:case PW:case DW:return v3(e,n);case fW:return new i;case pW:case vW:return new i(e);case gW:return uW(e);case mW:return new i;case yW:return cW(e)}}function y3(e){return typeof e.constructor=="function"&&!TR(e)?Qq(f3(e)):{}}var LW="[object Map]";function MW(e){return zu(e)&&Va(e)==LW}var QF=fp&&fp.isMap,NW=QF?PR(QF):MW,OW="[object Set]";function kW(e){return zu(e)&&Va(e)==OW}var XF=fp&&fp.isSet,IW=XF?PR(XF):kW,_W=1,b3="[object Arguments]",BW="[object Array]",HW="[object Boolean]",jW="[object Date]",GW="[object Error]",C3="[object Function]",VW="[object GeneratorFunction]",zW="[object Map]",qW="[object Number]",w3="[object Object]",UW="[object RegExp]",WW="[object Set]",$W="[object String]",KW="[object Symbol]",YW="[object WeakMap]",QW="[object ArrayBuffer]",XW="[object DataView]",ZW="[object Float32Array]",JW="[object Float64Array]",e$="[object Int8Array]",t$="[object Int16Array]",n$="[object Int32Array]",i$="[object Uint8Array]",r$="[object Uint8ClampedArray]",s$="[object Uint16Array]",o$="[object Uint32Array]",ti={};ti[b3]=ti[BW]=ti[QW]=ti[XW]=ti[HW]=ti[jW]=ti[ZW]=ti[JW]=ti[e$]=ti[t$]=ti[n$]=ti[zW]=ti[qW]=ti[w3]=ti[UW]=ti[WW]=ti[$W]=ti[KW]=ti[i$]=ti[r$]=ti[s$]=ti[o$]=!0;ti[GW]=ti[C3]=ti[YW]=!1;function bb(e,t,n,i,r,s){var o,a=t&_W;if(o!==void 0)return o;if(!pd(e))return e;var u=Rh(e);if(u)o=oW(e);else{var d=Va(e),h=d==C3||d==VW;if(Mm(e))return m3(e,a);if(d==w3||d==b3||h&&!r)o=h?{}:y3(e);else{if(!ti[d])return r?e:{};o=FW(e,d,a)}}s||(s=new Hl);var p=s.get(e);if(p)return p;s.set(e,o),IW(e)?e.forEach(function(y){o.add(bb(y,t,n,y,e,s))}):NW(e)&&e.forEach(function(y,w){o.set(w,bb(y,t,n,w,e,s))});var g=vx,m=u?void 0:g(e);return o9(m||e,function(y,w){m&&(w=y,y=e[w]),s3(o,w,bb(y,t,n,w,e,s))}),o}var a$=1,l$=4;function Xf(e){return bb(e,a$|l$)}var u$="__lodash_hash_undefined__";function c$(e){return this.__data__.set(e,u$),this}function d$(e){return this.__data__.has(e)}function Kb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new kh;++t<n;)this.add(e[t])}Kb.prototype.add=Kb.prototype.push=c$;Kb.prototype.has=d$;function h$(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function f$(e,t){return e.has(t)}var p$=1,g$=2;function S3(e,t,n,i,r,s){var o=n&p$,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,m=n&g$?new Kb:void 0;for(s.set(e,t),s.set(t,e);++p<a;){var y=e[p],w=t[p];if(i)var x=o?i(w,y,p,t,e,s):i(y,w,p,e,t,s);if(x!==void 0){if(x)continue;g=!1;break}if(m){if(!h$(t,function(C,A){if(!f$(m,A)&&(y===C||r(y,C,n,i,s)))return m.push(A)})){g=!1;break}}else if(!(y===w||r(y,w,n,i,s))){g=!1;break}}return s.delete(e),s.delete(t),g}function m$(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}function v$(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var y$=1,b$=2,C$="[object Boolean]",w$="[object Date]",S$="[object Error]",x$="[object Map]",R$="[object Number]",A$="[object RegExp]",E$="[object Set]",T$="[object String]",P$="[object Symbol]",D$="[object ArrayBuffer]",F$="[object DataView]",ZF=od?od.prototype:void 0,MS=ZF?ZF.valueOf:void 0;function L$(e,t,n,i,r,s,o){switch(n){case F$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D$:return!(e.byteLength!=t.byteLength||!s(new $b(e),new $b(t)));case C$:case w$:case R$:return fv(+e,+t);case S$:return e.name==t.name&&e.message==t.message;case A$:case T$:return e==t+"";case x$:var a=m$;case E$:var u=i&y$;if(a||(a=v$),e.size!=t.size&&!u)return!1;var d=o.get(e);if(d)return d==t;i|=b$,o.set(e,t);var h=S3(a(e),a(t),i,r,s,o);return o.delete(e),h;case P$:if(MS)return MS.call(e)==MS.call(t)}return!1}var M$=1,N$=Object.prototype,O$=N$.hasOwnProperty;function k$(e,t,n,i,r,s){var o=n&M$,a=vx(e),u=a.length,d=vx(t),h=d.length;if(u!=h&&!o)return!1;for(var p=u;p--;){var g=a[p];if(!(o?g in t:O$.call(t,g)))return!1}var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var w=!0;s.set(e,t),s.set(t,e);for(var x=o;++p<u;){g=a[p];var C=e[g],A=t[g];if(i)var E=o?i(A,C,g,t,e,s):i(C,A,g,e,t,s);if(!(E===void 0?C===A||r(C,A,n,i,s):E)){w=!1;break}x||(x=g=="constructor")}if(w&&!x){var F=e.constructor,N=t.constructor;F!=N&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(e),s.delete(t),w}var I$=1,JF="[object Arguments]",eL="[object Array]",Ly="[object Object]",_$=Object.prototype,tL=_$.hasOwnProperty;function B$(e,t,n,i,r,s){var o=Rh(e),a=Rh(t),u=o?eL:Va(e),d=a?eL:Va(t);u=u==JF?Ly:u,d=d==JF?Ly:d;var h=u==Ly,p=d==Ly,g=u==d;if(g&&Mm(e)){if(!Mm(t))return!1;o=!0,h=!1}if(g&&!h)return s||(s=new Hl),o||DR(e)?S3(e,t,n,i,r,s):L$(e,t,u,n,i,r,s);if(!(n&I$)){var m=h&&tL.call(e,"__wrapped__"),y=p&&tL.call(t,"__wrapped__");if(m||y){var w=m?e.value():e,x=y?t.value():t;return s||(s=new Hl),r(w,x,n,i,s)}}return g?(s||(s=new Hl),k$(e,t,n,i,r,s)):!1}function x3(e,t,n,i,r){return e===t?!0:e==null||t==null||!zu(e)&&!zu(t)?e!==e&&t!==t:B$(e,t,n,i,x3,r)}function H$(e){return function(t,n,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var u=o[++r];if(n(s[u],u,s)===!1)break}return t}}var j$=H$();function wx(e,t,n){(n!==void 0&&!fv(e[t],n)||n===void 0&&!(t in e))&&ER(e,t,n)}function G$(e){return zu(e)&&KC(e)}function Sx(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function V$(e){return d9(e,h3(e))}function z$(e,t,n,i,r,s,o){var a=Sx(e,n),u=Sx(t,n),d=o.get(u);if(d){wx(e,n,d);return}var h=s?s(a,u,n+"",e,t,o):void 0,p=h===void 0;if(p){var g=Rh(u),m=!g&&Mm(u),y=!g&&!m&&DR(u);h=u,g||m||y?Rh(a)?h=a:G$(a)?h=Zq(a):m?(p=!1,h=m3(u,!0)):y?(p=!1,h=v3(u,!0)):h=[]:BU(u)||mx(u)?(h=a,mx(a)?h=V$(a):(!pd(a)||AR(a))&&(h=y3(u))):p=!1}p&&(o.set(u,h),r(h,u,i,s,o),o.delete(u)),wx(e,n,h)}function R3(e,t,n,i,r){e!==t&&j$(t,function(s,o){if(r||(r=new Hl),pd(s))z$(e,t,o,n,R3,i,r);else{var a=i?i(Sx(e,o),s,o+"",e,t,r):void 0;a===void 0&&(a=s),wx(e,o,a)}},h3)}function LR(e,t){return x3(e,t)}var ed=m9(function(e,t,n){R3(e,t,n)}),Tt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Tt||{});class Wl{constructor(t,n,i={}){this.attrName=t,this.keyName=n;const r=Tt.TYPE&Tt.ATTRIBUTE;this.scope=i.scope!=null?i.scope&Tt.LEVEL|r:Tt.ATTRIBUTE,i.whitelist!=null&&(this.whitelist=i.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class Zf extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const A3=class xx{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let i=null;try{i=t.parentNode}catch{return null}return this.find(i,n)}return null}create(t,n,i){const r=this.query(n);if(r==null)throw new Zf(`Unable to create ${n} blot`);const s=r,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(i),a=new s(t,o,i);return xx.blots.set(a.domNode,a),a}find(t,n=!1){return xx.find(t,n)}query(t,n=Tt.ANY){let i;return typeof t=="string"?i=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?i=this.types.text:typeof t=="number"?t&Tt.LEVEL&Tt.BLOCK?i=this.types.block:t&Tt.LEVEL&Tt.INLINE&&(i=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(r=>(i=this.classes[r],!!i)),i=i||this.tags[t.tagName]),i==null?null:"scope"in i&&n&Tt.LEVEL&i.scope&&n&Tt.TYPE&i.scope?i:null}register(...t){return t.map(n=>{const i="blotName"in n,r="attrName"in n;if(!i&&!r)throw new Zf("Invalid definition");if(i&&n.blotName==="abstract")throw new Zf("Cannot register abstract class");const s=i?n.blotName:r?n.attrName:void 0;return this.types[s]=n,r?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):i&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(o=>o.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(o=>{(this.tags[o]==null||n.className==null)&&(this.tags[o]=n)}))),n})}};A3.blots=new WeakMap;let pp=A3;function nL(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class q$ extends Wl{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){nL(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(nL(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const tl=q$;function NS(e){const t=e.split("-"),n=t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("");return t[0]+n}class U$ extends Wl{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[NS(this.keyName)]=n,!0):!1}remove(t){t.style[NS(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[NS(this.keyName)];return this.canAdd(t,n)?n:""}}const gd=U$;class W${constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=pp.find(this.domNode);if(t==null)return;const n=Wl.keys(this.domNode),i=tl.keys(this.domNode),r=gd.keys(this.domNode);n.concat(i).concat(r).forEach(s=>{const o=t.scroll.query(s,Tt.ATTRIBUTE);o instanceof Wl&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(n=>{const i=this.attributes[n].value(this.domNode);t.format(n,i)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const XC=W$,E3=class{constructor(t,n){this.scroll=t,this.domNode=n,pp.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Zf("Blot definition missing tagName");let n,i;return Array.isArray(this.tagName)?(typeof t=="string"?(i=t.toUpperCase(),parseInt(i,10).toString()===i&&(i=parseInt(i,10))):typeof t=="number"&&(i=t),typeof i=="number"?n=document.createElement(this.tagName[i-1]):i&&this.tagName.indexOf(i)>-1?n=document.createElement(i):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),pp.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,i,r){const s=this.isolate(t,n);if(this.scroll.query(i,Tt.BLOT)!=null&&r)s.wrap(i,r);else if(this.scroll.query(i,Tt.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(i,r)}}insertAt(t,n,i){const r=i==null?this.scroll.create("text",n):this.scroll.create(n,i),s=this.split(t);this.parent.insertBefore(r,s||void 0)}isolate(t,n){const i=this.split(t);if(i==null)throw new Error("Attempt to isolate at end");return i.split(n),i}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const i=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(i,this.next||void 0),this.remove()),i}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const i=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(i,this.next||void 0),typeof i.appendChild!="function")throw new Zf(`Cannot wrap ${t}`);return i.appendChild(this),i}};E3.blotName="abstract";let T3=E3;const P3=class extends T3{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let i=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(i+=1),[this.parent.domNode,i]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};P3.scope=Tt.INLINE_BLOT;let $$=P3;const ps=$$;class K${constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let i=n();for(;i&&t>0;)t-=1,i=n();return i}contains(t){const n=this.iterator();let i=n();for(;i;){if(i===t)return!0;i=n()}return!1}indexOf(t){const n=this.iterator();let i=n(),r=0;for(;i;){if(i===t)return r;r+=1,i=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,i=this.head;for(;i!=null;){if(i===t)return n;n+=i.length(),i=i.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const i=this.iterator();let r=i();for(;r;){const s=r.length();if(t<s||n&&t===s&&(r.next==null||r.next.length()!==0))return[r,t];t-=s,r=i()}return[null,0]}forEach(t){const n=this.iterator();let i=n();for(;i;)t(i),i=n()}forEachAt(t,n,i){if(n<=0)return;const[r,s]=this.find(t);let o=t-s;const a=this.iterator(r);let u=a();for(;u&&o<t+n;){const d=u.length();t>o?i(u,t-o,Math.min(n,o+d-t)):i(u,0,Math.min(d,t+n-o)),o+=d,u=a()}}map(t){return this.reduce((n,i)=>(n.push(t(i)),n),[])}reduce(t,n){const i=this.iterator();let r=i();for(;r;)n=t(n,r),r=i();return n}}function iL(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const i=t.create(Tt.INLINE);return Array.from(e.childNodes).forEach(r=>{i.domNode.appendChild(r)}),e.parentNode&&e.parentNode.replaceChild(i.domNode,e),i.attach(),i}}const D3=class Wc extends T3{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Wc.uiClass&&this.uiNode.classList.add(Wc.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new K$,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=iL(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Zf)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(i,r,s)=>{i.deleteAt(r,s)})}descendant(t,n=0){const[i,r]=this.children.find(n);return t.blotName==null&&t(i)||t.blotName!=null&&i instanceof t?[i,r]:i instanceof Wc?i.descendant(t,r):[null,-1]}descendants(t,n=0,i=Number.MAX_VALUE){let r=[],s=i;return this.children.forEachAt(n,i,(o,a,u)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&r.push(o),o instanceof Wc&&(r=r.concat(o.descendants(t,a,s))),s-=u}),r}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(i=>n instanceof i)||(n.statics.scope===Tt.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof Wc?n.unwrap():n.remove())})}formatAt(t,n,i,r){this.children.forEachAt(t,n,(s,o,a)=>{s.formatAt(o,a,i,r)})}insertAt(t,n,i){const[r,s]=this.children.find(t);if(r)r.insertAt(s,n,i);else{const o=i==null?this.scroll.create("text",n):this.scroll.create(n,i);this.appendChild(o)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let i=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(i=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(t.domNode,i),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(i=>{t.insertBefore(i,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[i,r]=this.children.find(t,n),s=[[this,t]];return i instanceof Wc?s.concat(i.path(r,n)):(i!=null&&s.push([i,r]),s)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const i=typeof t=="string"?this.scroll.create(t,n):t;return i instanceof Wc&&this.moveChildren(i),super.replaceWith(i)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(t,this.length(),(r,s,o)=>{const a=r.split(s,n);a!=null&&i.appendChild(a)}),i}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const i=[],r=[];t.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(i.push(...s.addedNodes),r.push(...s.removedNodes))}),r.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),i.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const a=iL(s,this.scroll);(a.next!==o||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,o||void 0))}),this.enforceAllowedChildren()}};D3.uiClass="";let Y$=D3;const Ka=Y$;function Q$(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}const Lf=class Mf extends Ka{static create(t){return super.create(t)}static formats(t,n){const i=n.query(Mf.blotName);if(!(i!=null&&t.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new XC(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(i=>{i instanceof Mf||(i=i.wrap(Mf.blotName,!0)),this.attributes.copy(i)}),this.unwrap();else{const i=this.scroll.query(t,Tt.INLINE);if(i==null)return;i instanceof Wl?this.attributes.attribute(i,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,i,r){this.formats()[i]!=null||this.scroll.query(i,Tt.ATTRIBUTE)?this.isolate(t,n).format(i,r):super.formatAt(t,n,i,r)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const i=this.next;i instanceof Mf&&i.prev===this&&Q$(n,i.formats())&&(i.moveChildren(this),i.remove())}replaceWith(t,n){const i=super.replaceWith(t,n);return this.attributes.copy(i),i}update(t,n){super.update(t,n),t.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}wrap(t,n){const i=super.wrap(t,n);return i instanceof Mf&&this.attributes.move(i),i}};Lf.allowedChildren=[Lf,ps],Lf.blotName="inline",Lf.scope=Tt.INLINE_BLOT,Lf.tagName="SPAN";let X$=Lf;const MR=X$,Nf=class Rx extends Ka{static create(t){return super.create(t)}static formats(t,n){const i=n.query(Rx.blotName);if(!(i!=null&&t.tagName===i.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new XC(this.domNode)}format(t,n){const i=this.scroll.query(t,Tt.BLOCK);i!=null&&(i instanceof Wl?this.attributes.attribute(i,n):t===this.statics.blotName&&!n?this.replaceWith(Rx.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,i,r){this.scroll.query(i,Tt.BLOCK)!=null?this.format(i,r):super.formatAt(t,n,i,r)}insertAt(t,n,i){if(i==null||this.scroll.query(n,Tt.INLINE)!=null)super.insertAt(t,n,i);else{const r=this.split(t);if(r!=null){const s=this.scroll.create(n,i);r.parent.insertBefore(s,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const i=super.replaceWith(t,n);return this.attributes.copy(i),i}update(t,n){super.update(t,n),t.some(i=>i.target===this.domNode&&i.type==="attributes")&&this.attributes.build()}};Nf.blotName="block",Nf.scope=Tt.BLOCK_BLOT,Nf.tagName="P",Nf.allowedChildren=[MR,Nf,ps];let Z$=Nf;const km=Z$,Ax=class extends Ka{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,i,r){super.formatAt(t,n,i,r),this.enforceAllowedChildren()}insertAt(t,n,i){super.insertAt(t,n,i),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ax.blotName="container",Ax.scope=Tt.BLOCK_BLOT;let J$=Ax;const ZC=J$;class eK extends ps{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,i,r){t===0&&n===this.length()?this.format(i,r):super.formatAt(t,n,i,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Mo=eK,tK={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},nK=100,Of=class extends Ka{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(i=>{this.update(i)}),this.observer.observe(this.domNode,tK),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const i=this.registry.find(t,n);return i?i.scroll===this?i:n?this.find(i.scroll.domNode.parentNode,!0):null:null}query(t,n=Tt.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(i=>{i.remove()}):super.deleteAt(t,n)}formatAt(t,n,i,r){this.update(),super.formatAt(t,n,i,r)}insertAt(t,n,i){this.update(),super.insertAt(t,n,i)}optimize(t=[],n={}){super.optimize(n);const i=n.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const s=(u,d=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(i.has(u.domNode)||i.set(u.domNode,[]),d&&s(u.parent))},o=u=>{i.has(u.domNode)&&(u instanceof Ka&&u.children.forEach(o),i.delete(u.domNode),u.optimize(n))};let a=t;for(let u=0;a.length>0;u+=1){if(u>=nK)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(s(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(p=>{const g=this.find(p,!1);s(g,!1),g instanceof Ka&&g.children.forEach(m=>{s(m,!1)})})):d.type==="attributes"&&s(h.prev)),s(h))}),this.children.forEach(o),a=Array.from(this.observer.takeRecords()),r=a.slice();r.length>0;)t.push(r.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const i=new WeakMap;t.map(r=>{const s=this.find(r.target,!0);return s==null?null:i.has(s.domNode)?(i.get(s.domNode).push(r),null):(i.set(s.domNode,[r]),s)}).forEach(r=>{r!=null&&r!==this&&i.has(r.domNode)&&r.update(i.get(r.domNode)||[],n)}),n.mutationsMap=i,i.has(this.domNode)&&super.update(i.get(this.domNode),n),this.optimize(t,n)}};Of.blotName="scroll",Of.defaultChild=km,Of.allowedChildren=[km,ZC],Of.scope=Tt.BLOCK_BLOT,Of.tagName="DIV";let iK=Of;const NR=iK,Ex=class F3 extends ps{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,i){i==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,i)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof F3&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const i=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(i,this.next||void 0),this.text=this.statics.value(this.domNode),i}update(t,n){t.some(i=>i.type==="characterData"&&i.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Ex.blotName="text",Ex.scope=Tt.INLINE_BLOT;let rK=Ex;const Yb=rK,sK=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Wl,AttributorStore:XC,BlockBlot:km,ClassAttributor:tl,ContainerBlot:ZC,EmbedBlot:Mo,InlineBlot:MR,LeafBlot:ps,ParentBlot:Ka,Registry:pp,Scope:Tt,ScrollBlot:NR,StyleAttributor:gd,TextBlot:Yb},Symbol.toStringTag,{value:"Module"}));var My={exports:{}},OS,rL;function oK(){if(rL)return OS;rL=1;var e=-1,t=1,n=0;function i(T,O,H,q,ee){if(T===O)return T?[[n,T]]:[];if(H!=null){var $=V(T,O,H);if($)return $}var W=a(T,O),Q=T.substring(0,W);T=T.substring(W),O=O.substring(W),W=d(T,O);var ue=T.substring(T.length-W);T=T.substring(0,T.length-W),O=O.substring(0,O.length-W);var U=r(T,O);return Q&&U.unshift([n,Q]),ue&&U.push([n,ue]),A(U,ee),q&&p(U),U}function r(T,O){var H;if(!T)return[[t,O]];if(!O)return[[e,T]];var q=T.length>O.length?T:O,ee=T.length>O.length?O:T,$=q.indexOf(ee);if($!==-1)return H=[[t,q.substring(0,$)],[n,ee],[t,q.substring($+ee.length)]],T.length>O.length&&(H[0][0]=H[2][0]=e),H;if(ee.length===1)return[[e,T],[t,O]];var W=h(T,O);if(W){var Q=W[0],ue=W[1],U=W[2],de=W[3],j=W[4],X=i(Q,U),Z=i(ue,de);return X.concat([[n,j]],Z)}return s(T,O)}function s(T,O){for(var H=T.length,q=O.length,ee=Math.ceil((H+q)/2),$=ee,W=2*ee,Q=new Array(W),ue=new Array(W),U=0;U<W;U++)Q[U]=-1,ue[U]=-1;Q[$+1]=0,ue[$+1]=0;for(var de=H-q,j=de%2!==0,X=0,Z=0,re=0,ce=0,ye=0;ye<ee;ye++){for(var me=-ye+X;me<=ye-Z;me+=2){var Se=$+me,Oe;me===-ye||me!==ye&&Q[Se-1]<Q[Se+1]?Oe=Q[Se+1]:Oe=Q[Se-1]+1;for(var _e=Oe-me;Oe<H&&_e<q&&T.charAt(Oe)===O.charAt(_e);)Oe++,_e++;if(Q[Se]=Oe,Oe>H)Z+=2;else if(_e>q)X+=2;else if(j){var $e=$+de-me;if($e>=0&&$e<W&&ue[$e]!==-1){var Be=H-ue[$e];if(Oe>=Be)return o(T,O,Oe,_e)}}}for(var it=-ye+re;it<=ye-ce;it+=2){var $e=$+it,Be;it===-ye||it!==ye&&ue[$e-1]<ue[$e+1]?Be=ue[$e+1]:Be=ue[$e-1]+1;for(var De=Be-it;Be<H&&De<q&&T.charAt(H-Be-1)===O.charAt(q-De-1);)Be++,De++;if(ue[$e]=Be,Be>H)ce+=2;else if(De>q)re+=2;else if(!j){var Se=$+de-it;if(Se>=0&&Se<W&&Q[Se]!==-1){var Oe=Q[Se],_e=$+Oe-Se;if(Be=H-Be,Oe>=Be)return o(T,O,Oe,_e)}}}}return[[e,T],[t,O]]}function o(T,O,H,q){var ee=T.substring(0,H),$=O.substring(0,q),W=T.substring(H),Q=O.substring(q),ue=i(ee,$),U=i(W,Q);return ue.concat(U)}function a(T,O){if(!T||!O||T.charAt(0)!==O.charAt(0))return 0;for(var H=0,q=Math.min(T.length,O.length),ee=q,$=0;H<ee;)T.substring($,ee)==O.substring($,ee)?(H=ee,$=H):q=ee,ee=Math.floor((q-H)/2+H);return E(T.charCodeAt(ee-1))&&ee--,ee}function u(T,O){var H=T.length,q=O.length;if(H==0||q==0)return 0;H>q?T=T.substring(H-q):H<q&&(O=O.substring(0,H));var ee=Math.min(H,q);if(T==O)return ee;for(var $=0,W=1;;){var Q=T.substring(ee-W),ue=O.indexOf(Q);if(ue==-1)return $;W+=ue,(ue==0||T.substring(ee-W)==O.substring(0,W))&&($=W,W++)}}function d(T,O){if(!T||!O||T.slice(-1)!==O.slice(-1))return 0;for(var H=0,q=Math.min(T.length,O.length),ee=q,$=0;H<ee;)T.substring(T.length-ee,T.length-$)==O.substring(O.length-ee,O.length-$)?(H=ee,$=H):q=ee,ee=Math.floor((q-H)/2+H);return F(T.charCodeAt(T.length-ee))&&ee--,ee}function h(T,O){var H=T.length>O.length?T:O,q=T.length>O.length?O:T;if(H.length<4||q.length*2<H.length)return null;function ee(Z,re,ce){for(var ye=Z.substring(ce,ce+Math.floor(Z.length/4)),me=-1,Se="",Oe,_e,$e,Be;(me=re.indexOf(ye,me+1))!==-1;){var it=a(Z.substring(ce),re.substring(me)),De=d(Z.substring(0,ce),re.substring(0,me));Se.length<De+it&&(Se=re.substring(me-De,me)+re.substring(me,me+it),Oe=Z.substring(0,ce-De),_e=Z.substring(ce+it),$e=re.substring(0,me-De),Be=re.substring(me+it))}return Se.length*2>=Z.length?[Oe,_e,$e,Be,Se]:null}var $=ee(H,q,Math.ceil(H.length/4)),W=ee(H,q,Math.ceil(H.length/2)),Q;if(!$&&!W)return null;W?$?Q=$[4].length>W[4].length?$:W:Q=W:Q=$;var ue,U,de,j;T.length>O.length?(ue=Q[0],U=Q[1],de=Q[2],j=Q[3]):(de=Q[0],j=Q[1],ue=Q[2],U=Q[3]);var X=Q[4];return[ue,U,de,j,X]}function p(T){for(var O=!1,H=[],q=0,ee=null,$=0,W=0,Q=0,ue=0,U=0;$<T.length;)T[$][0]==n?(H[q++]=$,W=ue,Q=U,ue=0,U=0,ee=T[$][1]):(T[$][0]==t?ue+=T[$][1].length:U+=T[$][1].length,ee&&ee.length<=Math.max(W,Q)&&ee.length<=Math.max(ue,U)&&(T.splice(H[q-1],0,[e,ee]),T[H[q-1]+1][0]=t,q--,q--,$=q>0?H[q-1]:-1,W=0,Q=0,ue=0,U=0,ee=null,O=!0)),$++;for(O&&A(T),C(T),$=1;$<T.length;){if(T[$-1][0]==e&&T[$][0]==t){var de=T[$-1][1],j=T[$][1],X=u(de,j),Z=u(j,de);X>=Z?(X>=de.length/2||X>=j.length/2)&&(T.splice($,0,[n,j.substring(0,X)]),T[$-1][1]=de.substring(0,de.length-X),T[$+1][1]=j.substring(X),$++):(Z>=de.length/2||Z>=j.length/2)&&(T.splice($,0,[n,de.substring(0,Z)]),T[$-1][0]=t,T[$-1][1]=j.substring(0,j.length-Z),T[$+1][0]=e,T[$+1][1]=de.substring(Z),$++),$++}$++}}var g=/[^a-zA-Z0-9]/,m=/\s/,y=/[\r\n]/,w=/\n\r?\n$/,x=/^\r?\n\r?\n/;function C(T){function O(Z,re){if(!Z||!re)return 6;var ce=Z.charAt(Z.length-1),ye=re.charAt(0),me=ce.match(g),Se=ye.match(g),Oe=me&&ce.match(m),_e=Se&&ye.match(m),$e=Oe&&ce.match(y),Be=_e&&ye.match(y),it=$e&&Z.match(w),De=Be&&re.match(x);return it||De?5:$e||Be?4:me&&!Oe&&_e?3:Oe||_e?2:me||Se?1:0}for(var H=1;H<T.length-1;){if(T[H-1][0]==n&&T[H+1][0]==n){var q=T[H-1][1],ee=T[H][1],$=T[H+1][1],W=d(q,ee);if(W){var Q=ee.substring(ee.length-W);q=q.substring(0,q.length-W),ee=Q+ee.substring(0,ee.length-W),$=Q+$}for(var ue=q,U=ee,de=$,j=O(q,ee)+O(ee,$);ee.charAt(0)===$.charAt(0);){q+=ee.charAt(0),ee=ee.substring(1)+$.charAt(0),$=$.substring(1);var X=O(q,ee)+O(ee,$);X>=j&&(j=X,ue=q,U=ee,de=$)}T[H-1][1]!=ue&&(ue?T[H-1][1]=ue:(T.splice(H-1,1),H--),T[H][1]=U,de?T[H+1][1]=de:(T.splice(H+1,1),H--))}H++}}function A(T,O){T.push([n,""]);for(var H=0,q=0,ee=0,$="",W="",Q;H<T.length;){if(H<T.length-1&&!T[H][1]){T.splice(H,1);continue}switch(T[H][0]){case t:ee++,W+=T[H][1],H++;break;case e:q++,$+=T[H][1],H++;break;case n:var ue=H-ee-q-1;if(O){if(ue>=0&&z(T[ue][1])){var U=T[ue][1].slice(-1);if(T[ue][1]=T[ue][1].slice(0,-1),$=U+$,W=U+W,!T[ue][1]){T.splice(ue,1),H--;var de=ue-1;T[de]&&T[de][0]===t&&(ee++,W=T[de][1]+W,de--),T[de]&&T[de][0]===e&&(q++,$=T[de][1]+$,de--),ue=de}}if(N(T[H][1])){var U=T[H][1].charAt(0);T[H][1]=T[H][1].slice(1),$+=U,W+=U}}if(H<T.length-1&&!T[H][1]){T.splice(H,1);break}if($.length>0||W.length>0){$.length>0&&W.length>0&&(Q=a(W,$),Q!==0&&(ue>=0?T[ue][1]+=W.substring(0,Q):(T.splice(0,0,[n,W.substring(0,Q)]),H++),W=W.substring(Q),$=$.substring(Q)),Q=d(W,$),Q!==0&&(T[H][1]=W.substring(W.length-Q)+T[H][1],W=W.substring(0,W.length-Q),$=$.substring(0,$.length-Q)));var j=ee+q;$.length===0&&W.length===0?(T.splice(H-j,j),H=H-j):$.length===0?(T.splice(H-j,j,[t,W]),H=H-j+1):W.length===0?(T.splice(H-j,j,[e,$]),H=H-j+1):(T.splice(H-j,j,[e,$],[t,W]),H=H-j+2)}H!==0&&T[H-1][0]===n?(T[H-1][1]+=T[H][1],T.splice(H,1)):H++,ee=0,q=0,$="",W="";break}}T[T.length-1][1]===""&&T.pop();var X=!1;for(H=1;H<T.length-1;)T[H-1][0]===n&&T[H+1][0]===n&&(T[H][1].substring(T[H][1].length-T[H-1][1].length)===T[H-1][1]?(T[H][1]=T[H-1][1]+T[H][1].substring(0,T[H][1].length-T[H-1][1].length),T[H+1][1]=T[H-1][1]+T[H+1][1],T.splice(H-1,1),X=!0):T[H][1].substring(0,T[H+1][1].length)==T[H+1][1]&&(T[H-1][1]+=T[H+1][1],T[H][1]=T[H][1].substring(T[H+1][1].length)+T[H+1][1],T.splice(H+1,1),X=!0)),H++;X&&A(T,O)}function E(T){return T>=55296&&T<=56319}function F(T){return T>=56320&&T<=57343}function N(T){return F(T.charCodeAt(0))}function z(T){return E(T.charCodeAt(T.length-1))}function B(T){for(var O=[],H=0;H<T.length;H++)T[H][1].length>0&&O.push(T[H]);return O}function k(T,O,H,q){return z(T)||N(q)?null:B([[n,T],[e,O],[t,H],[n,q]])}function V(T,O,H){var q=typeof H=="number"?{index:H,length:0}:H.oldRange,ee=typeof H=="number"?null:H.newRange,$=T.length,W=O.length;if(q.length===0&&(ee===null||ee.length===0)){var Q=q.index,ue=T.slice(0,Q),U=T.slice(Q),de=ee?ee.index:null;e:{var j=Q+W-$;if(de!==null&&de!==j||j<0||j>W)break e;var X=O.slice(0,j),Z=O.slice(j);if(Z!==U)break e;var re=Math.min(Q,j),ce=ue.slice(0,re),ye=X.slice(0,re);if(ce!==ye)break e;var me=ue.slice(re),Se=X.slice(re);return k(ce,me,Se,U)}e:{if(de!==null&&de!==Q)break e;var Oe=Q,X=O.slice(0,Oe),Z=O.slice(Oe);if(X!==ue)break e;var _e=Math.min($-Oe,W-Oe),$e=U.slice(U.length-_e),Be=Z.slice(Z.length-_e);if($e!==Be)break e;var me=U.slice(0,U.length-_e),Se=Z.slice(0,Z.length-_e);return k(ue,me,Se,$e)}}if(q.length>0&&ee&&ee.length===0)e:{var ce=T.slice(0,q.index),$e=T.slice(q.index+q.length),re=ce.length,_e=$e.length;if(W<re+_e)break e;var ye=O.slice(0,re),Be=O.slice(W-_e);if(ce!==ye||$e!==Be)break e;var me=T.slice(re,$-_e),Se=O.slice(re,W-_e);return k(ce,me,Se,$e)}return null}function K(T,O,H,q){return i(T,O,H,q,!0)}return K.INSERT=t,K.DELETE=e,K.EQUAL=n,OS=K,OS}var Wg={exports:{}};Wg.exports;var sL;function L3(){return sL||(sL=1,function(e,t){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Object]",w="[object Promise]",x="[object RegExp]",C="[object Set]",A="[object String]",E="[object Symbol]",F="[object WeakMap]",N="[object ArrayBuffer]",z="[object DataView]",B="[object Float32Array]",k="[object Float64Array]",V="[object Int8Array]",K="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",H="[object Uint8ClampedArray]",q="[object Uint16Array]",ee="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,Q=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,U={};U[s]=U[o]=U[N]=U[z]=U[a]=U[u]=U[B]=U[k]=U[V]=U[K]=U[T]=U[g]=U[m]=U[y]=U[x]=U[C]=U[A]=U[E]=U[O]=U[H]=U[q]=U[ee]=!0,U[d]=U[h]=U[F]=!1;var de=typeof la=="object"&&la&&la.Object===Object&&la,j=typeof self=="object"&&self&&self.Object===Object&&self,X=de||j||Function("return this")(),Z=t&&!t.nodeType&&t,re=Z&&!0&&e&&!e.nodeType&&e,ce=re&&re.exports===Z;function ye(_,oe){return _.set(oe[0],oe[1]),_}function me(_,oe){return _.add(oe),_}function Se(_,oe){for(var ve=-1,He=_?_.length:0;++ve<He&&oe(_[ve],ve,_)!==!1;);return _}function Oe(_,oe){for(var ve=-1,He=oe.length,Mt=_.length;++ve<He;)_[Mt+ve]=oe[ve];return _}function _e(_,oe,ve,He){for(var Mt=-1,Rt=_?_.length:0;++Mt<Rt;)ve=oe(ve,_[Mt],Mt,_);return ve}function $e(_,oe){for(var ve=-1,He=Array(_);++ve<_;)He[ve]=oe(ve);return He}function Be(_,oe){return _==null?void 0:_[oe]}function it(_){var oe=!1;if(_!=null&&typeof _.toString!="function")try{oe=!!(_+"")}catch{}return oe}function De(_){var oe=-1,ve=Array(_.size);return _.forEach(function(He,Mt){ve[++oe]=[Mt,He]}),ve}function fe(_,oe){return function(ve){return _(oe(ve))}}function ct(_){var oe=-1,ve=Array(_.size);return _.forEach(function(He){ve[++oe]=He}),ve}var ot=Array.prototype,Ye=Function.prototype,Je=Object.prototype,nt=X["__core-js_shared__"],at=function(){var _=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),yt=Ye.toString,mt=Je.hasOwnProperty,It=Je.toString,Vt=RegExp("^"+yt.call(mt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ce?X.Buffer:void 0,wt=X.Symbol,vt=X.Uint8Array,Ot=fe(Object.getPrototypeOf,Object),ft=Object.create,yi=Je.propertyIsEnumerable,Zt=ot.splice,An=Object.getOwnPropertySymbols,hn=zt?zt.isBuffer:void 0,ln=fe(Object.keys,Object),En=Sr(X,"DataView"),sn=Sr(X,"Map"),qi=Sr(X,"Promise"),Tn=Sr(X,"Set"),Di=Sr(X,"WeakMap"),Fi=Sr(Object,"create"),fn=bi(En),Dt=bi(sn),Jt=bi(qi),Cs=bi(Tn),Yn=bi(Di),Li=wt?wt.prototype:void 0,lr=Li?Li.valueOf:void 0;function bt(_){var oe=-1,ve=_?_.length:0;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function Mr(){this.__data__=Fi?Fi(null):{}}function Nr(_){return this.has(_)&&delete this.__data__[_]}function Ui(_){var oe=this.__data__;if(Fi){var ve=oe[_];return ve===i?void 0:ve}return mt.call(oe,_)?oe[_]:void 0}function Un(_){var oe=this.__data__;return Fi?oe[_]!==void 0:mt.call(oe,_)}function In(_,oe){var ve=this.__data__;return ve[_]=Fi&&oe===void 0?i:oe,this}bt.prototype.clear=Mr,bt.prototype.delete=Nr,bt.prototype.get=Ui,bt.prototype.has=Un,bt.prototype.set=In;function Cn(_){var oe=-1,ve=_?_.length:0;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function ur(){this.__data__=[]}function Dn(_){var oe=this.__data__,ve=Ni(oe,_);if(ve<0)return!1;var He=oe.length-1;return ve==He?oe.pop():Zt.call(oe,ve,1),!0}function Fn(_){var oe=this.__data__,ve=Ni(oe,_);return ve<0?void 0:oe[ve][1]}function Mi(_){return Ni(this.__data__,_)>-1}function cr(_,oe){var ve=this.__data__,He=Ni(ve,_);return He<0?ve.push([_,oe]):ve[He][1]=oe,this}Cn.prototype.clear=ur,Cn.prototype.delete=Dn,Cn.prototype.get=Fn,Cn.prototype.has=Mi,Cn.prototype.set=cr;function _n(_){var oe=-1,ve=_?_.length:0;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function br(){this.__data__={hash:new bt,map:new(sn||Cn),string:new bt}}function Or(_){return As(this,_).delete(_)}function kr(_){return As(this,_).get(_)}function Bs(_){return As(this,_).has(_)}function Cr(_,oe){return As(this,_).set(_,oe),this}_n.prototype.clear=br,_n.prototype.delete=Or,_n.prototype.get=kr,_n.prototype.has=Bs,_n.prototype.set=Cr;function Vn(_){this.__data__=new Cn(_)}function Qr(){this.__data__=new Cn}function ws(_){return this.__data__.delete(_)}function Qn(_){return this.__data__.get(_)}function ll(_){return this.__data__.has(_)}function to(_,oe){var ve=this.__data__;if(ve instanceof Cn){var He=ve.__data__;if(!sn||He.length<n-1)return He.push([_,oe]),this;ve=this.__data__=new _n(He)}return ve.set(_,oe),this}Vn.prototype.clear=Qr,Vn.prototype.delete=ws,Vn.prototype.get=Qn,Vn.prototype.has=ll,Vn.prototype.set=to;function dr(_,oe){var ve=ao(_)||oo(_)?$e(_.length,String):[],He=ve.length,Mt=!!He;for(var Rt in _)mt.call(_,Rt)&&!(Mt&&(Rt=="length"||Bo(Rt,He)))&&ve.push(Rt);return ve}function Ss(_,oe,ve){var He=_[oe];(!(mt.call(_,oe)&&Ft(He,ve))||ve===void 0&&!(oe in _))&&(_[oe]=ve)}function Ni(_,oe){for(var ve=_.length;ve--;)if(Ft(_[ve][0],oe))return ve;return-1}function Xr(_,oe){return _&&Io(oe,jo(oe),_)}function no(_,oe,ve,He,Mt,Rt,tn){var en;if(He&&(en=Rt?He(_,Mt,Rt,tn):He(_)),en!==void 0)return en;if(!Rr(_))return _;var Pn=ao(_);if(Pn){if(en=cl(_),!oe)return ko(_,en)}else{var Wt=Es(_),Bn=Wt==h||Wt==p;if(lo(_))return fi(_,oe);if(Wt==y||Wt==s||Bn&&!Rt){if(it(_))return Rt?_:{};if(en=Ir(Bn?{}:_),!oe)return _o(_,Xr(en,_))}else{if(!U[Wt])return Rt?_:{};en=_r(_,Wt,no,oe)}}tn||(tn=new Vn);var ir=tn.get(_);if(ir)return ir;if(tn.set(_,en),!Pn)var Mn=ve?Hs(_):jo(_);return Se(Mn||_,function(Nn,Wn){Mn&&(Wn=Nn,Nn=_[Wn]),Ss(en,Wn,no(Nn,oe,ve,He,Wn,_,tn))}),en}function ul(_){return Rr(_)?ft(_):{}}function No(_,oe,ve){var He=oe(_);return ao(_)?He:Oe(He,ve(_))}function Oo(_){return It.call(_)}function Ln(_){if(!Rr(_)||so(_))return!1;var oe=xr(_)||it(_)?Vt:Q;return oe.test(bi(_))}function wr(_){if(!ii(_))return ln(_);var oe=[];for(var ve in Object(_))mt.call(_,ve)&&ve!="constructor"&&oe.push(ve);return oe}function fi(_,oe){if(oe)return _.slice();var ve=new _.constructor(_.length);return _.copy(ve),ve}function io(_){var oe=new _.constructor(_.byteLength);return new vt(oe).set(new vt(_)),oe}function xs(_,oe){var ve=oe?io(_.buffer):_.buffer;return new _.constructor(ve,_.byteOffset,_.byteLength)}function ro(_,oe,ve){var He=oe?ve(De(_),!0):De(_);return _e(He,ye,new _.constructor)}function hr(_){var oe=new _.constructor(_.source,W.exec(_));return oe.lastIndex=_.lastIndex,oe}function Rs(_,oe,ve){var He=oe?ve(ct(_),!0):ct(_);return _e(He,me,new _.constructor)}function tr(_){return lr?Object(lr.call(_)):{}}function Oi(_,oe){var ve=oe?io(_.buffer):_.buffer;return new _.constructor(ve,_.byteOffset,_.length)}function ko(_,oe){var ve=-1,He=_.length;for(oe||(oe=Array(He));++ve<He;)oe[ve]=_[ve];return oe}function Io(_,oe,ve,He){ve||(ve={});for(var Mt=-1,Rt=oe.length;++Mt<Rt;){var tn=oe[Mt],en=void 0;Ss(ve,tn,en===void 0?_[tn]:en)}return ve}function _o(_,oe){return Io(_,ki(_),oe)}function Hs(_){return No(_,jo,ki)}function As(_,oe){var ve=_.__data__;return Ho(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function Sr(_,oe){var ve=Be(_,oe);return Ln(ve)?ve:void 0}var ki=An?fe(An,Object):Gs,Es=Oo;(En&&Es(new En(new ArrayBuffer(1)))!=z||sn&&Es(new sn)!=g||qi&&Es(qi.resolve())!=w||Tn&&Es(new Tn)!=C||Di&&Es(new Di)!=F)&&(Es=function(_){var oe=It.call(_),ve=oe==y?_.constructor:void 0,He=ve?bi(ve):void 0;if(He)switch(He){case fn:return z;case Dt:return g;case Jt:return w;case Cs:return C;case Yn:return F}return oe});function cl(_){var oe=_.length,ve=_.constructor(oe);return oe&&typeof _[0]=="string"&&mt.call(_,"index")&&(ve.index=_.index,ve.input=_.input),ve}function Ir(_){return typeof _.constructor=="function"&&!ii(_)?ul(Ot(_)):{}}function _r(_,oe,ve,He){var Mt=_.constructor;switch(oe){case N:return io(_);case a:case u:return new Mt(+_);case z:return xs(_,He);case B:case k:case V:case K:case T:case O:case H:case q:case ee:return Oi(_,He);case g:return ro(_,He,ve);case m:case A:return new Mt(_);case x:return hr(_);case C:return Rs(_,He,ve);case E:return tr(_)}}function Bo(_,oe){return oe=oe??r,!!oe&&(typeof _=="number"||ue.test(_))&&_>-1&&_%1==0&&_<oe}function Ho(_){var oe=typeof _;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?_!=="__proto__":_===null}function so(_){return!!at&&at in _}function ii(_){var oe=_&&_.constructor,ve=typeof oe=="function"&&oe.prototype||Je;return _===ve}function bi(_){if(_!=null){try{return yt.call(_)}catch{}try{return _+""}catch{}}return""}function Zr(_){return no(_,!0,!0)}function Ft(_,oe){return _===oe||_!==_&&oe!==oe}function oo(_){return js(_)&&mt.call(_,"callee")&&(!yi.call(_,"callee")||It.call(_)==s)}var ao=Array.isArray;function nr(_){return _!=null&&fr(_.length)&&!xr(_)}function js(_){return uo(_)&&nr(_)}var lo=hn||Jr;function xr(_){var oe=Rr(_)?It.call(_):"";return oe==h||oe==p}function fr(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=r}function Rr(_){var oe=typeof _;return!!_&&(oe=="object"||oe=="function")}function uo(_){return!!_&&typeof _=="object"}function jo(_){return nr(_)?dr(_):wr(_)}function Gs(){return[]}function Jr(){return!1}e.exports=Zr}(Wg,Wg.exports)),Wg.exports}var $g={exports:{}};$g.exports;var oL;function M3(){return oL||(oL=1,function(e,t){var n=200,i="__lodash_hash_undefined__",r=1,s=2,o=9007199254740991,a="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",g="[object Error]",m="[object Function]",y="[object GeneratorFunction]",w="[object Map]",x="[object Number]",C="[object Null]",A="[object Object]",E="[object Promise]",F="[object Proxy]",N="[object RegExp]",z="[object Set]",B="[object String]",k="[object Symbol]",V="[object Undefined]",K="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",H="[object Float32Array]",q="[object Float64Array]",ee="[object Int8Array]",$="[object Int16Array]",W="[object Int32Array]",Q="[object Uint8Array]",ue="[object Uint8ClampedArray]",U="[object Uint16Array]",de="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,re={};re[H]=re[q]=re[ee]=re[$]=re[W]=re[Q]=re[ue]=re[U]=re[de]=!0,re[a]=re[u]=re[T]=re[h]=re[O]=re[p]=re[g]=re[m]=re[w]=re[x]=re[A]=re[N]=re[z]=re[B]=re[K]=!1;var ce=typeof la=="object"&&la&&la.Object===Object&&la,ye=typeof self=="object"&&self&&self.Object===Object&&self,me=ce||ye||Function("return this")(),Se=t&&!t.nodeType&&t,Oe=Se&&!0&&e&&!e.nodeType&&e,_e=Oe&&Oe.exports===Se,$e=_e&&ce.process,Be=function(){try{return $e&&$e.binding&&$e.binding("util")}catch{}}(),it=Be&&Be.isTypedArray;function De(_,oe){for(var ve=-1,He=_==null?0:_.length,Mt=0,Rt=[];++ve<He;){var tn=_[ve];oe(tn,ve,_)&&(Rt[Mt++]=tn)}return Rt}function fe(_,oe){for(var ve=-1,He=oe.length,Mt=_.length;++ve<He;)_[Mt+ve]=oe[ve];return _}function ct(_,oe){for(var ve=-1,He=_==null?0:_.length;++ve<He;)if(oe(_[ve],ve,_))return!0;return!1}function ot(_,oe){for(var ve=-1,He=Array(_);++ve<_;)He[ve]=oe(ve);return He}function Ye(_){return function(oe){return _(oe)}}function Je(_,oe){return _.has(oe)}function nt(_,oe){return _==null?void 0:_[oe]}function at(_){var oe=-1,ve=Array(_.size);return _.forEach(function(He,Mt){ve[++oe]=[Mt,He]}),ve}function yt(_,oe){return function(ve){return _(oe(ve))}}function mt(_){var oe=-1,ve=Array(_.size);return _.forEach(function(He){ve[++oe]=He}),ve}var It=Array.prototype,Vt=Function.prototype,zt=Object.prototype,wt=me["__core-js_shared__"],vt=Vt.toString,Ot=zt.hasOwnProperty,ft=function(){var _=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),yi=zt.toString,Zt=RegExp("^"+vt.call(Ot).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),An=_e?me.Buffer:void 0,hn=me.Symbol,ln=me.Uint8Array,En=zt.propertyIsEnumerable,sn=It.splice,qi=hn?hn.toStringTag:void 0,Tn=Object.getOwnPropertySymbols,Di=An?An.isBuffer:void 0,Fi=yt(Object.keys,Object),fn=ki(me,"DataView"),Dt=ki(me,"Map"),Jt=ki(me,"Promise"),Cs=ki(me,"Set"),Yn=ki(me,"WeakMap"),Li=ki(Object,"create"),lr=bi(fn),bt=bi(Dt),Mr=bi(Jt),Nr=bi(Cs),Ui=bi(Yn),Un=hn?hn.prototype:void 0,In=Un?Un.valueOf:void 0;function Cn(_){var oe=-1,ve=_==null?0:_.length;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function ur(){this.__data__=Li?Li(null):{},this.size=0}function Dn(_){var oe=this.has(_)&&delete this.__data__[_];return this.size-=oe?1:0,oe}function Fn(_){var oe=this.__data__;if(Li){var ve=oe[_];return ve===i?void 0:ve}return Ot.call(oe,_)?oe[_]:void 0}function Mi(_){var oe=this.__data__;return Li?oe[_]!==void 0:Ot.call(oe,_)}function cr(_,oe){var ve=this.__data__;return this.size+=this.has(_)?0:1,ve[_]=Li&&oe===void 0?i:oe,this}Cn.prototype.clear=ur,Cn.prototype.delete=Dn,Cn.prototype.get=Fn,Cn.prototype.has=Mi,Cn.prototype.set=cr;function _n(_){var oe=-1,ve=_==null?0:_.length;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function br(){this.__data__=[],this.size=0}function Or(_){var oe=this.__data__,ve=fi(oe,_);if(ve<0)return!1;var He=oe.length-1;return ve==He?oe.pop():sn.call(oe,ve,1),--this.size,!0}function kr(_){var oe=this.__data__,ve=fi(oe,_);return ve<0?void 0:oe[ve][1]}function Bs(_){return fi(this.__data__,_)>-1}function Cr(_,oe){var ve=this.__data__,He=fi(ve,_);return He<0?(++this.size,ve.push([_,oe])):ve[He][1]=oe,this}_n.prototype.clear=br,_n.prototype.delete=Or,_n.prototype.get=kr,_n.prototype.has=Bs,_n.prototype.set=Cr;function Vn(_){var oe=-1,ve=_==null?0:_.length;for(this.clear();++oe<ve;){var He=_[oe];this.set(He[0],He[1])}}function Qr(){this.size=0,this.__data__={hash:new Cn,map:new(Dt||_n),string:new Cn}}function ws(_){var oe=Sr(this,_).delete(_);return this.size-=oe?1:0,oe}function Qn(_){return Sr(this,_).get(_)}function ll(_){return Sr(this,_).has(_)}function to(_,oe){var ve=Sr(this,_),He=ve.size;return ve.set(_,oe),this.size+=ve.size==He?0:1,this}Vn.prototype.clear=Qr,Vn.prototype.delete=ws,Vn.prototype.get=Qn,Vn.prototype.has=ll,Vn.prototype.set=to;function dr(_){var oe=-1,ve=_==null?0:_.length;for(this.__data__=new Vn;++oe<ve;)this.add(_[oe])}function Ss(_){return this.__data__.set(_,i),this}function Ni(_){return this.__data__.has(_)}dr.prototype.add=dr.prototype.push=Ss,dr.prototype.has=Ni;function Xr(_){var oe=this.__data__=new _n(_);this.size=oe.size}function no(){this.__data__=new _n,this.size=0}function ul(_){var oe=this.__data__,ve=oe.delete(_);return this.size=oe.size,ve}function No(_){return this.__data__.get(_)}function Oo(_){return this.__data__.has(_)}function Ln(_,oe){var ve=this.__data__;if(ve instanceof _n){var He=ve.__data__;if(!Dt||He.length<n-1)return He.push([_,oe]),this.size=++ve.size,this;ve=this.__data__=new Vn(He)}return ve.set(_,oe),this.size=ve.size,this}Xr.prototype.clear=no,Xr.prototype.delete=ul,Xr.prototype.get=No,Xr.prototype.has=Oo,Xr.prototype.set=Ln;function wr(_,oe){var ve=oo(_),He=!ve&&Ft(_),Mt=!ve&&!He&&nr(_),Rt=!ve&&!He&&!Mt&&uo(_),tn=ve||He||Mt||Rt,en=tn?ot(_.length,String):[],Pn=en.length;for(var Wt in _)Ot.call(_,Wt)&&!(tn&&(Wt=="length"||Mt&&(Wt=="offset"||Wt=="parent")||Rt&&(Wt=="buffer"||Wt=="byteLength"||Wt=="byteOffset")||_r(Wt,Pn)))&&en.push(Wt);return en}function fi(_,oe){for(var ve=_.length;ve--;)if(Zr(_[ve][0],oe))return ve;return-1}function io(_,oe,ve){var He=oe(_);return oo(_)?He:fe(He,ve(_))}function xs(_){return _==null?_===void 0?V:C:qi&&qi in Object(_)?Es(_):ii(_)}function ro(_){return Rr(_)&&xs(_)==a}function hr(_,oe,ve,He,Mt){return _===oe?!0:_==null||oe==null||!Rr(_)&&!Rr(oe)?_!==_&&oe!==oe:Rs(_,oe,ve,He,hr,Mt)}function Rs(_,oe,ve,He,Mt,Rt){var tn=oo(_),en=oo(oe),Pn=tn?u:Ir(_),Wt=en?u:Ir(oe);Pn=Pn==a?A:Pn,Wt=Wt==a?A:Wt;var Bn=Pn==A,ir=Wt==A,Mn=Pn==Wt;if(Mn&&nr(_)){if(!nr(oe))return!1;tn=!0,Bn=!1}if(Mn&&!Bn)return Rt||(Rt=new Xr),tn||uo(_)?Io(_,oe,ve,He,Mt,Rt):_o(_,oe,Pn,ve,He,Mt,Rt);if(!(ve&r)){var Nn=Bn&&Ot.call(_,"__wrapped__"),Wn=ir&&Ot.call(oe,"__wrapped__");if(Nn||Wn){var Ar=Nn?_.value():_,Ts=Wn?oe.value():oe;return Rt||(Rt=new Xr),Mt(Ar,Ts,ve,He,Rt)}}return Mn?(Rt||(Rt=new Xr),Hs(_,oe,ve,He,Mt,Rt)):!1}function tr(_){if(!fr(_)||Ho(_))return!1;var oe=lo(_)?Zt:X;return oe.test(bi(_))}function Oi(_){return Rr(_)&&xr(_.length)&&!!re[xs(_)]}function ko(_){if(!so(_))return Fi(_);var oe=[];for(var ve in Object(_))Ot.call(_,ve)&&ve!="constructor"&&oe.push(ve);return oe}function Io(_,oe,ve,He,Mt,Rt){var tn=ve&r,en=_.length,Pn=oe.length;if(en!=Pn&&!(tn&&Pn>en))return!1;var Wt=Rt.get(_);if(Wt&&Rt.get(oe))return Wt==oe;var Bn=-1,ir=!0,Mn=ve&s?new dr:void 0;for(Rt.set(_,oe),Rt.set(oe,_);++Bn<en;){var Nn=_[Bn],Wn=oe[Bn];if(He)var Ar=tn?He(Wn,Nn,Bn,oe,_,Rt):He(Nn,Wn,Bn,_,oe,Rt);if(Ar!==void 0){if(Ar)continue;ir=!1;break}if(Mn){if(!ct(oe,function(Ts,es){if(!Je(Mn,es)&&(Nn===Ts||Mt(Nn,Ts,ve,He,Rt)))return Mn.push(es)})){ir=!1;break}}else if(!(Nn===Wn||Mt(Nn,Wn,ve,He,Rt))){ir=!1;break}}return Rt.delete(_),Rt.delete(oe),ir}function _o(_,oe,ve,He,Mt,Rt,tn){switch(ve){case O:if(_.byteLength!=oe.byteLength||_.byteOffset!=oe.byteOffset)return!1;_=_.buffer,oe=oe.buffer;case T:return!(_.byteLength!=oe.byteLength||!Rt(new ln(_),new ln(oe)));case h:case p:case x:return Zr(+_,+oe);case g:return _.name==oe.name&&_.message==oe.message;case N:case B:return _==oe+"";case w:var en=at;case z:var Pn=He&r;if(en||(en=mt),_.size!=oe.size&&!Pn)return!1;var Wt=tn.get(_);if(Wt)return Wt==oe;He|=s,tn.set(_,oe);var Bn=Io(en(_),en(oe),He,Mt,Rt,tn);return tn.delete(_),Bn;case k:if(In)return In.call(_)==In.call(oe)}return!1}function Hs(_,oe,ve,He,Mt,Rt){var tn=ve&r,en=As(_),Pn=en.length,Wt=As(oe),Bn=Wt.length;if(Pn!=Bn&&!tn)return!1;for(var ir=Pn;ir--;){var Mn=en[ir];if(!(tn?Mn in oe:Ot.call(oe,Mn)))return!1}var Nn=Rt.get(_);if(Nn&&Rt.get(oe))return Nn==oe;var Wn=!0;Rt.set(_,oe),Rt.set(oe,_);for(var Ar=tn;++ir<Pn;){Mn=en[ir];var Ts=_[Mn],es=oe[Mn];if(He)var sc=tn?He(es,Ts,Mn,oe,_,Rt):He(Ts,es,Mn,_,oe,Rt);if(!(sc===void 0?Ts===es||Mt(Ts,es,ve,He,Rt):sc)){Wn=!1;break}Ar||(Ar=Mn=="constructor")}if(Wn&&!Ar){var Go=_.constructor,co=oe.constructor;Go!=co&&"constructor"in _&&"constructor"in oe&&!(typeof Go=="function"&&Go instanceof Go&&typeof co=="function"&&co instanceof co)&&(Wn=!1)}return Rt.delete(_),Rt.delete(oe),Wn}function As(_){return io(_,jo,cl)}function Sr(_,oe){var ve=_.__data__;return Bo(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function ki(_,oe){var ve=nt(_,oe);return tr(ve)?ve:void 0}function Es(_){var oe=Ot.call(_,qi),ve=_[qi];try{_[qi]=void 0;var He=!0}catch{}var Mt=yi.call(_);return He&&(oe?_[qi]=ve:delete _[qi]),Mt}var cl=Tn?function(_){return _==null?[]:(_=Object(_),De(Tn(_),function(oe){return En.call(_,oe)}))}:Gs,Ir=xs;(fn&&Ir(new fn(new ArrayBuffer(1)))!=O||Dt&&Ir(new Dt)!=w||Jt&&Ir(Jt.resolve())!=E||Cs&&Ir(new Cs)!=z||Yn&&Ir(new Yn)!=K)&&(Ir=function(_){var oe=xs(_),ve=oe==A?_.constructor:void 0,He=ve?bi(ve):"";if(He)switch(He){case lr:return O;case bt:return w;case Mr:return E;case Nr:return z;case Ui:return K}return oe});function _r(_,oe){return oe=oe??o,!!oe&&(typeof _=="number"||Z.test(_))&&_>-1&&_%1==0&&_<oe}function Bo(_){var oe=typeof _;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?_!=="__proto__":_===null}function Ho(_){return!!ft&&ft in _}function so(_){var oe=_&&_.constructor,ve=typeof oe=="function"&&oe.prototype||zt;return _===ve}function ii(_){return yi.call(_)}function bi(_){if(_!=null){try{return vt.call(_)}catch{}try{return _+""}catch{}}return""}function Zr(_,oe){return _===oe||_!==_&&oe!==oe}var Ft=ro(function(){return arguments}())?ro:function(_){return Rr(_)&&Ot.call(_,"callee")&&!En.call(_,"callee")},oo=Array.isArray;function ao(_){return _!=null&&xr(_.length)&&!lo(_)}var nr=Di||Jr;function js(_,oe){return hr(_,oe)}function lo(_){if(!fr(_))return!1;var oe=xs(_);return oe==m||oe==y||oe==d||oe==F}function xr(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=o}function fr(_){var oe=typeof _;return _!=null&&(oe=="object"||oe=="function")}function Rr(_){return _!=null&&typeof _=="object"}var uo=it?Ye(it):Oi;function jo(_){return ao(_)?wr(_):ko(_)}function Gs(){return[]}function Jr(){return!1}e.exports=js}($g,$g.exports)),$g.exports}var Ny={},aL;function aK(){if(aL)return Ny;aL=1,Object.defineProperty(Ny,"__esModule",{value:!0});const e=L3(),t=M3();var n;return function(i){function r(u={},d={},h=!1){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});let p=e(d);h||(p=Object.keys(p).reduce((g,m)=>(p[m]!=null&&(g[m]=p[m]),g),{}));for(const g in u)u[g]!==void 0&&d[g]===void 0&&(p[g]=u[g]);return Object.keys(p).length>0?p:void 0}i.compose=r;function s(u={},d={}){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});const h=Object.keys(u).concat(Object.keys(d)).reduce((p,g)=>(t(u[g],d[g])||(p[g]=d[g]===void 0?null:d[g]),p),{});return Object.keys(h).length>0?h:void 0}i.diff=s;function o(u={},d={}){u=u||{};const h=Object.keys(d).reduce((p,g)=>(d[g]!==u[g]&&u[g]!==void 0&&(p[g]=d[g]),p),{});return Object.keys(u).reduce((p,g)=>(u[g]!==d[g]&&d[g]===void 0&&(p[g]=null),p),h)}i.invert=o;function a(u,d,h=!1){if(typeof u!="object")return d;if(typeof d!="object")return;if(!h)return d;const p=Object.keys(d).reduce((g,m)=>(u[m]===void 0&&(g[m]=d[m]),g),{});return Object.keys(p).length>0?p:void 0}i.transform=a}(n||(n={})),Ny.default=n,Ny}var Oy={},lL;function N3(){if(lL)return Oy;lL=1,Object.defineProperty(Oy,"__esModule",{value:!0});var e;return function(t){function n(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.retain=="object"&&i.retain!==null?1:typeof i.insert=="string"?i.insert.length:1}t.length=n}(e||(e={})),Oy.default=e,Oy}var ky={},uL;function lK(){if(uL)return ky;uL=1,Object.defineProperty(ky,"__esModule",{value:!0});const e=N3();class t{constructor(i){this.ops=i,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(i){i||(i=1/0);const r=this.ops[this.index];if(r){const s=this.offset,o=e.default.length(r);if(i>=o-s?(i=o-s,this.index+=1,this.offset=0):this.offset+=i,typeof r.delete=="number")return{delete:i};{const a={};return r.attributes&&(a.attributes=r.attributes),typeof r.retain=="number"?a.retain=i:typeof r.retain=="object"&&r.retain!==null?a.retain=r.retain:typeof r.insert=="string"?a.insert=r.insert.substr(s,i):a.insert=r.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const i=this.ops[this.index];return i?typeof i.delete=="number"?"delete":typeof i.retain=="number"||typeof i.retain=="object"&&i.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const i=this.offset,r=this.index,s=this.next(),o=this.ops.slice(this.index);return this.offset=i,this.index=r,[s].concat(o)}}else return[]}}return ky.default=t,ky}var cL;function uK(){return cL||(cL=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=oK(),i=L3(),r=M3(),s=aK();t.AttributeMap=s.default;const o=N3();t.Op=o.default;const a=lK();t.OpIterator=a.default;const u="\0",d=(p,g)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);const m=Object.keys(p)[0];if(!m||m!==Object.keys(g)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(g)[0]}`);return[m,p[m],g[m]]};class h{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,m){this.handlers[g]=m}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const m=this.handlers[g];if(!m)throw new Error(`no handlers for embed type "${g}"`);return m}insert(g,m){const y={};return typeof g=="string"&&g.length===0?this:(y.insert=g,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,m){if(typeof g=="number"&&g<=0)return this;const y={retain:g};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(y.attributes=m),this.push(y)}push(g){let m=this.ops.length,y=this.ops[m-1];if(g=i(g),typeof y=="object"){if(typeof g.delete=="number"&&typeof y.delete=="number")return this.ops[m-1]={delete:y.delete+g.delete},this;if(typeof y.delete=="number"&&g.insert!=null&&(m-=1,y=this.ops[m-1],typeof y!="object"))return this.ops.unshift(g),this;if(r(g.attributes,y.attributes)){if(typeof g.insert=="string"&&typeof y.insert=="string")return this.ops[m-1]={insert:y.insert+g.insert},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof y.retain=="number")return this.ops[m-1]={retain:y.retain+g.retain},typeof g.attributes=="object"&&(this.ops[m-1].attributes=g.attributes),this}}return m===this.ops.length?this.ops.push(g):this.ops.splice(m,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const m=[],y=[];return this.forEach(w=>{(g(w)?m:y).push(w)}),[m,y]}reduce(g,m){return this.ops.reduce(g,m)}changeLength(){return this.reduce((g,m)=>m.insert?g+o.default.length(m):m.delete?g-m.delete:g,0)}length(){return this.reduce((g,m)=>g+o.default.length(m),0)}slice(g=0,m=1/0){const y=[],w=new a.default(this.ops);let x=0;for(;x<m&&w.hasNext();){let C;x<g?C=w.next(g-x):(C=w.next(m-x),y.push(C)),x+=o.default.length(C)}return new h(y)}compose(g){const m=new a.default(this.ops),y=new a.default(g.ops),w=[],x=y.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){let A=x.retain;for(;m.peekType()==="insert"&&m.peekLength()<=A;)A-=m.peekLength(),w.push(m.next());x.retain-A>0&&y.next(x.retain-A)}const C=new h(w);for(;m.hasNext()||y.hasNext();)if(y.peekType()==="insert")C.push(y.next());else if(m.peekType()==="delete")C.push(m.next());else{const A=Math.min(m.peekLength(),y.peekLength()),E=m.next(A),F=y.next(A);if(F.retain){const N={};if(typeof E.retain=="number")N.retain=typeof F.retain=="number"?A:F.retain;else if(typeof F.retain=="number")E.retain==null?N.insert=E.insert:N.retain=E.retain;else{const B=E.retain==null?"insert":"retain",[k,V,K]=d(E[B],F.retain),T=h.getHandler(k);N[B]={[k]:T.compose(V,K,B==="retain")}}const z=s.default.compose(E.attributes,F.attributes,typeof E.retain=="number");if(z&&(N.attributes=z),C.push(N),!y.hasNext()&&r(C.ops[C.ops.length-1],N)){const B=new h(m.rest());return C.concat(B).chop()}}else typeof F.delete=="number"&&(typeof E.retain=="number"||typeof E.retain=="object"&&E.retain!==null)&&C.push(F)}return C.chop()}concat(g){const m=new h(this.ops.slice());return g.ops.length>0&&(m.push(g.ops[0]),m.ops=m.ops.concat(g.ops.slice(1))),m}diff(g,m){if(this.ops===g.ops)return new h;const y=[this,g].map(E=>E.map(F=>{if(F.insert!=null)return typeof F.insert=="string"?F.insert:u;const N=E===g?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")),w=new h,x=n(y[0],y[1],m,!0),C=new a.default(this.ops),A=new a.default(g.ops);return x.forEach(E=>{let F=E[1].length;for(;F>0;){let N=0;switch(E[0]){case n.INSERT:N=Math.min(A.peekLength(),F),w.push(A.next(N));break;case n.DELETE:N=Math.min(F,C.peekLength()),C.next(N),w.delete(N);break;case n.EQUAL:N=Math.min(C.peekLength(),A.peekLength(),F);const z=C.next(N),B=A.next(N);r(z.insert,B.insert)?w.retain(N,s.default.diff(z.attributes,B.attributes)):w.push(B).delete(N);break}F-=N}}),w.chop()}eachLine(g,m=`
`){const y=new a.default(this.ops);let w=new h,x=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const C=y.peek(),A=o.default.length(C)-y.peekLength(),E=typeof C.insert=="string"?C.insert.indexOf(m,A)-A:-1;if(E<0)w.push(y.next());else if(E>0)w.push(y.next(E));else{if(g(w,y.next(1).attributes||{},x)===!1)return;x+=1,w=new h}}w.length()>0&&g(w,{},x)}invert(g){const m=new h;return this.reduce((y,w)=>{if(w.insert)m.delete(o.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return m.retain(w.retain),y+w.retain;if(w.delete||typeof w.retain=="number"){const x=w.delete||w.retain;return g.slice(y,y+x).forEach(A=>{w.delete?m.push(A):w.retain&&w.attributes&&m.retain(o.default.length(A),s.default.invert(w.attributes,A.attributes))}),y+x}else if(typeof w.retain=="object"&&w.retain!==null){const x=g.slice(y,y+1),C=new a.default(x.ops).next(),[A,E,F]=d(w.retain,C.insert),N=h.getHandler(A);return m.retain({[A]:N.invert(E,F)},s.default.invert(w.attributes,C.attributes)),y+1}}return y},0),m.chop()}transform(g,m=!1){if(m=!!m,typeof g=="number")return this.transformPosition(g,m);const y=g,w=new a.default(this.ops),x=new a.default(y.ops),C=new h;for(;w.hasNext()||x.hasNext();)if(w.peekType()==="insert"&&(m||x.peekType()!=="insert"))C.retain(o.default.length(w.next()));else if(x.peekType()==="insert")C.push(x.next());else{const A=Math.min(w.peekLength(),x.peekLength()),E=w.next(A),F=x.next(A);if(E.delete)continue;if(F.delete)C.push(F);else{const N=E.retain,z=F.retain;let B=typeof z=="object"&&z!==null?z:A;if(typeof N=="object"&&N!==null&&typeof z=="object"&&z!==null){const k=Object.keys(N)[0];if(k===Object.keys(z)[0]){const V=h.getHandler(k);V&&(B={[k]:V.transform(N[k],z[k],m)})}}C.retain(B,s.default.transform(E.attributes,F.attributes,m))}}return C.chop()}transformPosition(g,m=!1){m=!!m;const y=new a.default(this.ops);let w=0;for(;y.hasNext()&&w<=g;){const x=y.peekLength(),C=y.peekType();if(y.next(),C==="delete"){g-=Math.min(x,g-w);continue}else C==="insert"&&(w<g||!m)&&(g+=x);w+=x}return g}}h.Op=o.default,h.OpIterator=a.default,h.AttributeMap=s.default,h.handlers={},t.default=h,e.exports=h,e.exports.default=h}(My,My.exports)),My.exports}var ua=uK();const Et=fd(ua);class nl extends Mo{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}nl.blotName="break";nl.tagName="BR";let Xa=class extends Yb{};const cK={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function JC(e){return e.replace(/[&<>"']/g,t=>cK[t])}const kl=class kl extends MR{static compare(t,n){const i=kl.order.indexOf(t),r=kl.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:t<n?-1:1}formatAt(t,n,i,r){if(kl.compare(this.statics.blotName,i)<0&&this.scroll.query(i,Tt.BLOT)){const s=this.isolate(t,n);r&&s.wrap(i,r)}else super.formatAt(t,n,i,r)}optimize(t){if(super.optimize(t),this.parent instanceof kl&&kl.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};dt(kl,"allowedChildren",[kl,nl,Mo,Xa]),dt(kl,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let $l=kl;const dL=1;class Kr extends km{constructor(){super(...arguments);dt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=O3(this)),this.cache.delta}deleteAt(n,i){super.deleteAt(n,i),this.cache={}}formatAt(n,i,r,s){i<=0||(this.scroll.query(r,Tt.BLOCK)?n+i===this.length()&&this.format(r,s):super.formatAt(n,Math.min(i,this.length()-n-1),r,s),this.cache={})}insertAt(n,i,r){if(r!=null){super.insertAt(n,i,r),this.cache={};return}if(i.length===0)return;const s=i.split(`
`),o=s.shift();o.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let a=this;s.reduce((u,d)=>(a=a.split(u,!0),a.insertAt(0,d),d.length),n+o.length)}insertBefore(n,i){const{head:r}=this.children;super.insertBefore(n,i),r instanceof nl&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+dL),this.cache.length}moveChildren(n,i){super.moveChildren(n,i),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i&&(n===0||n>=this.length()-dL)){const s=this.clone();return n===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const r=super.split(n,i);return this.cache={},r}}Kr.blotName="block";Kr.tagName="P";Kr.defaultChild=nl;Kr.allowedChildren=[nl,$l,Mo,Xa];class aa extends Mo{attach(){super.attach(),this.attributes=new XC(this.domNode)}delta(){return new Et().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const i=this.scroll.query(t,Tt.BLOCK_ATTRIBUTE);i!=null&&this.attributes.attribute(i,n)}formatAt(t,n,i,r){this.format(i,r)}insertAt(t,n,i){if(i!=null){super.insertAt(t,n,i);return}const r=n.split(`
`),s=r.pop(),o=r.map(u=>{const d=this.scroll.create(Kr.blotName);return d.insertAt(0,u),d}),a=this.split(t);o.forEach(u=>{this.parent.insertBefore(u,a)}),s&&this.parent.insertBefore(this.scroll.create("text",s),a)}}aa.scope=Tt.BLOCK_BLOT;function O3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(ps).reduce((n,i)=>i.length()===0?n:n.insert(i.value(),ra(i,{},t)),new Et).insert(`
`,ra(e))}function ra(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},n&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:ra(e.parent,t,n)}const ta=class ta extends Mo{static value(){}constructor(t,n,i){super(t,n),this.selection=i,this.textNode=document.createTextNode(ta.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let i=this,r=0;for(;i!=null&&i.statics.scope!==Tt.BLOCK_BLOT;)r+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=ta.CONTENTS.length,i.optimize(),i.formatAt(r,ta.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Xa?this.prev:null,i=n?n.length():0,r=this.next instanceof Xa?this.next:null,s=r?r.text:"",{textNode:o}=this,a=o.data.split(ta.CONTENTS).join("");o.data=ta.CONTENTS;let u;if(n)u=n,(a||r)&&(n.insertAt(n.length(),a+s),r&&r.remove());else if(r)u=r,r.insertAt(0,a);else{const d=document.createTextNode(a);u=this.scroll.create(d),this.parent.insertBefore(u,this)}if(this.remove(),t){const d=(g,m)=>n&&g===n.domNode?m:g===o?i+m-1:r&&g===r.domNode?i+a.length+m:null,h=d(t.start.node,t.start.offset),p=d(t.end.node,t.end.offset);if(h!==null&&p!==null)return{startNode:u.domNode,startOffset:h,endNode:u.domNode,endOffset:p}}return null}update(t,n){if(t.some(i=>i.type==="characterData"&&i.target===this.textNode)){const i=this.restore();i&&(n.range=i)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=ta.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};dt(ta,"blotName","cursor"),dt(ta,"className","ql-cursor"),dt(ta,"tagName","span"),dt(ta,"CONTENTS","\uFEFF");let gp=ta;var kS={exports:{}},hL;function dK(){return hL||(hL=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new r(h,p||u,g),y=n?n+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new i:delete u._events[d]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)t.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},a.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,y=new Array(m);g<m;g++)y[g]=p[g].fn;return y},a.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},a.prototype.emit=function(d,h,p,g,m,y){var w=n?n+d:d;if(!this._events[w])return!1;var x=this._events[w],C=arguments.length,A,E;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,g),!0;case 5:return x.fn.call(x.context,h,p,g,m),!0;case 6:return x.fn.call(x.context,h,p,g,m,y),!0}for(E=1,A=new Array(C-1);E<C;E++)A[E-1]=arguments[E];x.fn.apply(x.context,A)}else{var F=x.length,N;for(E=0;E<F;E++)switch(x[E].once&&this.removeListener(d,x[E].fn,void 0,!0),C){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,h);break;case 3:x[E].fn.call(x[E].context,h,p);break;case 4:x[E].fn.call(x[E].context,h,p,g);break;default:if(!A)for(N=1,A=new Array(C-1);N<C;N++)A[N-1]=arguments[N];x[E].fn.apply(x[E].context,A)}}return!0},a.prototype.on=function(d,h,p){return s(this,d,h,p,!1)},a.prototype.once=function(d,h,p){return s(this,d,h,p,!0)},a.prototype.removeListener=function(d,h,p,g){var m=n?n+d:d;if(!this._events[m])return this;if(!h)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===h&&(!g||y.once)&&(!p||y.context===p)&&o(this,m);else{for(var w=0,x=[],C=y.length;w<C;w++)(y[w].fn!==h||g&&!y[w].once||p&&y[w].context!==p)&&x.push(y[w]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(kS)),kS.exports}var hK=dK();const fK=fd(hK),Tx=new WeakMap,Px=["error","warn","log","info"];let Dx="warn";function k3(e){if(Dx&&Px.indexOf(e)<=Px.indexOf(Dx)){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console[e](...n)}}function tc(e){return Px.reduce((t,n)=>(t[n]=k3.bind(console,n,e),t),{})}tc.level=e=>{Dx=e};k3.level=tc.level;const IS=tc("quill:events"),pK=["selectionchange","mousedown","mouseup","click"];pK.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const s=Tx.get(r);s&&s.emitter&&s.emitter.handleDOM(...n)})})});class Ct extends fK{constructor(){super(),this.domListeners={},this.on("error",IS.error)}emit(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return IS.log.call(IS,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach(s=>{let{node:o,handler:a}=s;(t.target===o||o.contains(t.target))&&a(t,...i)})}listenDOM(t,n,i){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:i})}}dt(Ct,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),dt(Ct,"sources",{API:"api",SILENT:"silent",USER:"user"});const _S=tc("quill:selection");class Eh{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class gK{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Eh(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ct.sources.USER),1)}),this.emitter.on(Ct.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const i=this.getNativeRange();i!=null&&i.start.node!==this.cursor.textNode&&this.emitter.once(Ct.events.SCROLL_UPDATE,(r,s)=>{try{this.root.contains(i.start.node)&&this.root.contains(i.end.node)&&this.setNativeRange(i.start.node,i.start.offset,i.end.node,i.end.offset);const o=s.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(o?Ct.sources.SILENT:r)}catch{}})}),this.emitter.on(Ct.events.SCROLL_OPTIMIZE,(i,r)=>{if(r.range){const{startNode:s,startOffset:o,endNode:a,endOffset:u}=r.range;this.setNativeRange(s,o,a,u),this.update(Ct.sources.SILENT)}}),this.update(Ct.sources.SILENT)}handleComposition(){this.emitter.on(Ct.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ct.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ct.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const i=this.getNativeRange();if(!(i==null||!i.native.collapsed||this.scroll.query(t,Tt.BLOCK))){if(i.start.node!==this.cursor.textNode){const r=this.scroll.find(i.start.node,!1);if(r==null)return;if(r instanceof ps){const s=r.split(i.start.offset);r.parent.insertBefore(this.cursor,s)}else r.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=this.scroll.length();t=Math.min(t,i-1),n=Math.min(t+n,i-1)-t;let r,[s,o]=this.scroll.leaf(t);if(s==null)return null;if(n>0&&o===s.length()){const[h]=this.scroll.leaf(t+1);if(h){const[p]=this.scroll.line(t),[g]=this.scroll.line(t+1);p===g&&(s=h,o=0)}}[r,o]=s.position(o,!0);const a=document.createRange();if(n>0)return a.setStart(r,o),[s,o]=this.scroll.leaf(t+n),s==null?null:([r,o]=s.position(o,!0),a.setEnd(r,o),a.getBoundingClientRect());let u="left",d;if(r instanceof Text){if(!r.data.length)return null;o<r.data.length?(a.setStart(r,o),a.setEnd(r,o+1)):(a.setStart(r,o-1),a.setEnd(r,o),u="right"),d=a.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;d=s.domNode.getBoundingClientRect(),o>0&&(u="right")}return{bottom:d.top+d.height,height:d.height,left:d[u],right:d[u],top:d.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const i=this.normalizeNative(n);return _S.info("getNativeRange",i),i}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&BS(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const i=n.map(o=>{const[a,u]=o,d=this.scroll.find(a,!0),h=d.offset(this.scroll);return u===0?h:d instanceof ps?h+d.index(a,u):h+d.length()}),r=Math.min(Math.max(...i),this.scroll.length()-1),s=Math.min(r,...i);return new Eh(s,r-s)}normalizeNative(t){if(!BS(this.root,t.startContainer)||!t.collapsed&&!BS(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(i=>{let{node:r,offset:s}=i;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>s)r=r.childNodes[s],s=0;else if(r.childNodes.length===s)r=r.lastChild,r instanceof Text?s=r.data.length:r.childNodes.length>0?s=r.childNodes.length:s=r.childNodes.length+1;else break;i.node=r,i.offset=s}),n}rangeToNative(t){const n=this.scroll.length(),i=(r,s)=>{r=Math.min(n-1,r);const[o,a]=this.scroll.leaf(r);return o?o.position(a,s):[null,-1]};return[...i(t.index,!1),...i(t.index+t.length,!0)]}setNativeRange(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_S.info("setNativeRange",t,n,i,r),t!=null&&(this.root.parentNode==null||t.parentNode==null||i.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||s||t!==a.startContainer||n!==a.startOffset||i!==a.endContainer||r!==a.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),i instanceof Element&&i.tagName==="BR"&&(r=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode);const u=document.createRange();u.setStart(t,n),u.setEnd(i,r),o.removeAllRanges(),o.addRange(u)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct.sources.API;if(typeof n=="string"&&(i=n,n=!1),_S.info("setRange",t),t!=null){const r=this.rangeToNative(t);this.setNativeRange(...r,n)}else this.setNativeRange(null);this.update(i)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct.sources.USER;const n=this.lastRange,[i,r]=this.getRange();if(this.lastRange=i,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!LR(n,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[Ct.events.SELECTION_CHANGE,Xf(this.lastRange),Xf(n),t];this.emitter.emit(Ct.events.EDITOR_CHANGE,...s),t!==Ct.sources.SILENT&&this.emitter.emit(...s)}}}function BS(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const mK=/^[ -~]*$/;class vK{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const i=fL(t),r=new Et;return bK(i.ops.slice()).reduce((o,a)=>{const u=ua.Op.length(a);let d=a.attributes||{},h=!1,p=!1;if(a.insert!=null){if(r.retain(u),typeof a.insert=="string"){const y=a.insert;p=!y.endsWith(`
`)&&(n<=o||!!this.scroll.descendant(aa,o)[0]),this.scroll.insertAt(o,y);const[w,x]=this.scroll.line(o);let C=ed({},ra(w));if(w instanceof Kr){const[A]=w.descendant(ps,x);A&&(C=ed(C,ra(A)))}d=ua.AttributeMap.diff(C,d)||{}}else if(typeof a.insert=="object"){const y=Object.keys(a.insert)[0];if(y==null)return o;const w=this.scroll.query(y,Tt.INLINE)!=null;if(w)(n<=o||this.scroll.descendant(aa,o)[0])&&(p=!0);else if(o>0){const[x,C]=this.scroll.descendant(ps,o-1);x instanceof Xa?x.value()[C]!==`
`&&(h=!0):x instanceof Mo&&x.statics.scope===Tt.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,y,a.insert[y]),w){const[x]=this.scroll.descendant(ps,o);if(x){const C=ed({},ra(x));d=ua.AttributeMap.diff(C,d)||{}}}}n+=u}else if(r.push(a),a.retain!==null&&typeof a.retain=="object"){const y=Object.keys(a.retain)[0];if(y==null)return o;this.scroll.updateEmbedAt(o,y,a.retain[y])}Object.keys(d).forEach(y=>{this.scroll.formatAt(o,u,y,d[y])});const g=h?1:0,m=p?1:0;return n+=g+m,r.retain(g),r.delete(m),o+u+g+m},0),r.reduce((o,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(o,a.delete),o):o+ua.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new Et().retain(t).delete(n))}formatLine(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(s=>{this.scroll.lines(t,Math.max(n,1)).forEach(o=>{o.format(s,i[s])})}),this.scroll.optimize();const r=new Et().retain(t).retain(n,Xf(i));return this.update(r)}formatText(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(s=>{this.scroll.formatAt(t,n,s,i[s])});const r=new Et().retain(t).retain(n,Xf(i));return this.update(r)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new Et)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],r=[];n===0?this.scroll.path(t).forEach(a=>{const[u]=a;u instanceof Kr?i.push(u):u instanceof ps&&r.push(u)}):(i=this.scroll.lines(t,n),r=this.scroll.descendants(ps,t,n));const[s,o]=[i,r].map(a=>{const u=a.shift();if(u==null)return{};let d=ra(u);for(;Object.keys(d).length>0;){const h=a.shift();if(h==null)return d;d=yK(ra(h),d)}return d});return{...s,...o}}getHTML(t,n){const[i,r]=this.scroll.line(t);if(i){const s=i.length();return i.length()>=r+n&&!(r===0&&n===s)?Im(i,r,n,!0):Im(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(t,n){const i=fL(n),r=new Et().retain(t).concat(i);return this.scroll.insertContents(t,i),this.update(r)}insertEmbed(t,n,i){return this.scroll.insertAt(t,n,i),this.update(new Et().retain(t).insert({[n]:i}))}insertText(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(i).forEach(r=>{this.scroll.formatAt(t,n.length,r,i[r])}),this.update(new Et().retain(t).insert(n,Xf(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Kr.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof nl}removeFormat(t,n){const i=this.getText(t,n),[r,s]=this.scroll.line(t+n);let o=0,a=new Et;r!=null&&(o=r.length()-s,a=r.delta().slice(s,s+o-1).insert(`
`));const d=this.getContents(t,n+o).diff(new Et().insert(i).concat(a)),h=new Et().retain(t).concat(d);return this.applyDelta(h)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(mK)&&this.scroll.find(n[0].target)){const s=this.scroll.find(n[0].target),o=ra(s),a=s.offset(this.scroll),u=n[0].oldValue.replace(gp.CONTENTS,""),d=new Et().insert(u),h=new Et().insert(s.value()),p=i&&{oldRange:pL(i.oldRange,-a),newRange:pL(i.newRange,-a)};t=new Et().retain(a).concat(d.diff(h,p)).reduce((m,y)=>y.insert?m.insert(y.insert,o):m.push(y),new Et),this.delta=r.compose(t)}else this.delta=this.getDelta(),(!t||!LR(r.compose(t),this.delta))&&(t=r.diff(this.delta,i));return t}}function kf(e,t,n){if(e.length===0){const[m]=HS(n.pop());return t<=0?`</li></${m}>`:`</li></${m}>${kf([],t-1,n)}`}const[{child:i,offset:r,length:s,indent:o,type:a},...u]=e,[d,h]=HS(a);if(o>t)return n.push(a),o===t+1?`<${d}><li${h}>${Im(i,r,s)}${kf(u,o,n)}`:`<${d}><li>${kf(e,t+1,n)}`;const p=n[n.length-1];if(o===t&&a===p)return`</li><li${h}>${Im(i,r,s)}${kf(u,o,n)}`;const[g]=HS(n.pop());return`</li></${g}>${kf(e,t-1,n)}`}function Im(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,n);if(e instanceof Xa)return JC(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;");if(e instanceof Ka){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(t,n,(h,p,g)=>{const m="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:p,length:g,indent:m.indent||0,type:m.list})}),kf(d,-1,[])}const r=[];if(e.children.forEachAt(t,n,(d,h,p)=>{r.push(Im(d,h,p))}),i||e.statics.blotName==="list")return r.join("");const{outerHTML:s,innerHTML:o}=e.domNode,[a,u]=s.split(`>${o}<`);return a==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${u}`:`${a}>${r.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function yK(e,t){return Object.keys(t).reduce((n,i)=>{if(e[i]==null)return n;const r=t[i];return r===e[i]?n[i]=r:Array.isArray(r)?r.indexOf(e[i])<0?n[i]=r.concat([e[i]]):n[i]=r:n[i]=[r,e[i]],n},{})}function HS(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function fL(e){return e.reduce((t,n)=>{if(typeof n.insert=="string"){const i=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(i,n.attributes)}return t.push(n)},new Et)}function pL(e,t){let{index:n,length:i}=e;return new Eh(n+t,i)}function bK(e){const t=[];return e.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((r,s)=>{s&&t.push({insert:`
`,attributes:n.attributes}),r&&t.push({insert:r,attributes:n.attributes})}):t.push(n)}),t}class il{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}dt(il,"DEFAULTS",{});const Iy="\uFEFF";class OR extends Mo{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(i=>{this.contentNode.appendChild(i)}),this.leftGuard=document.createTextNode(Iy),this.rightGuard=document.createTextNode(Iy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,i;const r=t.data.split(Iy).join("");if(t===this.leftGuard)if(this.prev instanceof Xa){const s=this.prev.length();this.prev.insertAt(s,r),n={startNode:this.prev.domNode,startOffset:s+r.length}}else i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this),n={startNode:i,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof Xa?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(i=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(i),this.next),n={startNode:i,startOffset:r.length}));return t.data=Iy,n}update(t,n){t.forEach(i=>{if(i.type==="characterData"&&(i.target===this.leftGuard||i.target===this.rightGuard)){const r=this.restore(i.target);r&&(n.range=r)}})}}class CK{constructor(t,n){dt(this,"isComposing",!1);this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof OR)&&(this.emitter.emit(Ct.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Ct.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Ct.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Ct.events.COMPOSITION_END,t),this.isComposing=!1}}const xm=class xm{constructor(t,n){dt(this,"modules",{});this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}};dt(xm,"DEFAULTS",{modules:{}}),dt(xm,"themes",{default:xm});let mp=xm;const wK=e=>e.parentElement||e.getRootNode().host||null,SK=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,i="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*i,left:t.left}},_y=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},gL=(e,t,n,i,r,s)=>e<n&&t>i?0:e<n?-(n-e+r):t>i?t-e>i-n?e+r-n:t-i+s:0,xK=(e,t)=>{var s,o,a;const n=e.ownerDocument;let i=t,r=e;for(;r;){const u=r===n.body,d=u?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??n.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??n.documentElement.clientHeight,left:0}:SK(r),h=getComputedStyle(r),p=gL(i.left,i.right,d.left,d.right,_y(h.scrollPaddingLeft),_y(h.scrollPaddingRight)),g=gL(i.top,i.bottom,d.top,d.bottom,_y(h.scrollPaddingTop),_y(h.scrollPaddingBottom));if(p||g)if(u)(a=n.defaultView)==null||a.scrollBy(p,g);else{const{scrollLeft:m,scrollTop:y}=r;g&&(r.scrollTop+=g),p&&(r.scrollLeft+=p);const w=r.scrollLeft-m,x=r.scrollTop-y;i={left:i.left-w,top:i.top-x,right:i.right-w,bottom:i.bottom-x}}r=u||h.position==="fixed"?null:wK(r)}},RK=100,AK=["block","break","cursor","inline","scroll","text"],EK=(e,t,n)=>{const i=new pp;return AK.forEach(r=>{const s=t.query(r);s&&i.register(s)}),e.forEach(r=>{let s=t.query(r);s||n.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(i.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>RK){n.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),i},Jf=tc("quill"),By=new pp;Ka.uiClass="ql-ui";const ja=class ja{static debug(t){t===!0&&(t="log"),tc.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Tx.get(t)||By.find(t,n)}static import(t){return this.imports[t]==null&&Jf.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),i="attrName"in t?t.attrName:t.blotName;typeof i=="string"?this.register(`formats/${i}`,t,n):Object.keys(t).forEach(r=>{this.register(r,t[r],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],i=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!i&&Jf.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&By.register(n),typeof n.register=="function"&&n.register(By)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=TK(t,n),this.container=this.options.container,this.container==null){Jf.error("Invalid Quill container",t);return}this.options.debug&&ja.debug(this.options.debug);const i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Tx.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ct;const r=NR.blotName,s=this.options.registry.query(r);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new vK(this.scroll),this.selection=new gK(this.scroll,this.emitter),this.composition=new CK(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ct.events.EDITOR_CHANGE,o=>{o===Ct.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ct.events.SCROLL_UPDATE,(o,a)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),h=u&&d?{oldRange:u,newRange:d}:void 0;ka.call(this,()=>this.editor.update(null,a,h),o)}),this.emitter.on(Ct.events.SCROLL_EMBED_UPDATE,(o,a)=>{const u=this.selection.lastRange,[d]=this.selection.getRange(),h=u&&d?{oldRange:u,newRange:d}:void 0;ka.call(this,()=>{const p=new Et().retain(o.offset(this)).retain({[o.statics.blotName]:a});return this.editor.update(p,[],h)},ja.sources.USER)}),i){const o=this.clipboard.convert({html:`${i}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const i=t;t=document.createElement("div"),t.classList.add(i)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,i){return[t,n,,i]=Tu(t,n,i),ka.call(this,()=>this.editor.deleteText(t,n),i,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct.sources.API;return ka.call(this,()=>{const r=this.getSelection(!0);let s=new Et;if(r==null)return s;if(this.scroll.query(t,Tt.BLOCK))s=this.editor.formatLine(r.index,r.length,{[t]:n});else{if(r.length===0)return this.selection.format(t,n),s;s=this.editor.formatText(r.index,r.length,{[t]:n})}return this.setSelection(r,Ct.sources.SILENT),s},i)}formatLine(t,n,i,r,s){let o;return[t,n,o,s]=Tu(t,n,i,r,s),ka.call(this,()=>this.editor.formatLine(t,n,o),s,t,0)}formatText(t,n,i,r,s){let o;return[t,n,o,s]=Tu(t,n,i,r,s),ka.call(this,()=>this.editor.formatText(t,n,o),s,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=null;if(typeof t=="number"?i=this.selection.getBounds(t,n):i=this.selection.getBounds(t.index,t.length),!i)return null;const r=this.container.getBoundingClientRect();return{bottom:i.bottom-r.top,height:i.height,left:i.left-r.left,right:i.right-r.left,top:i.top-r.top,width:i.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=Tu(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Tu(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Tu(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ja.sources.API;return ka.call(this,()=>this.editor.insertEmbed(t,n,i),r,t)}insertText(t,n,i,r,s){let o;return[t,,o,s]=Tu(t,0,i,r,s),ka.call(this,()=>this.editor.insertText(t,n,o),s,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,i){return[t,n,,i]=Tu(t,n,i),ka.call(this,()=>this.editor.removeFormat(t,n),i,t)}scrollRectIntoView(t){xK(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;return ka.call(this,()=>{t=new Et(t);const i=this.getLength(),r=this.editor.deleteText(0,i),s=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return r.compose(s).compose(o)},n)}setSelection(t,n,i){t==null?this.selection.setRange(null,n||ja.sources.API):([t,n,,i]=Tu(t,n,i),this.selection.setRange(new Eh(Math.max(0,t),n),i),i!==Ct.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;const i=new Et().insert(t);return this.setContents(i,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;return ka.call(this,()=>(t=new Et(t),this.editor.applyDelta(t)),n,!0)}};dt(ja,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:By,theme:"default"}),dt(ja,"events",Ct.events),dt(ja,"sources",Ct.sources),dt(ja,"version","2.0.3"),dt(ja,"imports",{delta:Et,parchment:sK,"core/module":il,"core/theme":mp});let Qe=ja;function mL(e){return typeof e=="string"?document.querySelector(e):e}function jS(e){return Object.entries(e??{}).reduce((t,n)=>{let[i,r]=n;return{...t,[i]:r===!0?{}:r}},{})}function vL(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function TK(e,t){const n=mL(e);if(!n)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===Qe.DEFAULTS.theme?mp:Qe.import(`themes/${t.theme}`);if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...o}=Qe.DEFAULTS,{modules:a,...u}=r.DEFAULTS;let d=jS(t.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=ed({},jS(s),jS(a),d),p={...o,...vL(u),...vL(t)};let g=t.registry;return g?t.formats&&Jf.warn('Ignoring "formats" option because "registry" is specified'):g=t.formats?EK(t.formats,p.registry,Jf):p.registry,{...p,registry:g,container:n,theme:r,modules:Object.entries(h).reduce((m,y)=>{let[w,x]=y;if(!x)return m;const C=Qe.import(`modules/${w}`);return C==null?(Jf.error(`Cannot load ${w} module. Are you sure you registered it?`),m):{...m,[w]:ed({},C.DEFAULTS||{},x)}},{}),bounds:mL(p.bounds)}}function ka(e,t,n,i){if(!this.isEnabled()&&t===Ct.sources.USER&&!this.allowReadOnlyEdits)return new Et;let r=n==null?null:this.getSelection();const s=this.editor.delta,o=e();if(r!=null&&(n===!0&&(n=r.index),i==null?r=yL(r,o,t):i!==0&&(r=yL(r,n,i,t)),this.setSelection(r,Ct.sources.SILENT)),o.length()>0){const a=[Ct.events.TEXT_CHANGE,o,s,t];this.emitter.emit(Ct.events.EDITOR_CHANGE,...a),t!==Ct.sources.SILENT&&this.emitter.emit(...a)}return o}function Tu(e,t,n,i,r){let s={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(r=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(r=i,i=n,n=t,t=0),typeof n=="object"?(s=n,r=i):typeof n=="string"&&(i!=null?s[n]=i:r=n),r=r||Ct.sources.API,[e,t,s,r]}function yL(e,t,n,i){const r=typeof n=="number"?n:0;if(e==null)return null;let s,o;return t&&typeof t.transformPosition=="function"?[s,o]=[e.index,e.index+e.length].map(a=>t.transformPosition(a,i!==Ct.sources.USER)):[s,o]=[e.index,e.index+e.length].map(a=>a<t||a===t&&i===Ct.sources.USER?a:r>=0?a+r:Math.max(t,a+r)),new Eh(s,o-s)}class Ih extends ZC{}function bL(e){return e instanceof Kr||e instanceof aa}function CL(e){return typeof e.updateContent=="function"}class If extends NR{constructor(t,n,i){let{emitter:r}=i;super(t,n),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Ct.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Ct.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit(Ct.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[i,r]=this.line(t),[s]=this.line(t+n);if(super.deleteAt(t,n),s!=null&&i!==s&&r>0){if(i instanceof aa||s instanceof aa){this.optimize();return}const o=s.children.head instanceof nl?null:s.children.head;i.moveChildren(s,o),i.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,i,r){super.formatAt(t,n,i,r),this.optimize()}insertAt(t,n,i){if(t>=this.length())if(i==null||this.scroll.query(n,Tt.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),i==null&&n.endsWith(`
`)?r.insertAt(0,n.slice(0,-1),i):r.insertAt(0,n,i)}else{const r=this.scroll.create(n,i);this.appendChild(r)}else super.insertAt(t,n,i);this.optimize()}insertBefore(t,n){if(t.statics.scope===Tt.INLINE_BLOT){const i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(t),super.insertBefore(i,n)}else super.insertBefore(t,n)}insertContents(t,n){const i=this.deltaToRenderBlocks(n.concat(new Et().insert(`
`))),r=i.pop();if(r==null)return;this.batchStart();const s=i.shift();if(s){const u=s.type==="block"&&(s.delta.length()===0||!this.descendant(aa,t)[0]&&t<this.length()),d=s.type==="block"?s.delta:new Et().insert({[s.key]:s.value});GS(this,t,d);const h=s.type==="block"?1:0,p=t+d.length()+h;u&&this.insertAt(p-1,`
`);const g=ra(this.line(t)[0]),m=ua.AttributeMap.diff(g,s.attributes)||{};Object.keys(m).forEach(y=>{this.formatAt(p-1,1,y,m[y])}),t=p}let[o,a]=this.children.find(t);if(i.length&&(o&&(o=o.split(a),a=0),i.forEach(u=>{if(u.type==="block"){const d=this.createBlock(u.attributes,o||void 0);GS(d,0,u.delta)}else{const d=this.create(u.key,u.value);this.insertBefore(d,o||void 0),Object.keys(u.attributes).forEach(h=>{d.format(h,u.attributes[h])})}})),r.type==="block"&&r.delta.length()){const u=o?o.offset(o.scroll)+a:this.length();GS(this,u,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[i,r]=n;return i instanceof ps?[i,r]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(bL,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const i=(r,s,o)=>{let a=[],u=o;return r.children.forEachAt(s,o,(d,h,p)=>{bL(d)?a.push(d):d instanceof ZC&&(a=a.concat(i(d,h,u))),u-=p}),a};return i(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit(Ct.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=Ct.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(i=>{let{target:r}=i;const s=this.find(r,!0);return s&&!CL(s)}),t.length>0&&this.emitter.emit(Ct.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Ct.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,i){const[r]=this.descendant(s=>s instanceof aa,t);r&&r.statics.blotName===n&&CL(r)&&r.updateContent(i)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let i=new Et;return t.forEach(r=>{const s=r==null?void 0:r.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(u=>{i.insert(u,r.attributes),n.push({type:"block",delta:i,attributes:r.attributes??{}}),i=new Et});const a=o[o.length-1];a&&i.insert(a,r.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,Tt.INLINE)?i.push(r):(i.length()&&n.push({type:"block",delta:i,attributes:{}}),i=new Et,n.push({type:"blockEmbed",key:o,value:s[o],attributes:r.attributes??{}}))}}),i.length()&&n.push({type:"block",delta:i,attributes:{}}),n}createBlock(t,n){let i;const r={};Object.entries(t).forEach(a=>{let[u,d]=a;this.query(u,Tt.BLOCK&Tt.BLOT)!=null?i=u:r[u]=d});const s=this.create(i||this.statics.defaultChild.blotName,i?t[i]:void 0);this.insertBefore(s,n||void 0);const o=s.length();return Object.entries(r).forEach(a=>{let[u,d]=a;s.formatAt(0,o,u,d)}),s}}dt(If,"blotName","scroll"),dt(If,"className","ql-editor"),dt(If,"tagName","DIV"),dt(If,"defaultChild",Kr),dt(If,"allowedChildren",[Kr,aa,Ih]);function GS(e,t,n){n.reduce((i,r)=>{const s=ua.Op.length(r);let o=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const a=r.insert;e.insertAt(i,a);const[u]=e.descendant(ps,i),d=ra(u);o=ua.AttributeMap.diff(d,o)||{}}else if(typeof r.insert=="object"){const a=Object.keys(r.insert)[0];if(a==null)return i;if(e.insertAt(i,a,r.insert[a]),e.scroll.query(a,Tt.INLINE)!=null){const[d]=e.descendant(ps,i),h=ra(d);o=ua.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(a=>{e.formatAt(i,s,a,o[a])}),i+s},t)}const kR={scope:Tt.BLOCK,whitelist:["right","center","justify"]},PK=new Wl("align","align",kR),I3=new tl("align","ql-align",kR),_3=new gd("align","text-align",kR);class B3 extends gd{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):n}}const DK=new tl("color","ql-color",{scope:Tt.INLINE}),IR=new B3("color","color",{scope:Tt.INLINE}),FK=new tl("background","ql-bg",{scope:Tt.INLINE}),_R=new B3("background","background-color",{scope:Tt.INLINE});class _h extends Ih{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(i=>i.length()<=1?"":i.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${JC(this.code(t,n))}
</pre>`}}class vs extends Kr{static register(){Qe.register(_h)}}dt(vs,"TAB","  ");class BR extends $l{}BR.blotName="code";BR.tagName="CODE";vs.blotName="code-block";vs.className="ql-code-block";vs.tagName="DIV";_h.blotName="code-block-container";_h.className="ql-code-block-container";_h.tagName="DIV";_h.allowedChildren=[vs];vs.allowedChildren=[Xa,nl,gp];vs.requiredContainer=_h;const HR={scope:Tt.BLOCK,whitelist:["rtl"]},H3=new Wl("direction","dir",HR),j3=new tl("direction","ql-direction",HR),G3=new gd("direction","direction",HR),V3={scope:Tt.INLINE,whitelist:["serif","monospace"]},z3=new tl("font","ql-font",V3);class LK extends gd{value(t){return super.value(t).replace(/["']/g,"")}}const q3=new LK("font","font-family",V3),U3=new tl("size","ql-size",{scope:Tt.INLINE,whitelist:["small","large","huge"]}),W3=new gd("size","font-size",{scope:Tt.INLINE,whitelist:["10px","18px","32px"]}),MK=tc("quill:keyboard"),NK=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class e0 extends il{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(i=>!!n[i]!==t[i]&&n[i]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(i=>{this.options.bindings[i]&&this.addBinding(this.options.bindings[i])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=kK(t);if(r==null){MK.warn("Attempted to add invalid keyboard binding",r);return}typeof n=="function"&&(n={handler:n}),typeof i=="function"&&(i={handler:i}),(Array.isArray(r.key)?r.key:[r.key]).forEach(o=>{const a={...r,key:o,...n,...i};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(C=>e0.match(t,C));if(r.length===0)return;const s=Qe.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[a,u]=this.quill.getLine(o.index),[d,h]=this.quill.getLeaf(o.index),[p,g]=o.length===0?[d,h]:this.quill.getLeaf(o.index+o.length),m=d instanceof Yb?d.value().slice(0,h):"",y=p instanceof Yb?p.value().slice(g):"",w={collapsed:o.length===0,empty:o.length===0&&a.length()<=1,format:this.quill.getFormat(o),line:a,offset:u,prefix:m,suffix:y,event:t};r.some(C=>{if(C.collapsed!=null&&C.collapsed!==w.collapsed||C.empty!=null&&C.empty!==w.empty||C.offset!=null&&C.offset!==w.offset)return!1;if(Array.isArray(C.format)){if(C.format.every(A=>w.format[A]==null))return!1}else if(typeof C.format=="object"&&!Object.keys(C.format).every(A=>C.format[A]===!0?w.format[A]!=null:C.format[A]===!1?w.format[A]==null:LR(C.format[A],w.format[A])))return!1;return C.prefix!=null&&!C.prefix.test(w.prefix)||C.suffix!=null&&!C.suffix.test(w.suffix)?!1:C.handler.call(this,o,w,C)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const i=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let r={};const[s]=this.quill.getLine(t.index);let o=new Et().retain(t.index-i).delete(i);if(n.offset===0){const[a]=this.quill.getLine(t.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const d=s.formats(),h=this.quill.getFormat(t.index-1,1);if(r=ua.AttributeMap.diff(d,h)||{},Object.keys(r).length>0){const p=new Et().retain(t.index+s.length()-2).retain(1,r);o=o.compose(p)}}}this.quill.updateContents(o,Qe.sources.USER),this.quill.focus()}handleDelete(t,n){const i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-i)return;let r={};const[s]=this.quill.getLine(t.index);let o=new Et().retain(t.index).delete(i);if(n.offset>=s.length()-1){const[a]=this.quill.getLine(t.index+1);if(a){const u=s.formats(),d=this.quill.getFormat(t.index,1);r=ua.AttributeMap.diff(u,d)||{},Object.keys(r).length>0&&(o=o.retain(a.length()-1).retain(1,r))}}this.quill.updateContents(o,Qe.sources.USER),this.quill.focus()}handleDeleteRange(t){jR({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const i=Object.keys(n.format).reduce((s,o)=>(this.quill.scroll.query(o,Tt.BLOCK)&&!Array.isArray(n.format[o])&&(s[o]=n.format[o]),s),{}),r=new Et().retain(t.index).delete(t.length).insert(`
`,i);this.quill.updateContents(r,Qe.sources.USER),this.quill.setSelection(t.index+1,Qe.sources.SILENT),this.quill.focus()}}const OK={bindings:{bold:VS("bold"),italic:VS("italic"),underline:VS("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",Qe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",Qe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",Qe.sources.USER):t.format.list!=null&&this.quill.format("list",!1,Qe.sources.USER)}},"indent code-block":wL(!0),"outdent code-block":wL(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,Qe.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new Et().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(n,Qe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,Qe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Qe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,Qe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),i={...t.formats(),list:"checked"},r=new Et().retain(e.index).insert(`
`,i).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,Qe.sources.USER),this.quill.setSelection(e.index+1,Qe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,i]=this.quill.getLine(e.index),r=new Et().retain(e.index).insert(`
`,t.format).retain(n.length()-i-1).retain(1,{header:null});this.quill.updateContents(r,Qe.sources.USER),this.quill.setSelection(e.index+1,Qe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,i,r,s]=t.getTable(e),o=IK(n,i,r,s);if(o==null)return;let a=n.offset();if(o<0){const u=new Et().retain(a).insert(`
`);this.quill.updateContents(u,Qe.sources.USER),this.quill.setSelection(e.index+1,e.length,Qe.sources.SILENT)}else if(o>0){a+=n.length();const u=new Et().retain(a).insert(`
`);this.quill.updateContents(u,Qe.sources.USER),this.quill.setSelection(a,Qe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:i}=t,r=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,Qe.sources.USER):this.quill.setSelection(r+i.length(),Qe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[i,r]=this.quill.getLine(e.index);if(r>n)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",Qe.sources.USER),this.quill.history.cutoff();const o=new Et().retain(e.index-r).delete(n+1).retain(i.length()-2-r).retain(1,{list:s});return this.quill.updateContents(o,Qe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,Qe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let i=2,r=t;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,i-=1,i<=0){const s=new Et().retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,Qe.sources.USER),this.quill.setSelection(e.index-1,Qe.sources.SILENT),!1}return!0}},"embed left":Hy("ArrowLeft",!1),"embed left shift":Hy("ArrowLeft",!0),"embed right":Hy("ArrowRight",!1),"embed right shift":Hy("ArrowRight",!0),"table down":SL(!1),"table up":SL(!0)}};e0.DEFAULTS=OK;function wL(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:i}=n;const r=this.quill.scroll.query("code-block"),{TAB:s}=r;if(t.length===0&&!i.shiftKey){this.quill.insertText(t.index,s,Qe.sources.USER),this.quill.setSelection(t.index+s.length,Qe.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:u}=t;o.forEach((d,h)=>{e?(d.insertAt(0,s),h===0?a+=s.length:u+=s.length):d.domNode.textContent.startsWith(s)&&(d.deleteAt(0,s.length),h===0?a-=s.length:u-=s.length)}),this.quill.update(Qe.sources.USER),this.quill.setSelection(a,u,Qe.sources.SILENT)}}}function Hy(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(i){let{index:r}=i;e==="ArrowRight"&&(r+=i.length+1);const[s]=this.quill.getLeaf(r);return s instanceof Mo?(e==="ArrowLeft"?t?this.quill.setSelection(i.index-1,i.length+1,Qe.sources.USER):this.quill.setSelection(i.index-1,Qe.sources.USER):t?this.quill.setSelection(i.index,i.length+1,Qe.sources.USER):this.quill.setSelection(i.index+i.length+1,Qe.sources.USER),!1):!0}}}function VS(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],Qe.sources.USER)}}}function SL(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const i=e?"prev":"next",r=n.line,s=r.parent[i];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,a=r;for(;a.prev!=null;)a=a.prev,o=o.next;const u=o.offset(this.quill.scroll)+Math.min(n.offset,o.length()-1);this.quill.setSelection(u,0,Qe.sources.USER)}}else{const o=r.table()[i];o!=null&&(e?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,Qe.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,Qe.sources.USER))}return!1}}}function kK(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=Xf(e);else return null;return e.shortKey&&(e[NK]=e.shortKey,delete e.shortKey),e}function jR(e){let{quill:t,range:n}=e;const i=t.getLines(n);let r={};if(i.length>1){const s=i[0].formats(),o=i[i.length-1].formats();r=ua.AttributeMap.diff(o,s)||{}}t.deleteText(n,Qe.sources.USER),Object.keys(r).length>0&&t.formatLine(n.index,1,r,Qe.sources.USER),t.setSelection(n.index,Qe.sources.SILENT)}function IK(e,t,n,i){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?i===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const _K=/font-weight:\s*normal/,BK=["P","OL","UL"],xL=e=>e&&BK.includes(e.tagName),HK=e=>{Array.from(e.querySelectorAll("br")).filter(t=>xL(t.previousElementSibling)&&xL(t.nextElementSibling)).forEach(t=>{var n;(n=t.parentNode)==null||n.removeChild(t)})},jK=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var n;return(n=t.getAttribute("style"))==null?void 0:n.match(_K)}).forEach(t=>{var i;const n=e.createDocumentFragment();n.append(...t.childNodes),(i=t.parentNode)==null||i.replaceChild(n,t)})};function GK(e){e.querySelector('[id^="docs-internal-guid-"]')&&(jK(e),HK(e))}const VK=/\bmso-list:[^;]*ignore/i,zK=/\bmso-list:[^;]*\bl(\d+)/i,qK=/\bmso-list:[^;]*\blevel(\d+)/i,UK=(e,t)=>{const n=e.getAttribute("style"),i=n==null?void 0:n.match(zK);if(!i)return null;const r=Number(i[1]),s=n==null?void 0:n.match(qK),o=s?Number(s[1]):1,a=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=t.match(a),d=u&&u[1]==="bullet"?"bullet":"ordered";return{id:r,indent:o,type:d,element:e}},WK=e=>{var o,a;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],i=[];t.forEach(u=>{(u.getAttribute("style")||"").match(VK)?n.push(u):i.push(u)}),n.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)});const r=e.documentElement.innerHTML,s=i.map(u=>UK(u,r)).filter(u=>u);for(;s.length;){const u=[];let d=s.shift();for(;d;)u.push(d),d=s.length&&((o=s[0])==null?void 0:o.element)===d.element.nextElementSibling&&s[0].id===d.id?s.shift():null;const h=document.createElement("ul");u.forEach(m=>{const y=document.createElement("li");y.setAttribute("data-list",m.type),m.indent>1&&y.setAttribute("class",`ql-indent-${m.indent-1}`),y.innerHTML=m.element.innerHTML,h.appendChild(y)});const p=(a=u[0])==null?void 0:a.element,{parentNode:g}=p??{};p&&(g==null||g.replaceChild(h,p)),u.slice(1).forEach(m=>{let{element:y}=m;g==null||g.removeChild(y)})}};function $K(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&WK(e)}const KK=[$K,GK],YK=e=>{e.documentElement&&KK.forEach(t=>{t(e)})},QK=tc("quill:clipboard"),XK=[[Node.TEXT_NODE,uY],[Node.TEXT_NODE,AL],["br",nY],[Node.ELEMENT_NODE,AL],[Node.ELEMENT_NODE,tY],[Node.ELEMENT_NODE,eY],[Node.ELEMENT_NODE,aY],["li",sY],["ol, ul",oY],["pre",iY],["tr",lY],["b",zS("bold")],["i",zS("italic")],["strike",zS("strike")],["style",rY]],ZK=[PK,H3].reduce((e,t)=>(e[t.keyName]=t,e),{}),RL=[_3,_R,IR,G3,q3,W3].reduce((e,t)=>(e[t.keyName]=t,e),{});class $3 extends il{constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],XK.concat(this.options.matchers??[]).forEach(i=>{let[r,s]=i;this.addMatcher(r,s)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[vs.blotName])return new Et().insert(i||"",{[vs.blotName]:r[vs.blotName]});if(!n)return new Et().insert(i||"",r);const s=this.convertHTML(n);return pv(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||r.table)?s.compose(new Et().retain(s.length()-1).delete(1)):s}normalizeHTML(t){YK(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const i=n.body,r=new WeakMap,[s,o]=this.prepareMatching(i,r);return GR(this.quill.scroll,i,s,o,r)}dangerouslyPasteHTML(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qe.sources.API;if(typeof t=="string"){const r=this.convert({html:t,text:""});this.quill.setContents(r,n),this.quill.setSelection(0,Qe.sources.SILENT)}else{const r=this.convert({html:n,text:""});this.quill.updateContents(new Et().retain(t).concat(r),i),this.quill.setSelection(t+r.length(),Qe.sources.SILENT)}}onCaptureCopy(t){var o,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[i]=this.quill.selection.getRange();if(i==null)return;const{html:r,text:s}=this.onCopy(i,n);(o=t.clipboardData)==null||o.setData("text/plain",s),(a=t.clipboardData)==null||a.setData("text/html",r),n&&jR({range:i,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){var o,a,u,d,h;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const i=(o=t.clipboardData)==null?void 0:o.getData("text/html");let r=(a=t.clipboardData)==null?void 0:a.getData("text/plain");if(!i&&!r){const p=(u=t.clipboardData)==null?void 0:u.getData("text/uri-list");p&&(r=this.normalizeURIList(p))}const s=Array.from(((d=t.clipboardData)==null?void 0:d.files)||[]);if(!i&&s.length>0){this.quill.uploader.upload(n,s);return}if(i&&s.length>0){const p=new DOMParser().parseFromString(i,"text/html");if(p.body.childElementCount===1&&((h=p.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(n,s);return}}this.onPaste(n,{html:i,text:r})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:i,html:r}=n;const s=this.quill.getFormat(t.index),o=this.convert({text:i,html:r},s);QK.log("onPaste",o,{text:i,html:r});const a=new Et().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(a,Qe.sources.USER),this.quill.setSelection(a.length()-t.length,Qe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const i=[],r=[];return this.matchers.forEach(s=>{const[o,a]=s;switch(o){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:i.push(a);break;default:Array.from(t.querySelectorAll(o)).forEach(u=>{if(n.has(u)){const d=n.get(u);d==null||d.push(a)}else n.set(u,[a])});break}}),[i,r]}}dt($3,"DEFAULTS",{matchers:[]});function Bh(e,t,n,i){return i.query(t)?e.reduce((r,s)=>{if(!s.insert)return r;if(s.attributes&&s.attributes[t])return r.push(s);const o=n?{[t]:n}:{};return r.insert(s.insert,{...o,...s.attributes})},new Et):e}function pv(e,t){let n="";for(let i=e.ops.length-1;i>=0&&n.length<t.length;--i){const r=e.ops[i];if(typeof r.insert!="string")break;n=r.insert+n}return n.slice(-1*t.length)===t}function Xc(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return n&&n.prototype instanceof Mo?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function JK(e,t){return e.previousElementSibling&&e.nextElementSibling&&!Xc(e.previousElementSibling,t)&&!Xc(e.nextElementSibling,t)}const jy=new WeakMap;function K3(e){return e==null?!1:(jy.has(e)||(e.tagName==="PRE"?jy.set(e,!0):jy.set(e,K3(e.parentNode))),jy.get(e))}function GR(e,t,n,i,r){return t.nodeType===t.TEXT_NODE?i.reduce((s,o)=>o(t,s,e),new Et):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((s,o)=>{let a=GR(e,o,n,i,r);return o.nodeType===t.ELEMENT_NODE&&(a=n.reduce((u,d)=>d(o,u,e),a),a=(r.get(o)||[]).reduce((u,d)=>d(o,u,e),a)),s.concat(a)},new Et):new Et}function zS(e){return(t,n,i)=>Bh(n,e,!0,i)}function eY(e,t,n){const i=Wl.keys(e),r=tl.keys(e),s=gd.keys(e),o={};return i.concat(r).concat(s).forEach(a=>{let u=n.query(a,Tt.ATTRIBUTE);u!=null&&(o[u.attrName]=u.value(e),o[u.attrName])||(u=ZK[a],u!=null&&(u.attrName===a||u.keyName===a)&&(o[u.attrName]=u.value(e)||void 0),u=RL[a],u!=null&&(u.attrName===a||u.keyName===a)&&(u=RL[a],o[u.attrName]=u.value(e)||void 0))}),Object.entries(o).reduce((a,u)=>{let[d,h]=u;return Bh(a,d,h,n)},t)}function tY(e,t,n){const i=n.query(e);if(i==null)return t;if(i.prototype instanceof Mo){const r={},s=i.value(e);if(s!=null)return r[i.blotName]=s,new Et().insert(r,i.formats(e,n))}else if(i.prototype instanceof km&&!pv(t,`
`)&&t.insert(`
`),"blotName"in i&&"formats"in i&&typeof i.formats=="function")return Bh(t,i.blotName,i.formats(e,n),n);return t}function nY(e,t){return pv(t,`
`)||t.insert(`
`),t}function iY(e,t,n){const i=n.query("code-block"),r=i&&"formats"in i&&typeof i.formats=="function"?i.formats(e,n):!0;return Bh(t,"code-block",r,n)}function rY(){return new Et}function sY(e,t,n){const i=n.query(e);if(i==null||i.blotName!=="list"||!pv(t,`
`))return t;let r=-1,s=e.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(r+=1),s=s.parentNode;return r<=0?t:t.reduce((o,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?o.push(a):o.insert(a.insert,{indent:r,...a.attributes||{}}):o,new Et)}function oY(e,t,n){const i=e;let r=i.tagName==="OL"?"ordered":"bullet";const s=i.getAttribute("data-checked");return s&&(r=s==="true"?"checked":"unchecked"),Bh(t,"list",r,n)}function AL(e,t,n){if(!pv(t,`
`)){if(Xc(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let i=e.nextSibling;for(;i!=null;){if(Xc(i,n))return t.insert(`
`);const r=n.query(i);if(r&&r.prototype instanceof aa)return t.insert(`
`);i=i.firstChild}}}return t}function aY(e,t,n){var s;const i={},r=e.style||{};return r.fontStyle==="italic"&&(i.italic=!0),r.textDecoration==="underline"&&(i.underline=!0),r.textDecoration==="line-through"&&(i.strike=!0),((s=r.fontWeight)!=null&&s.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(i.bold=!0),t=Object.entries(i).reduce((o,a)=>{let[u,d]=a;return Bh(o,u,d,n)},t),parseFloat(r.textIndent||0)>0?new Et().insert("	").concat(t):t}function lY(e,t,n){var r,s;const i=((r=e.parentElement)==null?void 0:r.tagName)==="TABLE"?e.parentElement:(s=e.parentElement)==null?void 0:s.parentElement;if(i!=null){const a=Array.from(i.querySelectorAll("tr")).indexOf(e)+1;return Bh(t,"table",a,n)}return t}function uY(e,t,n){var r;let i=e.data;if(((r=e.parentElement)==null?void 0:r.tagName)==="O:P")return t.insert(i.trim());if(!K3(e)){if(i.trim().length===0&&i.includes(`
`)&&!JK(e,n))return t;i=i.replace(/[^\S\u00a0]/g," "),i=i.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Xc(e.parentElement,n)||e.previousSibling instanceof Element&&Xc(e.previousSibling,n))&&(i=i.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Xc(e.parentElement,n)||e.nextSibling instanceof Element&&Xc(e.nextSibling,n))&&(i=i.replace(/ $/,"")),i=i.replaceAll(""," ")}return t.insert(i)}class Y3 extends il{constructor(n,i){super(n,i);dt(this,"lastRecorded",0);dt(this,"ignoreChange",!1);dt(this,"stack",{undo:[],redo:[]});dt(this,"currentRange",null);this.quill.on(Qe.events.EDITOR_CHANGE,(r,s,o,a)=>{r===Qe.events.SELECTION_CHANGE?s&&a!==Qe.sources.SILENT&&(this.currentRange=s):r===Qe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===Qe.sources.USER?this.record(s,o):this.transform(s)),this.currentRange=Fx(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(n,i){if(this.stack[n].length===0)return;const r=this.stack[n].pop();if(!r)return;const s=this.quill.getContents(),o=r.delta.invert(s);this.stack[i].push({delta:o,range:Fx(r.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,Qe.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,i){if(n.ops.length===0)return;this.stack.redo=[];let r=n.invert(i),s=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(r=r.compose(a.delta),s=a.range)}else this.lastRecorded=o;r.length()!==0&&(this.stack.undo.push({delta:r,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){EL(this.stack.undo,n),EL(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,Qe.sources.USER);else{const i=dY(this.quill.scroll,n.delta);this.quill.setSelection(i,Qe.sources.USER)}}}dt(Y3,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function EL(e,t){let n=t;for(let i=e.length-1;i>=0;i-=1){const r=e[i];e[i]={delta:n.transform(r.delta,!0),range:r.range&&Fx(r.range,n)},n=r.delta.transform(n),e[i].delta.length()===0&&e.splice(i,1)}}function cY(e,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(i=>e.query(i,Tt.BLOCK)!=null):!1}function dY(e,t){const n=t.reduce((r,s)=>r+(s.delete||0),0);let i=t.length()-n;return cY(e,t)&&(i-=1),i}function Fx(e,t){if(!e)return e;const n=t.transformPosition(e.index),i=t.transformPosition(e.index+e.length);return{index:n,length:i-n}}class Q3 extends il{constructor(t,n){super(t,n),t.root.addEventListener("drop",i=>{var o;i.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(i.clientX,i.clientY);r=document.createRange(),r.setStart(a.offsetNode,a.offset),r.setEnd(a.offsetNode,a.offset)}const s=r&&t.selection.normalizeNative(r);if(s){const a=t.selection.normalizedToRange(s);(o=i.dataTransfer)!=null&&o.files&&this.upload(a,i.dataTransfer.files)}})}upload(t,n){const i=[];Array.from(n).forEach(r=>{var s;r&&((s=this.options.mimetypes)!=null&&s.includes(r.type))&&i.push(r)}),i.length>0&&this.options.handler.call(this,t,i)}}Q3.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map(i=>new Promise(r=>{const s=new FileReader;s.onload=()=>{r(s.result)},s.readAsDataURL(i)}));Promise.all(n).then(i=>{const r=i.reduce((s,o)=>s.insert({image:o}),new Et().retain(e.index).delete(e.length));this.quill.updateContents(r,Ct.sources.USER),this.quill.setSelection(e.index+i.length,Ct.sources.SILENT)})}};const hY=["insertText","insertReplacementText"];class fY extends il{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",i=>{this.handleBeforeInput(i)}),/Android/i.test(navigator.userAgent)||t.on(Qe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){jR({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const i=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Et().retain(t.index).insert(n,i),Qe.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,Qe.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!hY.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const i=pY(t);if(i==null)return;const r=this.quill.selection.normalizeNative(n),s=r?this.quill.selection.normalizedToRange(r):null;s&&this.replaceText(s,i)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function pY(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const gY=/Mac/i.test(navigator.platform),mY=100,vY=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||gY&&e.key==="a"&&e.ctrlKey===!0);class yY extends il{constructor(n,i){super(n,i);dt(this,"isListening",!1);dt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,i){let{line:r,event:s}=i;if(!(r instanceof Ka)||!r.uiNode)return!0;const o=getComputedStyle(r.domNode).direction==="rtl";return o&&s.key!=="ArrowRight"||!o&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(s.shiftKey?1:0),Qe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&vY(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+mY,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const i=n.getRangeAt(0);if(i.collapsed!==!0||i.startOffset!==0)return;const r=this.quill.scroll.find(i.startContainer);if(!(r instanceof Ka)||!r.uiNode)return;const s=document.createRange();s.setStartAfter(r.uiNode),s.setEndAfter(r.uiNode),n.removeAllRanges(),n.addRange(s)}}Qe.register({"blots/block":Kr,"blots/block/embed":aa,"blots/break":nl,"blots/container":Ih,"blots/cursor":gp,"blots/embed":OR,"blots/inline":$l,"blots/scroll":If,"blots/text":Xa,"modules/clipboard":$3,"modules/history":Y3,"modules/keyboard":e0,"modules/uploader":Q3,"modules/input":fY,"modules/uiNode":yY});class bY extends tl{add(t,n){let i=0;if(n==="+1"||n==="-1"){const r=this.value(t)||0;i=n==="+1"?r+1:r-1}else typeof n=="number"&&(i=n);return i===0?(this.remove(t),!0):super.add(t,i.toString())}canAdd(t,n){return super.canAdd(t,n)||super.canAdd(t,parseInt(n,10))}value(t){return parseInt(super.value(t),10)||void 0}}const CY=new bY("indent","ql-indent",{scope:Tt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Lx extends Kr{}dt(Lx,"blotName","blockquote"),dt(Lx,"tagName","blockquote");class Mx extends Kr{static formats(t){return this.tagName.indexOf(t.tagName)+1}}dt(Mx,"blotName","header"),dt(Mx,"tagName",["H1","H2","H3","H4","H5","H6"]);class gv extends Ih{}gv.blotName="list-container";gv.tagName="OL";class mv extends Kr{static create(t){const n=super.create();return n.setAttribute("data-list",t),n}static formats(t){return t.getAttribute("data-list")||void 0}static register(){Qe.register(gv)}constructor(t,n){super(t,n);const i=n.ownerDocument.createElement("span"),r=s=>{if(!t.isEnabled())return;const o=this.statics.formats(n,t);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r),this.attachUI(i)}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(t,n)}}mv.blotName="list";mv.tagName="LI";gv.allowedChildren=[mv];mv.requiredContainer=gv;class _m extends $l{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}dt(_m,"blotName","bold"),dt(_m,"tagName",["STRONG","B"]);class Nx extends _m{}dt(Nx,"blotName","italic"),dt(Nx,"tagName",["EM","I"]);class Zc extends $l{static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return X3(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}dt(Zc,"blotName","link"),dt(Zc,"tagName","A"),dt(Zc,"SANITIZED_URL","about:blank"),dt(Zc,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function X3(e,t){const n=document.createElement("a");n.href=e;const i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}class Ox extends $l{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}dt(Ox,"blotName","script"),dt(Ox,"tagName",["SUB","SUP"]);class kx extends _m{}dt(kx,"blotName","strike"),dt(kx,"tagName",["S","STRIKE"]);class Ix extends $l{}dt(Ix,"blotName","underline"),dt(Ix,"tagName","U");class Cb extends OR{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(t);return typeof t=="string"&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}dt(Cb,"blotName","formula"),dt(Cb,"className","ql-formula"),dt(Cb,"tagName","SPAN");const TL=["alt","height","width"];var cb;let wY=(cb=class extends Mo{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("src",this.sanitize(t)),n}static formats(t){return TL.reduce((n,i)=>(t.hasAttribute(i)&&(n[i]=t.getAttribute(i)),n),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return X3(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,n){TL.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}},dt(cb,"blotName","image"),dt(cb,"tagName","IMG"),cb);const PL=["height","width"];class wb extends aa{static create(t){const n=super.create(t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}static formats(t){return PL.reduce((n,i)=>(t.hasAttribute(i)&&(n[i]=t.getAttribute(i)),n),{})}static sanitize(t){return Zc.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,n){PL.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}dt(wb,"blotName","video"),dt(wb,"className","ql-video"),dt(wb,"tagName","IFRAME");const Kg=new tl("code-token","hljs",{scope:Tt.INLINE});class qu extends $l{static formats(t,n){for(;t!=null&&t!==n.domNode;){if(t.classList&&t.classList.contains(vs.className))return super.formats(t,n);t=t.parentNode}}constructor(t,n,i){super(t,n,i),Kg.add(this.domNode,i)}format(t,n){t!==qu.blotName?super.format(t,n):n?Kg.add(this.domNode,n):(Kg.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Kg.value(this.domNode)||this.unwrap()}}qu.blotName="code-token";qu.className="ql-token";class sa extends vs{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("data-language",t),n}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(t,n)}replaceWith(t,n){return this.formatAt(0,this.length(),qu.blotName,!1),super.replaceWith(t,n)}}class im extends _h{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,n){t===sa.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(t,n)}))}formatAt(t,n,i,r){i===sa.blotName&&(this.forceNext=!0),super.formatAt(t,n,i,r)}highlight(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=sa.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const o=this.children.reduce((u,d)=>u.concat(O3(d,!1)),new Et),a=t(r,s);o.diff(a).reduce((u,d)=>{let{retain:h,attributes:p}=d;return h?(p&&Object.keys(p).forEach(g=>{[sa.blotName,qu.blotName].includes(g)&&this.formatAt(u,h,g,p[g])}),u+h):u},0)}this.cachedText=r,this.forceNext=!1}}html(t,n){const[i]=this.children.find(t);return`<pre data-language="${i?sa.formats(i.domNode):"plain"}">
${JC(this.code(t,n))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=sa.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}im.allowedChildren=[sa];sa.requiredContainer=im;sa.allowedChildren=[qu,gp,Xa,nl];const SY=(e,t,n)=>{if(typeof e.versionString=="string"){const i=e.versionString.split(".")[0];if(parseInt(i,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value};class Z3 extends il{static register(){Qe.register(qu,!0),Qe.register(sa,!0),Qe.register(im,!0)}constructor(t,n){if(super(t,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((i,r)=>{let{key:s}=r;return i[s]=!0,i},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Qe.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof im))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(i=>{let{key:r,label:s}=i;const o=n.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",r),n.appendChild(o)}),n.addEventListener("change",()=>{t.format(sa.blotName,n.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(n),t.children.head&&(n.value=sa.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(Qe.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Qe.sources.USER);const i=this.quill.getSelection();(t==null?this.quill.scroll.descendants(im):[t]).forEach(s=>{s.highlight(this.highlightBlot,n)}),this.quill.update(Qe.sources.SILENT),i!=null&&this.quill.setSelection(i,Qe.sources.SILENT)}highlightBlot(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return JC(t).split(`
`).reduce((r,s,o)=>(o!==0&&r.insert(`
`,{[vs.blotName]:n}),r.insert(s)),new Et);const i=this.quill.root.ownerDocument.createElement("div");return i.classList.add(vs.className),i.innerHTML=SY(this.options.hljs,n,t),GR(this.quill.scroll,i,[(r,s)=>{const o=Kg.value(r);return o?s.compose(new Et().retain(s.length(),{[qu.blotName]:o})):s}],[(r,s)=>r.data.split(`
`).reduce((o,a,u)=>(u!==0&&o.insert(`
`,{[vs.blotName]:n}),o.insert(a)),s)],new WeakMap)}}Z3.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Rm=class Rm extends Kr{static create(t){const n=super.create();return t?n.setAttribute("data-row",t):n.setAttribute("data-row",VR()),n}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===Rm.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};dt(Rm,"blotName","table"),dt(Rm,"tagName","TD");let za=Rm;class Uu extends Ih{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),n=this.children.tail.formats(),i=this.next.children.head.formats(),r=this.next.children.tail.formats();return t.table===n.table&&t.table===i.table&&t.table===r.table}return!1}optimize(t){super.optimize(t),this.children.forEach(n=>{if(n.next==null)return;const i=n.formats(),r=n.next.formats();if(i.table!==r.table){const s=this.splitAfter(n);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}dt(Uu,"blotName","table-row"),dt(Uu,"tagName","TR");class jl extends Ih{}dt(jl,"blotName","table-body"),dt(jl,"tagName","TBODY");class vp extends Ih{balanceCells(){const t=this.descendants(Uu),n=t.reduce((i,r)=>Math.max(r.children.length,i),0);t.forEach(i=>{new Array(n-i.children.length).fill(0).forEach(()=>{let r;i.children.head!=null&&(r=za.formats(i.children.head.domNode));const s=this.scroll.create(za.blotName,r);i.appendChild(s),s.optimize()})})}cells(t){return this.rows().map(n=>n.children.at(t))}deleteColumn(t){const[n]=this.descendant(jl);n==null||n.children.head==null||n.children.forEach(i=>{const r=i.children.at(t);r!=null&&r.remove()})}insertColumn(t){const[n]=this.descendant(jl);n==null||n.children.head==null||n.children.forEach(i=>{const r=i.children.at(t),s=za.formats(i.children.head.domNode),o=this.scroll.create(za.blotName,s);i.insertBefore(o,r)})}insertRow(t){const[n]=this.descendant(jl);if(n==null||n.children.head==null)return;const i=VR(),r=this.scroll.create(Uu.blotName);n.children.head.children.forEach(()=>{const o=this.scroll.create(za.blotName,i);r.appendChild(o)});const s=n.children.at(t);n.insertBefore(r,s)}rows(){const t=this.children.head;return t==null?[]:t.children.map(n=>n)}}dt(vp,"blotName","table-container"),dt(vp,"tagName","TABLE");vp.allowedChildren=[jl];jl.requiredContainer=vp;jl.allowedChildren=[Uu];Uu.requiredContainer=jl;Uu.allowedChildren=[za];za.requiredContainer=Uu;function VR(){return`row-${Math.random().toString(36).slice(2,6)}`}let xY=class extends il{static register(){Qe.register(za),Qe.register(Uu),Qe.register(jl),Qe.register(vp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(vp).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,n]=this.getTable();n!=null&&(t.deleteColumn(n.cellOffset()),this.quill.update(Qe.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(Qe.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const n=t.offset();t.remove(),this.quill.update(Qe.sources.USER),this.quill.setSelection(n,Qe.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[n,i]=this.quill.getLine(t.index);if(n==null||n.statics.blotName!==za.blotName)return[null,null,null,-1];const r=n.parent;return[r.parent.parent,r,n,i]}insertColumn(t){const n=this.quill.getSelection();if(!n)return;const[i,r,s]=this.getTable(n);if(s==null)return;const o=s.cellOffset();i.insertColumn(o+t),this.quill.update(Qe.sources.USER);let a=r.rowOffset();t===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,Qe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const n=this.quill.getSelection();if(!n)return;const[i,r,s]=this.getTable(n);if(s==null)return;const o=r.rowOffset();i.insertRow(o+t),this.quill.update(Qe.sources.USER),t>0?this.quill.setSelection(n,Qe.sources.SILENT):this.quill.setSelection(n.index+r.children.length,n.length,Qe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,n){const i=this.quill.getSelection();if(i==null)return;const r=new Array(t).fill(0).reduce(s=>{const o=new Array(n).fill(`
`).join("");return s.insert(o,{table:VR()})},new Et().retain(i.index));this.quill.updateContents(r,Qe.sources.USER),this.quill.setSelection(i.index,Qe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Qe.events.SCROLL_OPTIMIZE,t=>{t.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(Qe.events.TEXT_CHANGE,(i,r,s)=>{s===Qe.sources.USER&&this.balanceTables()}),!0):!1)})}};const DL=tc("quill:toolbar");class zR extends il{constructor(t,n){var i,r;if(super(t,n),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),RY(s,this.options.container),(r=(i=t.container)==null?void 0:i.parentNode)==null||r.insertBefore(s,t.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){DL.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var a;const o=(a=this.options.handlers)==null?void 0:a[s];o&&this.addHandler(s,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(Qe.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(r=>r.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){DL.warn("ignoring attaching to nonexistent format",n,t);return}const i=t.tagName==="SELECT"?"change":"click";t.addEventListener(i,r=>{let s;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const a=t.options[t.selectedIndex];a.hasAttribute("selected")?s=!1:s=a.value||!1}else t.classList.contains("ql-active")?s=!1:s=t.value||!t.hasAttribute("value"),r.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,s);else if(this.quill.scroll.query(n).prototype instanceof Mo){if(s=prompt(`Enter ${n}`),!s)return;this.quill.updateContents(new Et().retain(o.index).delete(o.length).insert({[n]:s}),Qe.sources.USER)}else this.quill.format(n,s,Qe.sources.USER);this.update(o)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(i=>{const[r,s]=i;if(s.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(n[r]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(n[r])){let a=n[r];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${a}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(t==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=n[r],a=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}else{const o=n[r]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}zR.DEFAULTS={};function FL(e,t,n){const i=document.createElement("button");i.setAttribute("type","button"),i.classList.add(`ql-${t}`),i.setAttribute("aria-pressed","false"),n!=null?(i.value=n,i.setAttribute("aria-label",`${t}: ${n}`)):i.setAttribute("aria-label",t),e.appendChild(i)}function RY(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const i=document.createElement("span");i.classList.add("ql-formats"),n.forEach(r=>{if(typeof r=="string")FL(i,r);else{const s=Object.keys(r)[0],o=r[s];Array.isArray(o)?AY(i,s,o):FL(i,s,o)}}),e.appendChild(i)})}function AY(e,t,n){const i=document.createElement("select");i.classList.add(`ql-${t}`),n.forEach(r=>{const s=document.createElement("option");r!==!1?s.setAttribute("value",String(r)):s.setAttribute("selected","selected"),i.appendChild(s)}),e.appendChild(i)}zR.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,Tt.INLINE)!=null&&this.quill.format(n,!1,Qe.sources.USER)})}else this.quill.removeFormat(e.index,e.length,Qe.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",Qe.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,Qe.sources.USER),this.quill.format("direction",e,Qe.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0,10);if(e==="+1"||e==="-1"){let r=e==="+1"?1:-1;n.direction==="rtl"&&(r*=-1),this.quill.format("indent",i+r,Qe.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,Qe.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);e==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,Qe.sources.USER):this.quill.format("list","unchecked",Qe.sources.USER):this.quill.format("list",e,Qe.sources.USER)}}};const EY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',TY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',PY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',DY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',FY='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',LY='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',MY='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',NY='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',LL='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',OY='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',kY='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',IY='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',_Y='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',BY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',HY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',jY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',GY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',VY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',zY='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',qY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',UY='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',WY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',$Y='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',KY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',YY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',QY='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',XY='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',ZY='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',JY='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',eQ='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',tQ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',nQ='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',iQ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Bm={align:{"":EY,center:TY,right:PY,justify:DY},background:FY,blockquote:LY,bold:MY,clean:NY,code:LL,"code-block":LL,color:OY,direction:{"":kY,rtl:IY},formula:_Y,header:{1:BY,2:HY,3:jY,4:GY,5:VY,6:zY},italic:qY,image:UY,indent:{"+1":WY,"-1":$Y},link:KY,list:{bullet:YY,check:QY,ordered:XY},script:{sub:ZY,super:JY},strike:eQ,table:tQ,underline:nQ,video:iQ},rQ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ML=0;function NL(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class t0{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),NL(this.label,"aria-expanded"),NL(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const i=t.getAttribute("value");return i&&n.setAttribute("data-value",i),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(n,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=rQ,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${ML}`,ML+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const i=this.buildItem(n);t.appendChild(i),n.selected===!0&&this.selectItem(i)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.container.querySelector(".ql-selected");t!==i&&(i!=null&&i.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const i=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(i)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class J3 extends t0{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(i=>{i.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const i=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";i&&(i.tagName==="line"?i.style.stroke=r:i.style.fill=r)}}class eI extends t0{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(i=>{i.innerHTML=n[i.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const i=t||this.defaultItem;if(i!=null){if(this.label.innerHTML===i.innerHTML)return;this.label.innerHTML=i.innerHTML}}}const sQ=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class tI{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,sQ(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,i=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${i}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>r.right&&(o=r.right-s.right,this.root.style.left=`${n+o}px`),s.left<r.left&&(o=r.left-s.left,this.root.style.left=`${n+o}px`),s.bottom>r.bottom){const a=s.bottom-s.top,u=t.bottom-t.top+a;this.root.style.top=`${i-u}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const oQ=[!1,"center","right","justify"],aQ=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],lQ=[!1,"serif","monospace"],uQ=["1","2","3",!1],cQ=["small",!1,"large","huge"];class vv extends mp{constructor(t,n){super(t,n);const i=r=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",i);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(r.target)||s.close()})};t.emitter.listenDOM("click",document.body,i)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(i=>{(i.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),n[s]!=null))if(s==="direction")i.innerHTML=n[s][""]+n[s].rtl;else if(typeof n[s]=="string")i.innerHTML=n[s];else{const o=i.value||"";o!=null&&n[s][o]&&(i.innerHTML=n[s][o])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&kg(r,oQ),typeof n.align=="object"))return new eI(r,n.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const s=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&kg(r,aQ,s==="background"?"#ffffff":"#000000"),new J3(r,n[s])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?kg(r,lQ):r.classList.contains("ql-header")?kg(r,uQ):r.classList.contains("ql-size")&&kg(r,cQ)),new t0(r)});const i=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(Ct.events.EDITOR_CHANGE,i)}}vv.DEFAULTS=ed({},mp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class nI extends tI{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const i=this.quill.getBounds(this.quill.selection.savedRange);i!=null&&this.position(i),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Ct.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Ct.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=dQ(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,Ct.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(i+1," ",Ct.sources.USER),this.quill.setSelection(i+2,Ct.sources.USER)}break}}this.textbox.value="",this.hide()}}function dQ(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function kg(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(i=>{const r=document.createElement("option");i===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(i)),e.appendChild(r)})}const hQ=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class iI extends nI{constructor(t,n){super(t,n),this.quill.on(Ct.events.EDITOR_CHANGE,(i,r,s,o)=>{if(i===Ct.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&o===Ct.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(r.index,r.length);if(a.length===1){const u=this.quill.getBounds(r);u!=null&&this.position(u)}else{const u=a[a.length-1],d=this.quill.getIndex(u),h=Math.min(u.length()-1,r.index+r.length-d),p=this.quill.getBounds(new Eh(d,h));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ct.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const n=this.quill.getBounds(t);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(t){const n=super.position(t),i=this.root.querySelector(".ql-tooltip-arrow");return i.style.marginLeft="",n!==0&&(i.style.marginLeft=`${-1*n-i.offsetWidth/2}px`),n}}dt(iI,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class rI extends vv{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=hQ),super(t,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new iI(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Bm),this.buildPickers(t.container.querySelectorAll("select"),Bm))}}rI.DEFAULTS=ed({},vv.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Qe.sources.USER)}}}}});const fQ=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class sI extends nI{constructor(){super(...arguments);dt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const i=this.linkRange;this.restoreFocus(),this.quill.formatText(i,"link",!1,Ct.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(Ct.events.SELECTION_CHANGE,(n,i,r)=>{if(n!=null){if(n.length===0&&r===Ct.sources.USER){const[s,o]=this.quill.scroll.descendant(Zc,n.index);if(s!=null){this.linkRange=new Eh(n.index-o,s.length());const a=Zc.formats(s.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}dt(sI,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class oI extends vv{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=fQ),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Bm),this.buildPickers(t.container.querySelectorAll("select"),Bm),this.tooltip=new sI(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,i)=>{t.handlers.link.call(t,!i.format.link)}))}}oI.DEFAULTS=ed({},vv.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:i}=this.quill.theme;i.edit("link",n)}else this.quill.format("link",!1,Qe.sources.USER)}}}}});Qe.register({"attributors/attribute/direction":H3,"attributors/class/align":I3,"attributors/class/background":FK,"attributors/class/color":DK,"attributors/class/direction":j3,"attributors/class/font":z3,"attributors/class/size":U3,"attributors/style/align":_3,"attributors/style/background":_R,"attributors/style/color":IR,"attributors/style/direction":G3,"attributors/style/font":q3,"attributors/style/size":W3},!0);Qe.register({"formats/align":I3,"formats/direction":j3,"formats/indent":CY,"formats/background":_R,"formats/color":IR,"formats/font":z3,"formats/size":U3,"formats/blockquote":Lx,"formats/code-block":vs,"formats/header":Mx,"formats/list":mv,"formats/bold":_m,"formats/code":BR,"formats/italic":Nx,"formats/link":Zc,"formats/script":Ox,"formats/strike":kx,"formats/underline":Ix,"formats/formula":Cb,"formats/image":wY,"formats/video":wb,"modules/syntax":Z3,"modules/table":xY,"modules/toolbar":zR,"themes/bubble":rI,"themes/snow":oI,"ui/icons":Bm,"ui/picker":t0,"ui/icon-picker":eI,"ui/color-picker":J3,"ui/tooltip":tI},!0);class yv extends ze.Component{constructor(t){super(t),this.editingAreaRef=M.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(i,r,s,o)=>{var a,u;i==="text-change"?(a=this.onEditorChangeText)==null||a.call(this,this.editor.root.innerHTML,r,o,this.unprivilegedEditor):i==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,r,o,this.unprivilegedEditor))};const n=this.isControlled()?t.value:t.defaultValue;this.value=n??""}validateProps(t){if(ze.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ze.Children.count(t.children)){const n=ze.Children.only(t.children);if((n==null?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(t,n){if(this.validateProps(t),!this.editor||this.state.generation!==n.generation)return!0;if("value"in t){const i=this.getEditorContents(),r=t.value??"";this.isEqualValue(r,i)||this.setEditorContents(this.editor,r)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),[...this.cleanProps,...this.dirtyProps].some(i=>!Ng(t[i],this.props[i]))}shouldComponentRegenerate(t){return this.dirtyProps.some(n=>!Ng(t[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(t,n){if(this.editor&&this.shouldComponentRegenerate(t)){const i=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){const{delta:i,selection:r}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const s=this.editor;s.setContents(i),OL(()=>this.setEditorSelection(s,r))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){this.editor&&this.unhookEditor(this.editor)}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(t,n){const i=new Qe(t,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i}hookEditor(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)}unhookEditor(t){t.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(t){return t&&t.ops}isEqualValue(t,n){return this.isDelta(t)&&this.isDelta(n)?Ng(t.ops,n.ops):Ng(t,n)}setEditorContents(t,n){this.value=n;const i=this.getEditorSelection();typeof n=="string"?t.setContents(t.clipboard.convert({html:n})):t.setContents(n),OL(()=>this.setEditorSelection(t,i))}setEditorSelection(t,n){if(this.selection=n,n){const i=t.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),t.setSelection(n)}}setEditorTabIndex(t,n){var i;(i=t==null?void 0:t.scroll)!=null&&i.domNode&&(t.scroll.domNode.tabIndex=n)}setEditorReadOnly(t,n){n?t.disable():t.enable()}makeUnprivilegedEditor(t){const n=t;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const t=this.editingAreaRef.current;if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t}renderEditingArea(){const{children:t,preserveWhitespace:n}=this.props,{generation:i}=this.state,r={key:i,ref:this.editingAreaRef};return ze.Children.count(t)?ze.cloneElement(ze.Children.only(t),r):n?ze.createElement("pre",{...r}):ze.createElement("div",{...r})}render(){return ze.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(t,n,i,r){var o,a;if(!this.editor)return;const s=this.isDelta(this.value)?r.getContents():r.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=s,(a=(o=this.props).onChange)==null||a.call(o,t,n,i,r))}onEditorChangeSelection(t,n,i){var a,u,d,h,p,g;if(!this.editor)return;const r=this.getEditorSelection(),s=!r&&t,o=r&&!t;Ng(t,r)||(this.selection=t,(u=(a=this.props).onChangeSelection)==null||u.call(a,t,n,i),s?(h=(d=this.props).onFocus)==null||h.call(d,t,n,i):o&&((g=(p=this.props).onBlur)==null||g.call(p,r,n,i)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}yv.displayName="React Quill";yv.Quill=Qe;yv.defaultProps={theme:"snow",modules:{},readOnly:!1};function OL(e){Promise.resolve().then(e)}const pQ=()=>{const[e,{isLoading:t,isError:n,isSuccess:i}]=bG(),{data:r,isLoading:s}=cv(),{data:o,isLoading:a}=hR(),[u,d]=M.useState({name:"",description:"",section:[],buyingPrice:"",price:"",discountedPrice:"",discountPercent:"",priceByVariant:[],image:[],video:"",category:"",subcategory:"",tags:[],bulkOrder:{minQuantity:"",discount:""},stock:0,brand:"",rating:0,numReviews:0,isFeatured:!1,isDeleted:!1,isBlocked:!1,warranty:"",returnable:!1,returnableDays:"",cod:!1}),h=C=>{const{name:A,value:E,type:F,checked:N}=C.target;d({...u,[A]:F==="checkbox"?N:E})},p=C=>{d({...u,image:C.target.value.split(",")})},g=(C,A)=>{const{name:E,value:F}=A.target,N=[...u.priceByVariant];N[C][E]=F,d({...u,priceByVariant:N})},m=()=>{d({...u,priceByVariant:[...u.priceByVariant,{name:"",value:"",price:"",buyingPrice:"",stock:"",image:""}]})},y=C=>{const A=[...u.priceByVariant];A.splice(C,1),d({...u,priceByVariant:A})},w=C=>{const{name:A,value:E}=C.target;d({...u,bulkOrder:{...u.bulkOrder,[A]:E}})},x=async C=>{C.preventDefault();try{await e(u).unwrap()}catch(A){console.error("Failed to add product",A)}};return n?I.jsx("p",{className:"text-red-500",children:"Failed to add product."}):I.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[i&&I.jsx("p",{className:"text-green-500 mb-4",children:"Product added successfully!"}),I.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add Product"}),I.jsxs("form",{onSubmit:x,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Product Name"}),I.jsx("input",{type:"text",name:"name",value:u.name,onChange:h,required:!0,className:"w-full p-2 border rounded-md"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Description"}),I.jsx(yv,{theme:"snow",value:u.description,onChange:C=>d({...u,description:C}),modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color"]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Stock"}),I.jsx("input",{type:"number",name:"stock",value:u.stock,onChange:h,required:!0,className:"w-full p-2 border rounded-md"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Buying Price"}),I.jsx("input",{type:"number",name:"buyingPrice",value:u.buyingPrice,onChange:h,required:!0,className:"w-full p-2 border rounded-md"})]}),I.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Price"}),I.jsx("input",{type:"number",name:"price",value:u.price,onChange:h,required:!0,className:"w-full p-2 border rounded-md"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Discounted Price"}),I.jsx("input",{type:"number",name:"discountedPrice",value:u.discountedPrice,onChange:h,className:"w-full p-2 border rounded-md"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Discount Percent"}),I.jsx("input",{type:"number",name:"discountPercent",value:u.discountPercent,onChange:h,className:"w-full p-2 border rounded-md"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Image URLs (comma-separated)"}),I.jsx("input",{type:"text",name:"image",value:u.image.join(","),onChange:p,className:"w-full p-2 border rounded-md",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Price by Variant"}),u.priceByVariant.map((C,A)=>I.jsxs("div",{className:"flex space-x-2 mb-2",children:[I.jsx("input",{type:"text",name:"name",value:C.name,onChange:E=>g(A,E),placeholder:"Variant Name",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("input",{type:"text",name:"value",value:C.value,onChange:E=>g(A,E),placeholder:"Value",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("input",{type:"number",name:"price",value:C.price,onChange:E=>g(A,E),placeholder:"Price",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("input",{type:"number",name:"buyingPrice",value:C.buyingPrice,onChange:E=>g(A,E),placeholder:"Buying Price",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("input",{type:"text",name:"image",value:C.image,onChange:E=>g(A,E),placeholder:"Image URL",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("input",{type:"number",name:"stock",value:C.stock,onChange:E=>g(A,E),placeholder:"Stock",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsx("button",{type:"button",onClick:()=>y(A),className:"bg-red-500 text-white px-2 rounded",children:"X"})]},A)),I.jsx("button",{type:"button",onClick:m,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"+ Add Variant"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Bulk Order"}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx("input",{type:"number",name:"minQuantity",value:u.bulkOrder.minQuantity,onChange:w,placeholder:"Min Quantity",className:"p-2 border rounded-md w-1/2"}),I.jsx("input",{type:"number",name:"discount",value:u.bulkOrder.discount,onChange:w,placeholder:"Discount (%)",className:"p-2 border rounded-md w-1/2"})]})]}),I.jsxs("div",{className:"flex space-x-4",children:[I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"returnable",checked:u.returnable,onChange:h,className:"mr-2"}),"Returnable"]}),u.returnable&&I.jsx("input",{type:"number",name:"returnableDays",value:u.returnableDays,onChange:h,placeholder:"Return Days",className:"p-2 border rounded-md w-1/4",required:!0}),I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:"cod",checked:u.cod,onChange:h,className:"mr-2"}),"Cash on Delivery"]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Category"}),I.jsxs("select",{name:"category",value:u.category,onChange:h,className:"w-full p-2 border rounded-md",required:!0,children:[I.jsx("option",{value:"",children:"Select Category"}),s?I.jsx("option",{children:"Loading categories..."}):r==null?void 0:r.map(C=>I.jsx("option",{value:C._id,children:C.name},C._id))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium",children:"Subcategory"}),I.jsxs("select",{name:"subcategory",value:u.subcategory,onChange:h,className:"w-full p-2 border rounded-md",required:!0,children:[I.jsx("option",{value:"",children:"Select Subcategory"}),a?I.jsx("option",{children:"Loading subcategories..."}):o==null?void 0:o.map(C=>I.jsx("option",{value:C._id,children:C.name},C._id))]})]}),I.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded-md hover:bg-green-700",children:t?"Adding...":"Add Product"})]})]})};function gQ(){const[e,t]=M.useState(""),[n,i]=M.useState(""),[r,s]=M.useState(""),[o,{isLoading:a,isError:u,isSuccess:d}]=xG(),{data:h,isLoading:p}=cv(),g=async m=>{if(m.preventDefault(),!(!e.trim()||!n.trim()||!r))try{await o({name:e,image:n,categoryid:r}).unwrap(),t(""),i(""),s("")}catch(y){console.error("Failed to add subcategory",y)}};return I.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[I.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Add SubCategory"}),I.jsxs("form",{onSubmit:g,className:"space-y-4",children:[I.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"Enter subcategory name",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.jsx("input",{type:"text",value:n,onChange:m=>i(m.target.value),placeholder:"Enter image URL",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.jsxs("select",{value:r,onChange:m=>s(m.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[I.jsx("option",{value:"",disabled:!0,children:"Select Category"}),p?I.jsx("option",{children:"Loading categories..."}):h==null?void 0:h.map(m=>I.jsx("option",{value:m._id,children:m.name},m._id))]}),I.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 transition",children:a?"Adding...":"Add SubCategory"})]}),d&&I.jsx("p",{className:"text-green-500 mt-2",children:"SubCategory added successfully!"}),u&&I.jsx("p",{className:"text-red-500 mt-2",children:"Failed to add subcategory."})]})}const mQ=()=>{var p;const e=sv(),[t,{isLoading:n,isError:i,error:r}]=TG(),s=Zu(),[o,a]=M.useState("user1@gmail.com"),[u,d]=M.useState("password123"),h=async g=>{g.preventDefault();try{const m=await t({email:o,password:u}).unwrap(),{token:y,user:w}=m;e(oR({user:w,token:y})),localStorage.setItem("token",y),s("/dashboard")}catch(m){console.log(m)}};return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:I.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[I.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Login"}),i&&I.jsx("p",{className:"text-red-500 text-center mb-4",children:(p=r==null?void 0:r.data)==null?void 0:p.message}),I.jsxs("form",{onSubmit:h,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"email",className:"text-gray-700",children:"Email"}),I.jsx("input",{type:"email",id:"email",placeholder:"Enter your email",value:o,onChange:g=>a(g.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"password",className:"text-gray-700",children:"Password"}),I.jsx("input",{type:"password",id:"password",placeholder:"Enter your password",value:u,onChange:g=>d(g.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors",children:n?"Logging in...":"Login"})]}),I.jsx("div",{className:"mt-6 text-center",children:I.jsxs("p",{className:"text-gray-600",children:["Don't have an account?",I.jsxs("a",{href:"/register",className:"text-blue-600 hover:underline",children:[" ","Register here"]})]})})]})})},vQ=()=>{var g;const e=sv(),[t,{isLoading:n,isError:i,error:r}]=PG(),[s,o]=M.useState(""),[a,u]=M.useState(""),[d,h]=M.useState(""),p=async m=>{m.preventDefault(),alert("current user registration not working");try{const y=await t({name:s,email:a,password:d}).unwrap(),{token:w,user:x}=y;e(oR({user:x,token:w})),localStorage.setItem("token",w)}catch(y){console.log(y)}};return I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:I.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[I.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Register"}),i&&I.jsx("p",{className:"text-red-500 text-center mb-4",children:(g=r==null?void 0:r.data)==null?void 0:g.message}),I.jsxs("form",{onSubmit:p,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"name",className:"text-gray-700",children:"Full Name"}),I.jsx("input",{type:"text",id:"name",placeholder:"Enter your full name",value:s,onChange:m=>o(m.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"email",className:"text-gray-700",children:"Email"}),I.jsx("input",{type:"email",id:"email",placeholder:"Enter your email",value:a,onChange:m=>u(m.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"password",className:"text-gray-700",children:"Password"}),I.jsx("input",{type:"password",id:"password",placeholder:"Enter your password",value:d,onChange:m=>h(m.target.value),required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsx("button",{type:"submit",disabled:!0,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition-colors",children:n?"Registering...":"Register"})]}),I.jsx("div",{className:"mt-6 text-center",children:I.jsxs("p",{className:"text-gray-600",children:["Already have an account?",I.jsxs("a",{href:"/login",className:"text-blue-600 hover:underline",children:[" ","Login here"]})]})})]})})};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},u)=>M.createElement("svg",{ref:u,...bQ,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:aI("lucide",r),...a},[...o.map(([d,h])=>M.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=(e,t)=>{const n=M.forwardRef(({className:i,...r},s)=>M.createElement(CQ,{ref:s,iconNode:t,className:aI(`lucide-${yQ(e)}`,i),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],kL=ys("Box",wQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IL=ys("ChevronDown",SQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_L=ys("ChevronUp",xQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AQ=ys("Eye",RQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TQ=ys("Image",EQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],DQ=ys("List",PQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LQ=ys("LogOut",FQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],NQ=ys("Menu",MQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],kQ=ys("PackageCheck",OQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_Q=ys("Plus",IQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],HQ=ys("ShoppingBag",BQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],GQ=ys("SquarePen",jQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zQ=ys("Tag",VQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UQ=ys("UserPlus",qQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],$Q=ys("Users",WQ);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YQ=ys("X",KQ);function QQ(){const[e,t]=M.useState(()=>localStorage.getItem("isCollapsed")==="true"),[n,i]=M.useState(null);M.useEffect(()=>{localStorage.setItem("isCollapsed",e)},[e]);const r=s=>{i(o=>o===s?null:s)};return I.jsxs("div",{className:`${e?"w-16":"w-64"} min-h-screen bg-gray-800 text-white p-4 transition-all duration-300 `,children:[I.jsx("button",{className:"text-white mb-4 focus:outline-none",onClick:()=>t(!e),children:e?I.jsx(NQ,{size:24}):I.jsx(YQ,{size:24})}),!e&&I.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),I.jsxs("ul",{children:[I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard",className:"hover:text-gray-400 flex items-center",children:[" ",!e&&"Home"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/pos",className:"hover:text-gray-400 flex items-center",children:[I.jsx(HQ,{size:18,className:"mr-2"}),!e&&"Pos"]})}),I.jsxs("li",{className:"mb-2",children:[I.jsxs("button",{className:"w-full flex justify-between items-center hover:text-gray-400",onClick:()=>r("product"),children:[I.jsxs("span",{className:"flex items-center",children:[I.jsx(kL,{size:18,className:"mr-2"}),!e&&"Product"]}),!e&&(n==="product"?I.jsx(_L,{size:18}):I.jsx(IL,{size:18}))]}),!e&&n==="product"&&I.jsxs("ul",{className:"ml-4 mt-2",children:[I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/show-product",className:"hover:text-gray-400 flex items-center",children:[I.jsx(AQ,{size:18,className:"mr-2"})," Show Product"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/add-product",className:"hover:text-gray-400 flex items-center",children:[I.jsx(_Q,{size:18,className:"mr-2"})," Add Product"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/edit-product",className:"hover:text-gray-400 flex items-center",children:[I.jsx(GQ,{size:18,className:"mr-2"})," Edit Product"]})})]})]}),I.jsxs("li",{className:"mb-2",children:[I.jsxs("button",{className:"w-full flex justify-between items-center hover:text-gray-400",onClick:()=>r("category"),children:[I.jsxs("span",{className:"flex items-center",children:[I.jsx(kL,{size:18,className:"mr-2"}),!e&&"Category"]}),!e&&(n==="category"?I.jsx(_L,{size:18}):I.jsx(IL,{size:18}))]}),!e&&n==="category"&&I.jsxs("ul",{className:"ml-4 mt-2",children:[I.jsx("li",{className:"mb-2",children:I.jsx(Qi,{to:"/dashboard/add-category",className:"hover:text-gray-400",children:"Add Category"})}),I.jsx("li",{className:"mb-2",children:I.jsx(Qi,{to:"/dashboard/show-category",className:"hover:text-gray-400",children:"Show Category"})}),I.jsx("li",{className:"mb-2",children:I.jsx(Qi,{to:"/dashboard/show-subcategory",className:"hover:text-gray-400",children:"Subcategory"})}),I.jsx("li",{className:"mb-2",children:I.jsx(Qi,{to:"/dashboard/add-subcategory",className:"hover:text-gray-400",children:"Add Subcategory"})})]})]}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/users",className:"hover:text-gray-400 flex items-center",children:[I.jsx($Q,{size:18,className:"mr-2"})," ",!e&&"See All Users"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/orders",className:"hover:text-gray-400 flex items-center",children:[I.jsx(DQ,{size:18,className:"mr-2"})," ",!e&&"Order List"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/add-user",className:"hover:text-gray-400 flex items-center",children:[I.jsx(UQ,{size:18,className:"mr-2"})," ",!e&&"Add User"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/slider",className:"hover:text-gray-400 flex items-center",children:[I.jsx(TQ,{size:18,className:"mr-2"})," ",!e&&"Add Slider"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/discount",className:"hover:text-gray-400 flex items-center",children:[I.jsx(zQ,{size:18,className:"mr-2"})," ",!e&&"Add Discount"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/profit-loss",className:"hover:text-gray-400 flex items-center",children:[I.jsx(kQ,{size:18,className:"mr-2"})," ",!e&&"Loss and Profit"]})}),I.jsx("li",{className:"mb-2",children:I.jsxs(Qi,{to:"/dashboard/logout",className:"hover:text-gray-400 flex items-center",children:[I.jsx(LQ,{size:18,className:"mr-2"})," ",!e&&"Logout"]})})]})]})}function XQ(e){const[t,n]=M.useState(!0),[i,r]=M.useState(null),[s,o]=M.useState(!1),a=()=>{n(!1),o(!0)};return M.useEffect(()=>{if(!document){const p=new Error(`[ScriptLoadingError] document not defined when attempting to load ${e}`);r(p);return}const u=document.querySelector(`script[src="${e}"]`);if(u!=null&&u.dataset.loaded){a();return}const d=u||document.createElement("script");u||(d.src=e);const h=()=>{d.dataset.loaded="1",a()};d.addEventListener("load",h),d.addEventListener("error",p=>{console.error("Failed to load script:",e,p);const g=new Error(`[ScriptLoadingError] Failed to load script: ${e}`);r(g)}),u||document.head.append(d)},[]),{isLoading:t,error:i,isSuccess:s}}const ZQ=e=>e&&e.charts,BL=(e,t)=>{const{controls:n,toolbarItems:i,getChartEditor:r}=e;return t&&t.charts&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!n||t.visualization.ChartWrapper)&&(!r||t.visualization.ChartEditor)&&(!i||t.visualization.drawToolbar)},JQ=e=>window.google;function eX(e){const{chartVersion:t="current",chartPackages:n=["corechart","controls"],chartLanguage:i="en",mapsApiKey:r}=e,[s,o]=M.useState(null),[a,u]=M.useState(null),[d,h]=M.useState(null),{isLoading:p,error:g,isSuccess:m}=XQ(e.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return M.useEffect(()=>{if(!m)return;const y=JQ();if(!ZQ(y)){const w=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");u(w);return}if(BL(e,y)){o(y);return}y.charts.load(t,{packages:n,language:i,mapsApiKey:r}),y.charts.setOnLoadCallback(()=>{if(!BL(e,y)){const w=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(w),h(w);return}o(y)})},[m]),{error:g||a||d,isLoading:p,google:s}}const lI={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},tX=e=>{const{isReady:t,chartControls:n,filter:i}=e;return!t||!n||!(n!=null&&n.length)?null:ze.createElement(ze.Fragment,null,n.filter(r=>{let{controlProp:s,control:o}=r;return i?i({control:o,controlProp:s}):!0}).map(r=>{let{control:s}=r;return ze.createElement("div",{key:s.getContainerId(),id:s.getContainerId()})}))};let HL=0;const uI=()=>(HL+=1,`reactgooglegraph-${HL}`),Il=class Il{};dt(Il,"initializeControls",t=>{for(let n=0;n<t.length;n+=1){const{controlType:i,options:r,controlWrapperParams:s}=t[n].controlProp;s&&"state"in s&&t[n].control.setState(s.state),t[n].control.setOptions(r),t[n].control.setControlType(i)}}),dt(Il,"listenToControlEvents",(t,n)=>{const{google:i}=n;return t.flatMap(r=>{const{control:s,controlProp:o}=r,{controlEvents:a=[]}=o;return a.map(u=>{const{callback:d,eventName:h}=u;return i.visualization.events.addListener(s,h,function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];d({chartWrapper:null,controlWrapper:s,props:n,google:i,eventArgs:g})})})})}),dt(Il,"createControlId",t=>{let n;return typeof t>"u"?n=`googlechart-control-${uI()}`:n=t,n}),dt(Il,"createChartControls",t=>{const{controls:n,google:i}=t;return n?n.map((r,s)=>{const{controlID:o,controlType:a,options:u,controlWrapperParams:d}=r,h=Il.createControlId(o);return{controlProp:r,control:new i.visualization.ControlWrapper({containerId:h,controlType:a,options:u,...d})}}):null}),dt(Il,"addControls",t=>{const{chartWrapper:n,chartDashboard:i}=t,r=Il.createChartControls(t);return!r||!i||!n?null:(i.bind(r.map(s=>{let{control:o}=s;return o}),n),Il.initializeControls(r),r)});let Qb=Il;const nX=e=>{const[t,n]=M.useState(null);return[M.useMemo(()=>!t||!e?null:e.map((r,s)=>{const o=t[s];return o?{controlProp:r,control:o}:void 0}).flatMap(r=>r?[r]:[]),[t,e]),n]},iX=(e,t)=>{M.useEffect(()=>{const n=Qb.listenToControlEvents(e??[],t);return()=>{n.forEach(i=>{t.google.visualization.events.removeListener(i)})}},[e,t])},rX=e=>{const[t,n]=nX(e.controls);return iX(t??[],e),{addControls:r=>{const s=Qb.addControls(r);n((s==null?void 0:s.map(o=>o.control))??null)},renderControl:r=>{const{chartWrapper:s,chartDashboard:o}=e;return M.createElement(tX,{...e,isReady:!!(s&&o),chartControls:t,filter:r})}}},sX=e=>{const t=M.useRef(null);return{chartId:(()=>{const{graphID:r,graph_id:s}=e,o=r||s;let a;return o?a=o:a=t.current||uI(),t.current=a,t.current})()}},oX=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],aX=async function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((i,r)=>{const s=`${n.headers?`headers=${n.headers}`:"headers=0"}`,o=`${n.query?`&tq=${encodeURIComponent(n.query)}`:""}`,a=`${n.gid?`&gid=${n.gid}`:""}`,u=`${n.sheet?`&sheet=${n.sheet}`:""}`,d=`${n.access_token?`&access_token=${n.access_token}`:""}`,h=`${s}${a}${u}${o}${d}`,p=`${t}/gviz/tq?${h}`;new e.visualization.Query(p).send(m=>{m.isError()?r(`Error in query:  ${m.getMessage()} ${m.getDetailedMessage()}`):i(m.getDataTable())})})},lX="#CCCCCC",na=class na{};dt(na,"grayOutHiddenColumnsLabel",(t,n)=>{const{googleChartWrapper:i,options:r}=t;if(!i){console.error("googleChartWrapper is not defined");return}const s=i.getDataTable();if(!s)return;const o=s.getNumberOfColumns();if(n.length>0===!1)return;const u=Array.from({length:o-1}).map((d,h)=>{const p=na.getColumnId(s,h+1);return n.includes(p)?lX:r&&r.colors?r.colors[h]:oX[h]});i.setOptions({...r,colors:u}),i.draw()}),dt(na,"listenToLegendToggle",(t,n)=>{const[i,r]=n,{google:s,googleChartWrapper:o}=t;if(!o){console.error("googleChartWrapper is not defined");return}return s.visualization.events.addListener(o,"select",()=>{const u=o.getChart().getSelection(),d=o.getDataTable();if(u.length===0||u[0].row!==null||!d)return;const h=u[0].column,p=na.getColumnId(d,h);i!=null&&i.includes(p)?r(g=>[...g.filter(m=>m!==p)]):r(g=>[...g,p])})}),dt(na,"draw",async t=>{const{data:n,diffdata:i,rows:r,columns:s,options:o,chartType:a,formatters:u,spreadSheetUrl:d,spreadSheetQueryParameters:h,googleChartDashboard:p,googleChartWrapper:g,google:m,hiddenColumns:y,legendToggle:w,legend_toggle:x}=t;if(!g){console.error("draw was called with googleChartWrapper = null");return}let C,A=null;if(i){const B=m.visualization.arrayToDataTable(i.old),k=m.visualization.arrayToDataTable(i.new);A=m.visualization[a].prototype.computeDiff(B,k)}n?n instanceof m.visualization.DataTable?C=n:Array.isArray(n)?C=m.visualization.arrayToDataTable(n):C=new m.visualization.DataTable(n):r&&s?C=m.visualization.arrayToDataTable([s,...r]):d?C=await aX(m,d,h):C=m.visualization.arrayToDataTable([]);const E=C.getNumberOfColumns(),F=Array(E).fill(0).map((B,k)=>{const V=na.getColumnId(C,k);return y.includes(V)?{label:C.getColumnLabel(k),type:C.getColumnType(k),calc:()=>null}:k}),N=g.getChart();g.getChartType()==="Timeline"&&N&&N.clearChart(),g.setChartType(a),g.setOptions(o||{});const z=new m.visualization.DataView(C);z.setColumns(F),g.setDataTable(z),g.draw(),p&&p.draw(C),A&&(g.setDataTable(A),g.draw()),u&&(na.applyFormatters({dataTable:C,formatters:u,google:m}),g.setDataTable(C),g.draw()),(w===!0||x===!0)&&na.grayOutHiddenColumnsLabel(t,y)}),dt(na,"getColumnId",(t,n)=>t.getColumnId(n)||t.getColumnLabel(n)),dt(na,"applyFormatters",t=>{let{dataTable:n,formatters:i,google:r}=t;for(let s of i)switch(s.type){case"ArrowFormat":{new r.visualization.ArrowFormat(s.options).format(n,s.column);return}case"BarFormat":{new r.visualization.BarFormat(s.options).format(n,s.column);return}case"ColorFormat":{const o=new r.visualization.ColorFormat(s.options),{ranges:a}=s;if(a)for(let u of a)o.addRange(...u);o.format(n,s.column);return}case"DateFormat":{new r.visualization.DateFormat(s.options).format(n,s.column);return}case"NumberFormat":{new r.visualization.NumberFormat(s.options).format(n,s.column);return}case"PatternFormat":{new r.visualization.PatternFormat(s.options).format(n,s.column);return}default:{console.warn(`Unknown formatter type: ${s.type}`);return}}});let rm=na;const uX=e=>{const{google:t,googleChartWrapper:n,googleChartDashboard:i}=e,[r,s]=M.useState([]);M.useEffect(()=>{n&&rm.draw({...e,hiddenColumns:r,googleChartWrapper:n,googleChartDashboard:i,google:t})},[r,e.data,e.rows,e.columns,e.options,e.chartLoaderScriptUrl,e.chartType,e.formatters,e.spreadSheetUrl,e.spreadSheetQueryParameters,e.legendToggle,e.legend_toggle]);const o=()=>{const{googleChartWrapper:d}=e;d&&d.draw()},a=d=>{const h=[],{legendToggle:p,legend_toggle:g}=e;if(rm.draw({...e,hiddenColumns:r,googleChartWrapper:d,googleChartDashboard:i,google:t}),window.addEventListener("resize",o),g||p){const m=rm.listenToLegendToggle(e,[r,s]);m&&h.push(m)}return h},u=(d,h)=>{window.removeEventListener("resize",o),h.forEach(p=>{t.visualization.events.removeListener(p)}),d.getChartType()==="Timeline"&&d.getChart()&&d.getChart().clearChart()};M.useEffect(()=>{if(!n)return;const d=a(n);return()=>{u(n,d)}},[n,a,u])},cX=e=>{const{chartEvents:t,google:n,googleChartWrapper:i}=e;if(t){if(!i){console.warn("listenToEvents was called before chart wrapper ready.");return}return t.map(r=>{let{eventName:s,callback:o}=r;return n.visualization.events.addListener(i,s,function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];o({chartWrapper:i,props:e,google:n,eventArgs:u})})})}},dX=e=>{M.useEffect(()=>{if(!e.googleChartWrapper)return;const t=cX(e);return()=>{t==null||t.forEach(n=>{e.google.visualization.events.removeListener(n)})}},[e])},hX=e=>{const[t,n]=M.useState(null),[i,r]=M.useState(null),{addControls:s,renderControl:o}=rX({...e,chartDashboard:i,chartWrapper:t});dX({...e,googleChartWrapper:t});const{chartId:a}=sX(e),u=M.useRef(null),d=M.useRef(null);M.useEffect(()=>{const{options:C,google:A,chartType:E,chartWrapperParams:F,toolbarItems:N,getChartEditor:z,getChartWrapper:B,onLoad:k}=e,V={chartType:E,options:C,containerId:a,...F},K=new A.visualization.ChartWrapper(V);K.setOptions(C||{}),B==null||B(K,A);const T=new A.visualization.Dashboard(u.current);N&&A.visualization.drawToolbar(d.current,N);let O=null;z&&(O=new A.visualization.ChartEditor,z({chartEditor:O,chartWrapper:K,google:A})),s({...e,chartDashboard:T,chartWrapper:K}),n(K),r(T),k==null||k(A,{google:A,chartWrapper:K,chartEditor:O,chartDashboard:T})},[]),uX({...e,googleChartWrapper:t,googleChartDashboard:i});const h=()=>{const{width:C,height:A,options:E,style:F,className:N,rootProps:z,google:B}=e,k={height:A||E&&E.height,width:C||E&&E.width,...F};return M.createElement("div",{id:a,style:k,className:N,...z})},p=()=>e.toolbarItems?M.createElement("div",{ref:d}):null,{width:g,height:m,options:y,style:w}=e,x={height:m||y&&y.height,width:g||y&&y.width,...w};return e.render?M.createElement("div",{ref:u,style:x},M.createElement("div",{ref:d,id:"toolbar"}),e.render({renderChart:h,renderControl:o,renderToolbar:p})):M.createElement("div",{ref:u,style:x},o(C=>{let{controlProp:A}=C;return A.controlPosition!=="bottom"}),h(),o(C=>{let{controlProp:A}=C;return A.controlPosition==="bottom"}),p())},fX=M.createContext(lI),pX=e=>{let{children:t,value:n}=e;return M.createElement(fX.Provider,{value:n},t)},gX=e=>{const{google:t,isLoading:n,error:i}=eX(e);return n?e.loader??null:i?e.errorElement??null:t?ze.createElement(hX,{google:t,...e}):null},sm=e=>{const t={...lI,...e};return ze.createElement(pX,{value:t},ze.createElement(gX,t))};var jL;(function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"})(jL||(jL={}));const cI=M.createContext({});function mX(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const qR=M.createContext(null),dI=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function vX(e=!0){const t=M.useContext(qR);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,s=M.useId();M.useEffect(()=>{if(e)return r(s)},[e]);const o=M.useCallback(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,o]:[!0]}const UR=typeof window<"u",yX=UR?M.useLayoutEffect:M.useEffect,Do=e=>e;let hI=Do;function WR(e){let t;return()=>(t===void 0&&(t=e()),t)}const yp=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},Iu=e=>e*1e3,_u=e=>e/1e3,bX={useManualTiming:!1},Gy=["read","resolveKeyframes","update","preRender","render","postRender"],GL={value:null};function CX(e,t){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},u=0;function d(p){o.has(p)&&(h.schedule(p),e()),u++,p(a)}const h={schedule:(p,g=!1,m=!1)=>{const w=m&&r?n:i;return g&&o.add(p),w.has(p)||w.add(p),p},cancel:p=>{i.delete(p),o.delete(p)},process:p=>{if(a=p,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),t&&GL.value&&GL.value.frameloop[t].push(u),u=0,n.clear(),r=!1,s&&(s=!1,h.process(p))}};return h}const wX=40;function fI(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gy.reduce((C,A)=>(C[A]=CX(s,t?A:void 0),C),{}),{read:a,resolveKeyframes:u,update:d,preRender:h,render:p,postRender:g}=o,m=()=>{const C=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,wX),1),r.timestamp=C,r.isProcessing=!0,a.process(r),u.process(r),d.process(r),h.process(r),p.process(r),g.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(m))},y=()=>{n=!0,i=!0,r.isProcessing||e(m)};return{schedule:Gy.reduce((C,A)=>{const E=o[A];return C[A]=(F,N=!1,z=!1)=>(n||y(),E.schedule(F,N,z)),C},{}),cancel:C=>{for(let A=0;A<Gy.length;A++)o[Gy[A]].cancel(C)},state:r,steps:o}}const{schedule:ni,cancel:ad,state:Ur,steps:qS}=fI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Do,!0),pI=M.createContext({strict:!1}),VL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bp={};for(const e in VL)bp[e]={isEnabled:t=>VL[e].some(n=>!!t[n])};function SX(e){for(const t in e)bp[t]={...bp[t],...e[t]}}const xX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xX.has(e)}let gI=e=>!Xb(e);function RX(e){e&&(gI=t=>t.startsWith("on")?!Xb(t):e(t))}try{RX(require("@emotion/is-prop-valid").default)}catch{}function AX(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(gI(r)||n===!0&&Xb(r)||!t&&!Xb(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function EX(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const n0=M.createContext({});function i0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hm(e){return typeof e=="string"||Array.isArray(e)}const $R=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KR=["initial",...$R];function r0(e){return i0(e.animate)||KR.some(t=>Hm(e[t]))}function mI(e){return!!(r0(e)||e.variants)}function TX(e,t){if(r0(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Hm(n)?n:void 0,animate:Hm(i)?i:void 0}}return e.inherit!==!1?t:{}}function PX(e){const{initial:t,animate:n}=TX(e,M.useContext(n0));return M.useMemo(()=>({initial:t,animate:n}),[zL(t),zL(n)])}function zL(e){return Array.isArray(e)?e.join(" "):e}const DX=Symbol.for("motionComponentSymbol");function Gf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function FX(e,t,n){return M.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Gf(n)&&(n.current=i))},[t])}const YR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LX="framerAppearId",vI="data-"+YR(LX),{schedule:QR}=fI(queueMicrotask,!1),yI=M.createContext({});function MX(e,t,n,i,r){var s,o;const{visualElement:a}=M.useContext(n0),u=M.useContext(pI),d=M.useContext(qR),h=M.useContext(dI).reducedMotion,p=M.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,m=M.useContext(yI);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&NX(p.current,n,r,m);const y=M.useRef(!1);M.useInsertionEffect(()=>{g&&y.current&&g.update(n,d)});const w=n[vI],x=M.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return yX(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),QR.render(g.render),x.current&&g.animationState&&g.animationState.animateChanges())}),M.useEffect(()=>{g&&(!x.current&&g.animationState&&g.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,w)}),x.current=!1))}),g}function NX(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bI(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Gf(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:d})}function bI(e){if(e)return e.options.allowProjection!==!1?e.projection:bI(e.parent)}function OX({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var s,o;e&&SX(e);function a(d,h){let p;const g={...M.useContext(dI),...d,layoutId:kX(d)},{isStatic:m}=g,y=PX(d),w=i(d,m);if(!m&&UR){IX();const x=_X(g);p=x.MeasureLayout,y.visualElement=MX(r,w,g,t,x.ProjectionNode)}return I.jsxs(n0.Provider,{value:y,children:[p&&y.visualElement?I.jsx(p,{visualElement:y.visualElement,...g}):null,n(r,d,FX(w,y.visualElement,h),w,m,y.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const u=M.forwardRef(a);return u[DX]=r,u}function kX({layoutId:e}){const t=M.useContext(cI).id;return t&&e!==void 0?t+"-"+e:e}function IX(e,t){M.useContext(pI).strict}function _X(e){const{drag:t,layout:n}=bp;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const CI=e=>t=>typeof t=="string"&&t.startsWith(e),XR=CI("--"),BX=CI("var(--"),ZR=e=>BX(e)?HX.test(e.split("/*")[0].trim()):!1,HX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jm={};function jX(e){for(const t in e)jm[t]=e[t],XR(t)&&(jm[t].isCSSVariable=!0)}const Ip=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hh=new Set(Ip);function wI(e,{layout:t,layoutId:n}){return Hh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!jm[e]||e==="opacity")}const ms=e=>!!(e&&e.getVelocity),SI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wu=(e,t,n)=>n>t?t:n<e?e:n,_p={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gm={..._p,transform:e=>Wu(0,1,e)},Vy={..._p,default:1},bv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$c=bv("deg"),Gl=bv("%"),jt=bv("px"),GX=bv("vh"),VX=bv("vw"),qL={...Gl,parse:e=>Gl.parse(e)/100,transform:e=>Gl.transform(e*100)},zX={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},qX={rotate:$c,rotateX:$c,rotateY:$c,rotateZ:$c,scale:Vy,scaleX:Vy,scaleY:Vy,scaleZ:Vy,skew:$c,skewX:$c,skewY:$c,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:Gm,originX:qL,originY:qL,originZ:jt},UL={..._p,transform:Math.round},JR={...zX,...qX,zIndex:UL,size:jt,fillOpacity:Gm,strokeOpacity:Gm,numOctaves:UL},UX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WX=Ip.length;function $X(e,t,n){let i="",r=!0;for(let s=0;s<WX;s++){const o=Ip[s],a=e[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const d=SI(a,JR[o]);if(!u){r=!1;const h=UX[o]||o;i+=`${h}(${d}) `}n&&(t[o]=d)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function eA(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const u in t){const d=t[u];if(Hh.has(u)){o=!0;continue}else if(XR(u)){r[u]=d;continue}else{const h=SI(d,JR[u]);u.startsWith("origin")?(a=!0,s[u]=h):i[u]=h}}if(t.transform||(o||n?i.transform=$X(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;i.transformOrigin=`${u} ${d} ${h}`}}const tA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xI(e,t,n){for(const i in t)!ms(t[i])&&!wI(i,n)&&(e[i]=t[i])}function KX({transformTemplate:e},t){return M.useMemo(()=>{const n=tA();return eA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function YX(e,t){const n=e.style||{},i={};return xI(i,n,e),Object.assign(i,KX(e,t)),i}function QX(e,t){const n={},i=YX(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const XX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nA(e){return typeof e!="string"||e.includes("-")?!1:!!(XX.indexOf(e)>-1||/[A-Z]/u.test(e))}const ZX={offset:"stroke-dashoffset",array:"stroke-dasharray"},JX={offset:"strokeDashoffset",array:"strokeDasharray"};function eZ(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?ZX:JX;e[s.offset]=jt.transform(-i);const o=jt.transform(t),a=jt.transform(n);e[s.array]=`${o} ${a}`}function WL(e,t,n){return typeof e=="string"?e:jt.transform(t+n*e)}function tZ(e,t,n){const i=WL(t,e.x,e.width),r=WL(n,e.y,e.height);return`${i} ${r}`}function iA(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},h,p){if(eA(e,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m,dimensions:y}=e;g.transform&&(y&&(m.transform=g.transform),delete g.transform),y&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=tZ(y,r!==void 0?r:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),o!==void 0&&eZ(g,o,a,u,!1)}const RI=()=>({...tA(),attrs:{}}),rA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nZ(e,t,n,i){const r=M.useMemo(()=>{const s=RI();return iA(s,t,rA(i),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};xI(s,e.style,e),r.style={...s,...r.style}}return r}function iZ(e=!1){return(n,i,r,{latestValues:s},o)=>{const u=(nA(n)?nZ:QX)(i,s,o,n),d=AX(i,typeof n=="string",e),h=n!==M.Fragment?{...d,...u,ref:r}:{},{children:p}=i,g=M.useMemo(()=>ms(p)?p.get():p,[p]);return M.createElement(n,{...h,children:g})}}function $L(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function sA(e,t,n,i){if(typeof t=="function"){const[r,s]=$L(i);t=t(n!==void 0?n:e.custom,r,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,s]=$L(i);t=t(n!==void 0?n:e.custom,r,s)}return t}const _x=e=>Array.isArray(e),rZ=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),sZ=e=>_x(e)?e[e.length-1]||0:e;function Sb(e){const t=ms(e)?e.get():e;return rZ(t)?t.toValue():t}function oZ({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,s){const o={latestValues:aZ(i,r,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const AI=e=>(t,n)=>{const i=M.useContext(n0),r=M.useContext(qR),s=()=>oZ(e,t,i,r);return n?s():mX(s)};function aZ(e,t,n,i){const r={},s=i(e,{});for(const g in s)r[g]=Sb(s[g]);let{initial:o,animate:a}=e;const u=r0(e),d=mI(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!i0(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const y=sA(e,g[m]);if(y){const{transitionEnd:w,transition:x,...C}=y;for(const A in C){let E=C[A];if(Array.isArray(E)){const F=h?E.length-1:0;E=E[F]}E!==null&&(r[A]=E)}for(const A in w)r[A]=w[A]}}}return r}function oA(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(ms(r[o])||t.style&&ms(t.style[o])||wI(o,e)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const lZ={useVisualState:AI({scrapeMotionValuesFromProps:oA,createRenderState:tA})};function EI(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function TI(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const s in n)e.style.setProperty(s,n[s])}const PI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DI(e,t,n,i){TI(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(PI.has(r)?r:YR(r),t.attrs[r])}function FI(e,t,n){const i=oA(e,t,n);for(const r in e)if(ms(e[r])||ms(t[r])){const s=Ip.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=e[r]}return i}const KL=["x","y","width","height","cx","cy","r"],uZ={useVisualState:AI({scrapeMotionValuesFromProps:FI,createRenderState:RI,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in r)if(Hh.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<KL.length;a++){const u=KL[a];e[u]!==t[u]&&(o=!0)}o&&ni.read(()=>{EI(n,i),ni.render(()=>{iA(i,r,rA(n.tagName),e.transformTemplate),DI(n,i)})})}})};function cZ(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...nA(i)?uZ:lZ,preloadedFeatures:e,useRender:iZ(r),createVisualElement:t,Component:i};return OX(o)}}function Vm(e,t,n){const i=e.getProps();return sA(i,t,n!==void 0?n:i.custom,e)}const dZ=WR(()=>window.ScrollTimeline!==void 0);class hZ{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(dZ()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fZ extends hZ{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function aA(e,t){return e?e[t]||e.default||e:void 0}const Bx=2e4;function LI(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Bx;)t+=n,i=e.next(t);return t>=Bx?1/0:t}function lA(e){return typeof e=="function"}function YL(e,t){e.timeline=t,e.onfinish=null}const uA=e=>Array.isArray(e)&&typeof e[0]=="number",pZ={linearEasing:void 0};function gZ(e,t){const n=WR(e);return()=>{var i;return(i=pZ[t])!==null&&i!==void 0?i:n()}}const Zb=gZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MI=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=e(yp(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function NI(e){return!!(typeof e=="function"&&Zb()||!e||typeof e=="string"&&(e in Hx||Zb())||uA(e)||Array.isArray(e)&&e.every(NI))}const Yg=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Hx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yg([0,.65,.55,1]),circOut:Yg([.55,0,1,.45]),backIn:Yg([.31,.01,.66,-.59]),backOut:Yg([.33,1.53,.69,.99])};function OI(e,t){if(e)return typeof e=="function"&&Zb()?MI(e,t):uA(e)?Yg(e):Array.isArray(e)?e.map(n=>OI(n,t)||Hx.easeOut):Hx[e]}const Ha={x:!1,y:!1};function kI(){return Ha.x||Ha.y}function mZ(e,t,n){var i;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function II(e,t){const n=mZ(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function QL(e){return!(e.pointerType==="touch"||kI())}function vZ(e,t,n={}){const[i,r,s]=II(e,n),o=a=>{if(!QL(a))return;const{target:u}=a,d=t(u,a);if(typeof d!="function"||!u)return;const h=p=>{QL(p)&&(d(p),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}function om(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&e.pointerId!==void 0)try{e.target[n](e.pointerId)}catch{}}const _I=(e,t)=>t?e===t?!0:_I(e,t.parentElement):!1,cA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bZ(e){return yZ.has(e.tagName)||e.tabIndex!==-1}const Qg=new WeakSet;function XL(e){return t=>{t.key==="Enter"&&e(t)}}function US(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CZ=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=XL(()=>{if(Qg.has(n))return;US(n,"down");const r=XL(()=>{US(n,"up")}),s=()=>US(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function ZL(e){return cA(e)&&!kI()}function wZ(e,t,n={}){const[i,r,s]=II(e,n),o=a=>{const u=a.currentTarget;if(!u||!ZL(a)||Qg.has(u))return;Qg.add(u),om(a,"set");const d=t(u,a),h=(m,y)=>{u.removeEventListener("pointerup",p),u.removeEventListener("pointercancel",g),om(m,"release"),!(!ZL(m)||!Qg.has(u))&&(Qg.delete(u),typeof d=="function"&&d(m,{success:y}))},p=m=>{(m.isTrusted?SZ(m,u instanceof Element?u.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?h(m,!1):h(m,!(u instanceof Element)||_I(u,m.target))},g=m=>{h(m,!1)};u.addEventListener("pointerup",p,r),u.addEventListener("pointercancel",g,r),u.addEventListener("lostpointercapture",g,r)};return i.forEach(a=>{a=n.useGlobalTarget?window:a;let u=!1;a instanceof HTMLElement&&(u=!0,!bZ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,r),u&&a.addEventListener("focus",d=>CZ(d,r),r)}),s}function SZ(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function xZ(e){return e==="x"||e==="y"?Ha[e]?null:(Ha[e]=!0,()=>{Ha[e]=!1}):Ha.x||Ha.y?null:(Ha.x=Ha.y=!0,()=>{Ha.x=Ha.y=!1})}const BI=new Set(["width","height","top","left","right","bottom",...Ip]);let xb;function RZ(){xb=void 0}const Vl={now:()=>(xb===void 0&&Vl.set(Ur.isProcessing||bX.useManualTiming?Ur.timestamp:performance.now()),xb),set:e=>{xb=e,queueMicrotask(RZ)}};function dA(e,t){e.indexOf(t)===-1&&e.push(t)}function hA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fA{constructor(){this.subscriptions=[]}add(t){return dA(this.subscriptions,t),()=>hA(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HI(e,t){return t?e*(1e3/t):0}const JL=30,AZ=e=>!isNaN(parseFloat(e));class EZ{constructor(t,n={}){this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Vl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Vl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AZ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new fA);const i=this.events[t].add(n);return t==="change"?()=>{i(),ni.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>JL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JL);return HI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zm(e,t){return new EZ(e,t)}function TZ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zm(n))}function PZ(e,t){const n=Vm(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=sZ(s[o]);TZ(e,o,a)}}function DZ(e){return!!(ms(e)&&e.add)}function jx(e,t){const n=e.getValue("willChange");if(DZ(n))return n.add(t)}function jI(e){return e.props[vI]}const GI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FZ=1e-7,LZ=12;function MZ(e,t,n,i,r){let s,o,a=0;do o=t+(n-t)/2,s=GI(o,i,r)-e,s>0?n=o:t=o;while(Math.abs(s)>FZ&&++a<LZ);return o}function Cv(e,t,n,i){if(e===t&&n===i)return Do;const r=s=>MZ(s,0,1,e,n);return s=>s===0||s===1?s:GI(r(s),t,i)}const VI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zI=e=>t=>1-e(1-t),qI=Cv(.33,1.53,.69,.99),pA=zI(qI),UI=VI(pA),WI=e=>(e*=2)<1?.5*pA(e):.5*(2-Math.pow(2,-10*(e-1))),gA=e=>1-Math.sin(Math.acos(e)),$I=zI(gA),KI=VI(gA),YI=e=>/^0[^.\s]+$/u.test(e);function NZ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YI(e):!0}const am=e=>Math.round(e*1e5)/1e5,mA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OZ(e){return e==null}const kZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vA=(e,t)=>n=>!!(typeof n=="string"&&kZ.test(n)&&n.startsWith(e)||t&&!OZ(n)&&Object.prototype.hasOwnProperty.call(n,t)),QI=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(mA);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},IZ=e=>Wu(0,255,e),WS={..._p,transform:e=>Math.round(IZ(e))},ah={test:vA("rgb","red"),parse:QI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+WS.transform(e)+", "+WS.transform(t)+", "+WS.transform(n)+", "+am(Gm.transform(i))+")"};function _Z(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Gx={test:vA("#"),parse:_Z,transform:ah.transform},Vf={test:vA("hsl","hue"),parse:QI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Gl.transform(am(t))+", "+Gl.transform(am(n))+", "+am(Gm.transform(i))+")"},hs={test:e=>ah.test(e)||Gx.test(e)||Vf.test(e),parse:e=>ah.test(e)?ah.parse(e):Vf.test(e)?Vf.parse(e):Gx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ah.transform(e):Vf.transform(e)},BZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HZ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(mA))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(BZ))===null||n===void 0?void 0:n.length)||0)>0}const XI="number",ZI="color",jZ="var",GZ="var(",eM="${}",VZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qm(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(VZ,u=>(hs.test(u)?(i.color.push(s),r.push(ZI),n.push(hs.parse(u))):u.startsWith(GZ)?(i.var.push(s),r.push(jZ),n.push(u)):(i.number.push(s),r.push(XI),n.push(parseFloat(u))),++s,eM)).split(eM);return{values:n,split:a,indexes:i,types:r}}function JI(e){return qm(e).values}function e4(e){const{split:t,types:n}=qm(e),i=t.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=t[o],r[o]!==void 0){const a=n[o];a===XI?s+=am(r[o]):a===ZI?s+=hs.transform(r[o]):s+=r[o]}return s}}const zZ=e=>typeof e=="number"?0:e;function qZ(e){const t=JI(e);return e4(e)(t.map(zZ))}const ld={test:HZ,parse:JI,createTransformer:e4,getAnimatableNone:qZ},UZ=new Set(["brightness","contrast","saturate","opacity"]);function WZ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(mA)||[];if(!i)return e;const r=n.replace(i,"");let s=UZ.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const $Z=/\b([a-z-]*)\(.*?\)/gu,Vx={...ld,getAnimatableNone:e=>{const t=e.match($Z);return t?t.map(WZ).join(" "):e}},KZ={...JR,color:hs,backgroundColor:hs,outlineColor:hs,fill:hs,stroke:hs,borderColor:hs,borderTopColor:hs,borderRightColor:hs,borderBottomColor:hs,borderLeftColor:hs,filter:Vx,WebkitFilter:Vx},yA=e=>KZ[e];function t4(e,t){let n=yA(e);return n!==Vx&&(n=ld),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YZ=new Set(["auto","none","0"]);function QZ(e,t,n){let i=0,r;for(;i<e.length&&!r;){const s=e[i];typeof s=="string"&&!YZ.has(s)&&qm(s).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=t4(n,r)}const tM=e=>e===_p||e===jt,nM=(e,t)=>parseFloat(e.split(", ")[t]),iM=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return nM(r[1],t);{const s=i.match(/^matrix\((.+)\)$/u);return s?nM(s[1],e):0}},XZ=new Set(["x","y","z"]),ZZ=Ip.filter(e=>!XZ.has(e));function JZ(e){const t=[];return ZZ.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Cp={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:iM(4,13),y:iM(5,14)};Cp.translateX=Cp.x;Cp.translateY=Cp.y;const dh=new Set;let zx=!1,qx=!1;function n4(){if(qx){const e=Array.from(dh).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=JZ(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}qx=!1,zx=!1,dh.forEach(e=>e.complete()),dh.clear()}function i4(){dh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(qx=!0)})}function eJ(){i4(),n4()}class bA{constructor(t,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dh.add(this),zx||(zx=!0,ni.read(i4),ni.resolveKeyframes(n4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const u=i.readValue(n,a);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=a),r&&o===void 0&&r.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nJ(e){const t=tJ.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function s4(e,t,n=1){const[i,r]=nJ(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const o=s.trim();return r4(o)?parseFloat(o):o}return ZR(r)?s4(r,t,n+1):r}const o4=e=>t=>t.test(e),iJ={test:e=>e==="auto",parse:e=>e},a4=[_p,jt,Gl,$c,VX,GX,iJ],rM=e=>a4.find(o4(e));class l4 extends bA{constructor(t,n,i,r,s){super(t,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),ZR(d))){const h=s4(d,n.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!BI.has(i)||t.length!==2)return;const[r,s]=t,o=rM(r),a=rM(s);if(o!==a)if(tM(o)&&tM(a))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)NZ(t[r])&&i.push(r);i.length&&QZ(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cp[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Cp[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const sM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ld.test(e)||e==="0")&&!e.startsWith("url("));function rJ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sJ(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=sM(r,t),a=sM(s,t);return!o||!a?!1:rJ(e)||(n==="spring"||lA(n))&&i}const oJ=e=>e!==null;function s0(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(oJ),s=t&&n!=="loop"&&t%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const aJ=40;class u4{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vl.now(),this.options={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aJ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eJ(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Vl.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:u,isGenerator:d}=this.options;if(!d&&!sJ(t,i,r,s))if(o)this.options.duration=0;else{u&&u(s0(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ti=(e,t,n)=>e+(t-e)*n;function $S(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lJ({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,s=0,o=0;if(!t)r=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;r=$S(u,a,e+1/3),s=$S(u,a,e),o=$S(u,a,e-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Jb(e,t){return n=>n>0?t:e}const KS=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},uJ=[Gx,ah,Vf],cJ=e=>uJ.find(t=>t.test(e));function oM(e){const t=cJ(e);if(!t)return!1;let n=t.parse(e);return t===Vf&&(n=lJ(n)),n}const aM=(e,t)=>{const n=oM(e),i=oM(t);if(!n||!i)return Jb(e,t);const r={...n};return s=>(r.red=KS(n.red,i.red,s),r.green=KS(n.green,i.green,s),r.blue=KS(n.blue,i.blue,s),r.alpha=Ti(n.alpha,i.alpha,s),ah.transform(r))},dJ=(e,t)=>n=>t(e(n)),wv=(...e)=>e.reduce(dJ),Ux=new Set(["none","hidden"]);function hJ(e,t){return Ux.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fJ(e,t){return n=>Ti(e,t,n)}function CA(e){return typeof e=="number"?fJ:typeof e=="string"?ZR(e)?Jb:hs.test(e)?aM:mJ:Array.isArray(e)?c4:typeof e=="object"?hs.test(e)?aM:pJ:Jb}function c4(e,t){const n=[...e],i=n.length,r=e.map((s,o)=>CA(s)(s,t[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function pJ(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=CA(e[r])(e[r],t[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function gJ(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],u=(n=e.values[a])!==null&&n!==void 0?n:0;i[s]=u,r[o]++}return i}const mJ=(e,t)=>{const n=ld.createTransformer(t),i=qm(e),r=qm(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Ux.has(e)&&!r.values.length||Ux.has(t)&&!i.values.length?hJ(e,t):wv(c4(gJ(i,r),r.values),n):Jb(e,t)};function d4(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ti(e,t,n):CA(e)(e,t)}const vJ=5;function h4(e,t,n){const i=Math.max(t-vJ,0);return HI(n-e(i),t-i)}const Vi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lM=.001;function yJ({duration:e=Vi.duration,bounce:t=Vi.bounce,velocity:n=Vi.velocity,mass:i=Vi.mass}){let r,s,o=1-t;o=Wu(Vi.minDamping,Vi.maxDamping,o),e=Wu(Vi.minDuration,Vi.maxDuration,_u(e)),o<1?(r=d=>{const h=d*o,p=h*e,g=h-n,m=Wx(d,o),y=Math.exp(-p);return lM-g/m*y},s=d=>{const p=d*o*e,g=p*n+n,m=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-p),w=Wx(Math.pow(d,2),o);return(-r(d)+lM>0?-1:1)*((g-m)*y)/w}):(r=d=>{const h=Math.exp(-d*e),p=(d-n)*e+1;return-.001+h*p},s=d=>{const h=Math.exp(-d*e),p=(n-d)*(e*e);return h*p});const a=5/e,u=CJ(r,s,a);if(e=Iu(e),isNaN(u))return{stiffness:Vi.stiffness,damping:Vi.damping,duration:e};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:e}}}const bJ=12;function CJ(e,t,n){let i=n;for(let r=1;r<bJ;r++)i=i-e(i)/t(i);return i}function Wx(e,t){return e*Math.sqrt(1-t*t)}const wJ=["duration","bounce"],SJ=["stiffness","damping","mass"];function uM(e,t){return t.some(n=>e[n]!==void 0)}function xJ(e){let t={velocity:Vi.velocity,stiffness:Vi.stiffness,damping:Vi.damping,mass:Vi.mass,isResolvedFromDuration:!1,...e};if(!uM(e,SJ)&&uM(e,wJ))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Wu(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Vi.mass,stiffness:r,damping:s}}else{const n=yJ(e);t={...t,...n,mass:Vi.mass},t.isResolvedFromDuration=!0}return t}function f4(e=Vi.visualDuration,t=Vi.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:p,velocity:g,isResolvedFromDuration:m}=xJ({...n,velocity:-_u(n.velocity||0)}),y=g||0,w=d/(2*Math.sqrt(u*h)),x=o-s,C=_u(Math.sqrt(u/h)),A=Math.abs(x)<5;i||(i=A?Vi.restSpeed.granular:Vi.restSpeed.default),r||(r=A?Vi.restDelta.granular:Vi.restDelta.default);let E;if(w<1){const N=Wx(C,w);E=z=>{const B=Math.exp(-w*C*z);return o-B*((y+w*C*x)/N*Math.sin(N*z)+x*Math.cos(N*z))}}else if(w===1)E=N=>o-Math.exp(-C*N)*(x+(y+C*x)*N);else{const N=C*Math.sqrt(w*w-1);E=z=>{const B=Math.exp(-w*C*z),k=Math.min(N*z,300);return o-B*((y+w*C*x)*Math.sinh(k)+N*x*Math.cosh(k))/N}}const F={calculatedDuration:m&&p||null,next:N=>{const z=E(N);if(m)a.done=N>=p;else{let B=0;w<1&&(B=N===0?Iu(y):h4(E,N,z));const k=Math.abs(B)<=i,V=Math.abs(o-z)<=r;a.done=k&&V}return a.value=a.done?o:z,a},toString:()=>{const N=Math.min(LI(F),Bx),z=MI(B=>F.next(N*B).value,N,30);return N+"ms "+z}};return F}function cM({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:d=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},m=k=>a!==void 0&&k<a||u!==void 0&&k>u,y=k=>a===void 0?u:u===void 0||Math.abs(a-k)<Math.abs(u-k)?a:u;let w=n*t;const x=p+w,C=o===void 0?x:o(x);C!==x&&(w=C-p);const A=k=>-w*Math.exp(-k/i),E=k=>C+A(k),F=k=>{const V=A(k),K=E(k);g.done=Math.abs(V)<=d,g.value=g.done?C:K};let N,z;const B=k=>{m(g.value)&&(N=k,z=f4({keyframes:[g.value,y(g.value)],velocity:h4(E,k,g.value),damping:r,stiffness:s,restDelta:d,restSpeed:h}))};return B(0),{calculatedDuration:null,next:k=>{let V=!1;return!z&&N===void 0&&(V=!0,F(k),B(k)),N!==void 0&&k>=N?z.next(k-N):(!V&&F(k),g)}}}const RJ=Cv(.42,0,1,1),AJ=Cv(0,0,.58,1),p4=Cv(.42,0,.58,1),EJ=e=>Array.isArray(e)&&typeof e[0]!="number",TJ={linear:Do,easeIn:RJ,easeInOut:p4,easeOut:AJ,circIn:gA,circInOut:KI,circOut:$I,backIn:pA,backInOut:UI,backOut:qI,anticipate:WI},dM=e=>{if(uA(e)){hI(e.length===4);const[t,n,i,r]=e;return Cv(t,n,i,r)}else if(typeof e=="string")return TJ[e];return e};function PJ(e,t,n){const i=[],r=n||d4,s=e.length-1;for(let o=0;o<s;o++){let a=r(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Do:t;a=wv(u,a)}i.push(a)}return i}function DJ(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(hI(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=PJ(t,i,r),u=a.length,d=h=>{if(o&&h<e[0])return t[0];let p=0;if(u>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=yp(e[p],e[p+1],h);return a[p](g)};return n?h=>d(Wu(e[0],e[s-1],h)):d}function FJ(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=yp(0,t,i);e.push(Ti(n,1,r))}}function LJ(e){const t=[0];return FJ(t,e.length-1),t}function MJ(e,t){return e.map(n=>n*t)}function NJ(e,t){return e.map(()=>t||p4).splice(0,e.length-1)}function eC({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=EJ(i)?i.map(dM):dM(i),s={done:!1,value:t[0]},o=MJ(n&&n.length===t.length?n:LJ(t),e),a=DJ(o,t,{ease:Array.isArray(r)?r:NJ(t,r)});return{calculatedDuration:e,next:u=>(s.value=a(u),s.done=u>=e,s)}}const OJ=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ni.update(t,!0),stop:()=>ad(t),now:()=>Ur.isProcessing?Ur.timestamp:Vl.now()}},kJ={decay:cM,inertia:cM,tween:eC,keyframes:eC,spring:f4},IJ=e=>e/100;class wA extends u4{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||bA,a=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=lA(n)?n:kJ[n]||eC;let u,d;a!==eC&&typeof t[0]!="number"&&(u=wv(IJ,d4(t[0],t[1])),t=[0,100]);const h=a({...this.options,keyframes:t});s==="mirror"&&(d=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=LI(h));const{calculatedDuration:p}=h,g=p+r,m=g*(i+1)-r;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:d,totalDuration:h,resolvedDuration:p}=i;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:y,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-g*(this.speed>=0?1:-1),A=this.speed>=0?C<0:C>h;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,F=s;if(m){const k=Math.min(this.currentTime,h)/p;let V=Math.floor(k),K=k%1;!K&&k>=1&&(K=1),K===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(y==="reverse"?(K=1-K,w&&(K-=w/p)):y==="mirror"&&(F=o)),E=Wu(0,1,K)*p}const N=A?{done:!1,value:u[0]}:F.next(E);a&&(N.value=a(N.value));let{done:z}=N;!A&&d!==null&&(z=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return B&&r!==void 0&&(N.value=s0(u,this.options,r)),x&&x(N.value),B&&this.finish(),N}get duration(){const{resolved:t}=this;return t?_u(t.calculatedDuration):0}get time(){return _u(this.currentTime)}set time(t){t=Iu(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_u(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=OJ,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const _J=new Set(["opacity","clipPath","filter","transform"]);function BJ(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const h=OI(a,r);return Array.isArray(h)&&(d.easing=h),e.animate(d,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const HJ=WR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tC=10,jJ=2e4;function GJ(e){return lA(e.type)||e.type==="spring"||!NI(e.ease)}function VJ(e,t){const n=new wA({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let s=0;for(;!i.done&&s<jJ;)i=n.sample(s),r.push(i.value),s+=tC;return{times:void 0,keyframes:r,duration:s-tC,ease:"linear"}}const g4={anticipate:WI,backInOut:UI,circInOut:KI};function zJ(e){return e in g4}class hM extends u4{constructor(t){super(t);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new l4(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:u,startTime:d}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Zb()&&zJ(s)&&(s=g4[s]),GJ(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:y,...w}=this.options,x=VJ(t,w);t=x.keyframes,t.length===1&&(t[1]=t[0]),i=x.duration,r=x.times,s=x.ease,o="keyframes"}const h=BJ(a.owner.current,u,t,{...this.options,duration:i,times:r,ease:s});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(YL(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;a.set(s0(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:r,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return _u(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return _u(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Iu(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Do;const{animation:i}=n;YL(i,t)}return Do}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:p,element:g,...m}=this.options,y=new wA({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),w=Iu(this.time);d.setWithVelocity(y.sample(w-tC).value,y.sample(w).value,tC)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return HJ()&&i&&_J.has(i)&&!u&&!d&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const qJ={type:"spring",stiffness:500,damping:25,restSpeed:10},UJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WJ={type:"keyframes",duration:.8},$J={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KJ=(e,{keyframes:t})=>t.length>2?WJ:Hh.has(e)?e.startsWith("scale")?UJ(t[1]):qJ:$J;function YJ({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const SA=(e,t,n,i={},r,s)=>o=>{const a=aA(i,e)||{},u=a.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Iu(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r};YJ(a)||(h={...h,...KJ(e,h)}),h.duration&&(h.duration=Iu(h.duration)),h.repeatDelay&&(h.repeatDelay=Iu(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=s0(h.keyframes,a);if(g!==void 0)return ni.update(()=>{h.onUpdate(g),h.onComplete()}),new fZ([])}return!s&&hM.supports(h)?new hM(h):new wA(h)};function QJ({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function m4(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...u}=t;i&&(o=i);const d=[],h=r&&e.animationState&&e.animationState.getState()[r];for(const p in u){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),m=u[p];if(m===void 0||h&&QJ(h,p))continue;const y={delay:n,...aA(o||{},p)};let w=!1;if(window.MotionHandoffAnimation){const C=jI(e);if(C){const A=window.MotionHandoffAnimation(C,p,ni);A!==null&&(y.startTime=A,w=!0)}}jx(e,p),g.start(SA(p,g,m,e.shouldReduceMotion&&BI.has(p)?{type:!1}:y,e,w));const x=g.animation;x&&d.push(x)}return a&&Promise.all(d).then(()=>{ni.update(()=>{a&&PZ(e,a)})}),d}function $x(e,t,n={}){var i;const r=Vm(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(m4(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return XJ(e,t,h+d,p,g,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[o,a]:[a,o];return d().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function XJ(e,t,n=0,i=0,r=1,s){const o=[],a=(e.variantChildren.size-1)*i,u=r===1?(d=0)=>d*i:(d=0)=>a-d*i;return Array.from(e.variantChildren).sort(ZJ).forEach((d,h)=>{d.notify("AnimationStart",t),o.push($x(d,t,{...s,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function ZJ(e,t){return e.sortNodePosition(t)}function JJ(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(s=>$x(e,s,n));i=Promise.all(r)}else if(typeof t=="string")i=$x(e,t,n);else{const r=typeof t=="function"?Vm(e,t,n.custom):t;i=Promise.all(m4(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function v4(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const eee=KR.length;function y4(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?y4(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<eee;n++){const i=KR[n],r=e.props[i];(Hm(r)||r===!1)&&(t[i]=r)}return t}const tee=[...$R].reverse(),nee=$R.length;function iee(e){return t=>Promise.all(t.map(({animation:n,options:i})=>JJ(e,n,i)))}function ree(e){let t=iee(e),n=fM(),i=!0;const r=u=>(d,h)=>{var p;const g=Vm(e,h,u==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:y,...w}=g;d={...d,...w,...y}}return d};function s(u){t=u(e)}function o(u){const{props:d}=e,h=y4(e.parent)||{},p=[],g=new Set;let m={},y=1/0;for(let x=0;x<nee;x++){const C=tee[x],A=n[C],E=d[C]!==void 0?d[C]:h[C],F=Hm(E),N=C===u?A.isActive:null;N===!1&&(y=x);let z=E===h[C]&&E!==d[C]&&F;if(z&&i&&e.manuallyAnimateOnMount&&(z=!1),A.protectedKeys={...m},!A.isActive&&N===null||!E&&!A.prevProp||i0(E)||typeof E=="boolean")continue;const B=see(A.prevProp,E);let k=B||C===u&&A.isActive&&!z&&F||x>y&&F,V=!1;const K=Array.isArray(E)?E:[E];let T=K.reduce(r(C),{});N===!1&&(T={});const{prevResolvedValues:O={}}=A,H={...O,...T},q=W=>{k=!0,g.has(W)&&(V=!0,g.delete(W)),A.needsAnimating[W]=!0;const Q=e.getValue(W);Q&&(Q.liveStyle=!1)};for(const W in H){const Q=T[W],ue=O[W];if(m.hasOwnProperty(W))continue;let U=!1;_x(Q)&&_x(ue)?U=!v4(Q,ue):U=Q!==ue,U?Q!=null?q(W):g.add(W):Q!==void 0&&g.has(W)?q(W):A.protectedKeys[W]=!0}A.prevProp=E,A.prevResolvedValues=T,A.isActive&&(m={...m,...T}),i&&e.blockInitialAnimation&&(k=!1),k&&(!(z&&B)||V)&&p.push(...K.map(W=>({animation:W,options:{type:C}})))}if(g.size){const x={};if(typeof d.initial!="boolean"){const C=Vm(e,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(x.transition=C.transition)}g.forEach(C=>{const A=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),x[C]=A??null}),p.push({animation:x})}let w=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(p):Promise.resolve()}function a(u,d){var h;if(n[u].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(u,d)}),n[u].isActive=d;const p=o(u);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fM(),i=!0}}}function see(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!v4(t,e):!1}function Zd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fM(){return{animate:Zd(!0),whileInView:Zd(),whileHover:Zd(),whileTap:Zd(),whileDrag:Zd(),whileFocus:Zd(),exit:Zd()}}class md{constructor(t){this.isMounted=!1,this.node=t}update(){}}class oee extends md{constructor(t){super(t),t.animationState||(t.animationState=ree(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();i0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let aee=0;class lee extends md{constructor(){super(...arguments),this.id=aee++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uee={animation:{Feature:oee},exit:{Feature:lee}};function Um(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Sv(e){return{point:{x:e.pageX,y:e.pageY}}}const cee=e=>t=>cA(t)&&e(t,Sv(t));function zf(e,t,n,i){return Um(e,t,cee(n),i)}function b4({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function dee({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hee(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const C4=1e-4,fee=1-C4,pee=1+C4,w4=.01,gee=0-w4,mee=0+w4;function _s(e){return e.max-e.min}function vee(e,t,n){return Math.abs(e-t)<=n}function pM(e,t,n,i=.5){e.origin=i,e.originPoint=Ti(t.min,t.max,e.origin),e.scale=_s(n)/_s(t),e.translate=Ti(n.min,n.max,e.origin)-e.originPoint,(e.scale>=fee&&e.scale<=pee||isNaN(e.scale))&&(e.scale=1),(e.translate>=gee&&e.translate<=mee||isNaN(e.translate))&&(e.translate=0)}function lm(e,t,n,i){pM(e.x,t.x,n.x,i?i.originX:void 0),pM(e.y,t.y,n.y,i?i.originY:void 0)}function gM(e,t,n){e.min=n.min+t.min,e.max=e.min+_s(t)}function yee(e,t,n){gM(e.x,t.x,n.x),gM(e.y,t.y,n.y)}function mM(e,t,n){e.min=t.min-n.min,e.max=e.min+_s(t)}function um(e,t,n){mM(e.x,t.x,n.x),mM(e.y,t.y,n.y)}const vM=()=>({translate:0,scale:1,origin:0,originPoint:0}),qf=()=>({x:vM(),y:vM()}),yM=()=>({min:0,max:0}),Xi=()=>({x:yM(),y:yM()});function Jo(e){return[e("x"),e("y")]}function YS(e){return e===void 0||e===1}function Kx({scale:e,scaleX:t,scaleY:n}){return!YS(e)||!YS(t)||!YS(n)}function nh(e){return Kx(e)||S4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function S4(e){return bM(e.x)||bM(e.y)}function bM(e){return e&&e!=="0%"}function nC(e,t,n){const i=e-n,r=t*i;return n+r}function CM(e,t,n,i,r){return r!==void 0&&(e=nC(e,r,i)),nC(e,n,i)+t}function Yx(e,t=0,n=1,i,r){e.min=CM(e.min,t,n,i,r),e.max=CM(e.max,t,n,i,r)}function x4(e,{x:t,y:n}){Yx(e.x,t.translate,t.scale,t.originPoint),Yx(e.y,n.translate,n.scale,n.originPoint)}const wM=.999999999999,SM=1.0000000000001;function bee(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,x4(e,o)),i&&nh(s.latestValues)&&Wf(e,s.latestValues))}t.x<SM&&t.x>wM&&(t.x=1),t.y<SM&&t.y>wM&&(t.y=1)}function Uf(e,t){e.min=e.min+t,e.max=e.max+t}function xM(e,t,n,i,r=.5){const s=Ti(e.min,e.max,r);Yx(e,t,n,s,i)}function Wf(e,t){xM(e.x,t.x,t.scaleX,t.scale,t.originX),xM(e.y,t.y,t.scaleY,t.scale,t.originY)}function R4(e,t){return b4(hee(e.getBoundingClientRect(),t))}function Cee(e,t,n){const i=R4(e,n),{scroll:r}=t;return r&&(Uf(i.x,r.offset.x),Uf(i.y,r.offset.y)),i}const RM=(e,t)=>Math.abs(e-t);function wee(e,t){const n=RM(e.x,t.x),i=RM(e.y,t.y);return Math.sqrt(n**2+i**2)}class A4{constructor(t,n,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=XS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=wee(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:m}=h,{timestamp:y}=Ur;this.history.push({...m,timestamp:y});const{onStart:w,onMove:x}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{if(this.index=EM(h.currentTarget),h.target instanceof Element&&h.target.hasPointerCapture&&h.pointerId!==void 0)try{if(!h.target.hasPointerCapture(h.pointerId))return}catch{}this.lastMoveEvent=h,this.lastMoveEventInfo=QS(p,this.transformPagePoint),ni.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{om(h,"release"),this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=XS(h.type==="pointercancel"||h.type==="lostpointercapture"?this.lastMoveEventInfo:QS(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),m&&m(h,w)},!cA(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i;const s=Sv(t),o=QS(s,this.transformPagePoint),{point:a}=o,{timestamp:u}=Ur;this.history=[{...a,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,XS(o,this.history)),om(t,"set"),this.removeListeners=wv(zf(t.currentTarget,"pointermove",this.handlePointerMove),zf(t.currentTarget,"pointerup",this.handlePointerUp),zf(t.currentTarget,"pointercancel",this.handlePointerUp),zf(t.currentTarget,"lostpointercapture",(h,p)=>{EM(h.currentTarget)!==this.index?om(h,"set"):this.handlePointerUp(h,p)}))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ad(this.updatePoint)}}function QS(e,t){return t?{point:t(e.point)}:e}function AM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function XS({point:e},t){return{point:e,delta:AM(e,E4(t)),offset:AM(e,See(t)),velocity:xee(t,.1)}}function See(e){return e[0]}function E4(e){return e[e.length-1]}function xee(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=E4(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Iu(t)));)n--;if(!i)return{x:0,y:0};const s=_u(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function EM(e){return e.parentNode?Array.from(e.parentNode.children).indexOf(e):-1}function Ree(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ti(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ti(n,e,i.max):Math.min(e,n)),e}function TM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Aee(e,{top:t,left:n,bottom:i,right:r}){return{x:TM(e.x,n,r),y:TM(e.y,t,i)}}function PM(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function Eee(e,t){return{x:PM(e.x,t.x),y:PM(e.y,t.y)}}function Tee(e,t){let n=.5;const i=_s(e),r=_s(t);return r>i?n=yp(t.min,t.max-i,e.min):i>r&&(n=yp(e.min,e.max-r,t.min)),Wu(0,1,n)}function Pee(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qx=.35;function Dee(e=Qx){return e===!1?e=0:e===!0&&(e=Qx),{x:DM(e,"left","right"),y:DM(e,"top","bottom")}}function DM(e,t,n){return{min:FM(e,t),max:FM(e,n)}}function FM(e,t){return typeof e=="number"?e:e[t]||0}const Fee=new WeakMap;class Lee{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sv(h).point)},s=(h,p)=>{const{drag:g,dragPropagation:m,onDragStart:y}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xZ(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jo(x=>{let C=this.getAxisMotionValue(x).get()||0;if(Gl.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[x];E&&(C=_s(E)*(parseFloat(C)/100))}}this.originPoint[x]=C}),y&&ni.postRender(()=>y(h,p)),jx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=p;if(m&&this.currentDirection===null){this.currentDirection=Mee(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),w&&w(h,p)},a=(h,p)=>this.stop(h,p),u=()=>Jo(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new A4(t,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ni.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!zy(t,r,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(o=Ree(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Gf(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Aee(r.layoutBox,n):this.constraints=!1,this.elastic=Dee(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Pee(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gf(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Cee(i,r.root,this.visualElement.getTransformPagePoint());let o=Eee(r.layout.layoutBox,s);if(n){const a=n(dee(o));this.hasMutatedConstraints=!!a,a&&(o=b4(a))}return o}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},d=Jo(h=>{if(!zy(h,n,this.currentDirection))return;let p=u&&u[h]||{};o&&(p={min:0,max:0});const g=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?t[h]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,y)});return Promise.all(d).then(a)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return jx(this.visualElement,t),i.start(SA(t,i,0,n,this.visualElement,!1))}stopAnimation(){Jo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jo(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Jo(n=>{const{drag:i}=this.getProps();if(!zy(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(t[n]-Ti(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Gf(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Jo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();r[o]=Tee({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Jo(o=>{if(!zy(o,t,null))return;const a=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];a.set(Ti(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;Fee.set(this.visualElement,this);const t=this.visualElement.current,n=zf(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Gf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ni.read(i);const o=Um(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Jo(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Qx,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zy(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Mee(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Nee extends md{constructor(t){super(t),this.removeGroupControls=Do,this.removeListeners=Do,this.controls=new Lee(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Do}unmount(){this.removeGroupControls(),this.removeListeners()}}const LM=e=>(t,n)=>{e&&ni.postRender(()=>e(t,n))};class Oee extends md{constructor(){super(...arguments),this.removePointerDownListener=Do}onPointerDown(t){this.session=new A4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:LM(t),onStart:LM(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ni.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=zf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ig={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const n=MM(e,t.target.x),i=MM(e,t.target.y);return`${n}% ${i}%`}},kee={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=ld.parse(e);if(r.length>5)return i;const s=ld.createTransformer(e),o=typeof r[0]!="number"?1:0,a=n.x.scale*t.x,u=n.y.scale*t.y;r[0+o]/=a,r[1+o]/=u;const d=Ti(a,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),s(r)}};class Iee extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=t;jX(_ee),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||ni.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),QR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function T4(e){const[t,n]=vX(),i=M.useContext(cI);return I.jsx(Iee,{...e,layoutGroup:i,switchLayoutGroup:M.useContext(yI),isPresent:t,safeToRemove:n})}const _ee={borderRadius:{...Ig,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ig,borderTopRightRadius:Ig,borderBottomLeftRadius:Ig,borderBottomRightRadius:Ig,boxShadow:kee};function Bee(e,t,n){const i=ms(e)?e:zm(e);return i.start(SA("",i,t,n)),i.animation}function Hee(e){return e instanceof SVGElement&&e.tagName!=="svg"}const jee=(e,t)=>e.depth-t.depth;class Gee{constructor(){this.children=[],this.isDirty=!1}add(t){dA(this.children,t),this.isDirty=!0}remove(t){hA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jee),this.isDirty=!1,this.children.forEach(t)}}function Vee(e,t){const n=Vl.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(ad(i),e(s-t))};return ni.read(i,!0),()=>ad(i)}const P4=["TopLeft","TopRight","BottomLeft","BottomRight"],zee=P4.length,NM=e=>typeof e=="string"?parseFloat(e):e,OM=e=>typeof e=="number"||jt.test(e);function qee(e,t,n,i,r,s){r?(e.opacity=Ti(0,n.opacity!==void 0?n.opacity:1,Uee(i)),e.opacityExit=Ti(t.opacity!==void 0?t.opacity:1,0,Wee(i))):s&&(e.opacity=Ti(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<zee;o++){const a=`border${P4[o]}Radius`;let u=kM(t,a),d=kM(n,a);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||OM(u)===OM(d)?(e[a]=Math.max(Ti(NM(u),NM(d),i),0),(Gl.test(d)||Gl.test(u))&&(e[a]+="%")):e[a]=d}(t.rotate||n.rotate)&&(e.rotate=Ti(t.rotate||0,n.rotate||0,i))}function kM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uee=D4(0,.5,$I),Wee=D4(.5,.95,Do);function D4(e,t,n){return i=>i<e?0:i>t?1:n(yp(e,t,i))}function IM(e,t){e.min=t.min,e.max=t.max}function Xo(e,t){IM(e.x,t.x),IM(e.y,t.y)}function _M(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BM(e,t,n,i,r){return e-=t,e=nC(e,1/n,i),r!==void 0&&(e=nC(e,1/r,i)),e}function $ee(e,t=0,n=1,i=.5,r,s=e,o=e){if(Gl.test(t)&&(t=parseFloat(t),t=Ti(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ti(s.min,s.max,i);e===s&&(a-=t),e.min=BM(e.min,t,n,a,r),e.max=BM(e.max,t,n,a,r)}function HM(e,t,[n,i,r],s,o){$ee(e,t[n],t[i],t[r],t.scale,s,o)}const Kee=["x","scaleX","originX"],Yee=["y","scaleY","originY"];function jM(e,t,n,i){HM(e.x,t,Kee,n?n.x:void 0,i?i.x:void 0),HM(e.y,t,Yee,n?n.y:void 0,i?i.y:void 0)}function GM(e){return e.translate===0&&e.scale===1}function F4(e){return GM(e.x)&&GM(e.y)}function VM(e,t){return e.min===t.min&&e.max===t.max}function Qee(e,t){return VM(e.x,t.x)&&VM(e.y,t.y)}function zM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L4(e,t){return zM(e.x,t.x)&&zM(e.y,t.y)}function qM(e){return _s(e.x)/_s(e.y)}function UM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xee{constructor(){this.members=[]}add(t){dA(this.members,t),t.scheduleRender()}remove(t){if(hA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zee(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:p,rotateY:g,skewX:m,skewY:y}=n;d&&(i=`perspective(${d}px) ${i}`),h&&(i+=`rotate(${h}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `),m&&(i+=`skewX(${m}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,u=e.y.scale*t.y;return(a!==1||u!==1)&&(i+=`scale(${a}, ${u})`),i||"none"}const ZS=["","X","Y","Z"],Jee={visibility:"hidden"},WM=1e3;let ete=0;function JS(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function M4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ni,!(r||s))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&M4(i)}function N4({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=t==null?void 0:t()){this.id=ete++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ite),this.nodes.forEach(lte),this.nodes.forEach(ute),this.nodes.forEach(rte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hee(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||u)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Vee(g,250),Rb.hasAnimatedSinceResize&&(Rb.hasAnimatedSinceResize=!1,this.nodes.forEach(KM))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||pte,{onLayoutAnimationStart:x,onLayoutAnimationComplete:C}=h.getProps(),A=!this.targetLayout||!L4(this.targetLayout,y),E=!g&&m;if(this.options.layoutRoot||this.resumeFrom||E||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const F={...aA(w,"layout"),onPlay:x,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else g||KM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ad(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($M);return}this.isUpdating||this.nodes.forEach(ote),this.isUpdating=!1,this.nodes.forEach(ate),this.nodes.forEach(tte),this.nodes.forEach(nte),this.clearAllSnapshots();const a=Vl.now();Ur.delta=Wu(0,1e3/60,a-Ur.timestamp),Ur.timestamp=a,Ur.isProcessing=!0,qS.update.process(Ur),qS.preRender.process(Ur),qS.render.process(Ur),Ur.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ste),this.sharedNodes.forEach(dte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ni.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ni.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!F4(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(a||nh(this.latestValues)||h)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),gte(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Xi();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mte))){const{scroll:h}=this.root;h&&(Uf(u.x,h.offset.x),Uf(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=Xi();if(Xo(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Xo(u,o),Uf(u.x,p.offset.x),Uf(u.y,p.offset.y))}return u}applyTransform(o,a=!1){const u=Xi();Xo(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Wf(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),nh(h.latestValues)&&Wf(u,h.latestValues)}return nh(this.latestValues)&&Wf(u,this.latestValues),u}removeTransform(o){const a=Xi();Xo(a,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!nh(d.latestValues))continue;Kx(d.latestValues)&&d.updateSnapshot();const h=Xi(),p=d.measurePageBox();Xo(h,p),jM(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return nh(this.latestValues)&&jM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ur.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ur.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xi(),this.relativeTargetOrigin=Xi(),um(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xi(),this.targetWithTransforms=Xi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),x4(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xi(),this.relativeTargetOrigin=Xi(),um(this.relativeTargetOrigin,this.target,m.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kx(this.parent.latestValues)||S4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ur.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Xo(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;bee(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Xi());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_M(this.prevProjectionDelta.x,this.projectionDelta.x),_M(this.prevProjectionDelta.y,this.projectionDelta.y)),lm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!UM(this.projectionDelta.x,this.prevProjectionDelta.x)||!UM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qf(),this.projectionDelta=qf(),this.projectionDeltaWithTransform=qf()}setAnimationOrigin(o,a=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},p=qf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Xi(),m=u?u.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,x=this.getStack(),C=!x||x.members.length<=1,A=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(fte));this.animationProgress=0;let E;this.mixTargetDelta=F=>{const N=F/1e3;YM(p.x,o.x,N),YM(p.y,o.y,N),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(um(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hte(this.relativeTarget,this.relativeTargetOrigin,g,N),E&&Qee(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Xi()),Xo(E,this.relativeTarget)),w&&(this.animationValues=h,qee(h,d,this.latestValues,N,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ad(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ni.update(()=>{Rb.hasAnimatedSinceResize=!0,this.currentAnimation=Bee(0,WM,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:d,latestValues:h}=o;if(!(!a||!u||!d)){if(this!==o&&this.layout&&d&&O4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Xi();const p=_s(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=_s(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Xo(a,u),Wf(a,h),lm(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xee),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const d={};u.z&&JS("z",o,d,this.animationValues);for(let h=0;h<ZS.length;h++)JS(`rotate${ZS[h]}`,o,d,this.animationValues),JS(`skew${ZS[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Jee;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Sb(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Sb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nh(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=Zee(this.projectionDeltaWithTransform,this.treeScale,g),h&&(d.transform=h(g,d.transform));const{x:m,y}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,p.animationValues?d.opacity=p===this?(u=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in jm){if(g[w]===void 0)continue;const{correct:x,applyTo:C,isCSSVariable:A}=jm[w],E=d.transform==="none"?g[w]:x(g[w],p);if(C){const F=C.length;for(let N=0;N<F;N++)d[C[N]]=E}else A?this.options.visualElement.renderState.vars[w]=E:d[w]=E}return this.options.layoutId&&(d.pointerEvents=p===this?Sb(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($M),this.root.sharedNodes.clear()}}}function tte(e){e.updateLayout()}function nte(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Jo(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=_s(g);g.min=i[p].min,g.max=g.min+m}):O4(s,n.layoutBox,i)&&Jo(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=_s(i[p]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const a=qf();lm(a,i,n.layoutBox);const u=qf();o?lm(u,e.applyTransform(r,!0),n.measuredBox):lm(u,i,n.layoutBox);const d=!F4(a);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const y=Xi();um(y,n.layoutBox,g.layoutBox);const w=Xi();um(w,i,m.layoutBox),L4(y,w)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function ite(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rte(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ste(e){e.clearSnapshot()}function $M(e){e.clearMeasurements()}function ote(e){e.isLayoutDirty=!1}function ate(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lte(e){e.resolveTargetDelta()}function ute(e){e.calcProjection()}function cte(e){e.resetSkewAndRotation()}function dte(e){e.removeLeadSnapshot()}function YM(e,t,n){e.translate=Ti(t.translate,0,n),e.scale=Ti(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QM(e,t,n,i){e.min=Ti(t.min,n.min,i),e.max=Ti(t.max,n.max,i)}function hte(e,t,n,i){QM(e.x,t.x,n.x,i),QM(e.y,t.y,n.y,i)}function fte(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pte={duration:.45,ease:[.4,0,.1,1]},XM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ZM=XM("applewebkit/")&&!XM("chrome/")?Math.round:Do;function JM(e){e.min=ZM(e.min),e.max=ZM(e.max)}function gte(e){JM(e.x),JM(e.y)}function O4(e,t,n){return e==="position"||e==="preserve-aspect"&&!vee(qM(t),qM(n),.2)}function mte(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const vte=N4({attachResizeListener:(e,t)=>Um(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e2={current:void 0},k4=N4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!e2.current){const e=new vte({});e.mount(window),e.setOptions({layoutScroll:!0}),e2.current=e}return e2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yte={pan:{Feature:Oee},drag:{Feature:Nee,ProjectionNode:k4,MeasureLayout:T4}};function eN(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ni.postRender(()=>s(t,Sv(t)))}class bte extends md{mount(){const{current:t}=this.node;t&&(this.unmount=vZ(t,(n,i)=>(eN(this.node,i,"Start"),r=>eN(this.node,r,"End"))))}unmount(){}}class Cte extends md{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wv(Um(this.node.current,"focus",()=>this.onFocus()),Um(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tN(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ni.postRender(()=>s(t,Sv(t)))}class wte extends md{mount(){const{current:t}=this.node;t&&(this.unmount=wZ(t,(n,i)=>(tN(this.node,i,"Start"),(r,{success:s})=>tN(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xx=new WeakMap,t2=new WeakMap,Ste=e=>{const t=Xx.get(e.target);t&&t(e)},xte=e=>{e.forEach(Ste)};function Rte({root:e,...t}){const n=e||document;t2.has(n)||t2.set(n,{});const i=t2.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(xte,{root:e,...t})),i[r]}function Ate(e,t,n){const i=Rte(t);return Xx.set(e,n),i.observe(e),()=>{Xx.delete(e),i.unobserve(e)}}const Ete={some:0,all:1};class Tte extends md{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Ete[r]},a=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=d?h:p;g&&g(u)};return Ate(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Pte(t,n))&&this.startObserver()}unmount(){}}function Pte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dte={inView:{Feature:Tte},tap:{Feature:wte},focus:{Feature:Cte},hover:{Feature:bte}},Fte={layout:{ProjectionNode:k4,MeasureLayout:T4}},Zx={current:null},I4={current:!1};function Lte(){if(I4.current=!0,!!UR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zx.current=e.matches;e.addListener(t),t()}else Zx.current=!1}const Mte=[...a4,hs,ld],Nte=e=>Mte.find(o4(e)),Ote=new WeakMap;function kte(e,t,n){for(const i in t){const r=t[i],s=n[i];if(ms(r))e.addValue(i,r);else if(ms(s))e.addValue(i,zm(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const o=e.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(i);e.addValue(i,zm(o!==void 0?o:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const nN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ite{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vl.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ni.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=r0(n),this.isVariantNode=mI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const y=g[m];u[m]!==void 0&&ms(y)&&y.set(u[m],!1)}}mount(t){this.current=t,Ote.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),I4.current||Lte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ad(this.notifyUpdate),ad(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Hh.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ni.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bp){const n=bp[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<nN.length;i++){const r=nN[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=t[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=kte(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=zm(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(r4(r)||YI(r))?r=parseFloat(r):!Nte(r)&&ld.test(n)&&(r=t4(t,n)),this.setBaseTarget(t,ms(r)?r.get():r)),ms(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=sA(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[t])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ms(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new fA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class _4 extends Ite{constructor(){super(...arguments),this.KeyframeResolver=l4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ms(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _te(e){return window.getComputedStyle(e)}class Bte extends _4{constructor(){super(...arguments),this.type="html",this.renderInstance=TI}readValueFromInstance(t,n){if(Hh.has(n)){const i=yA(n);return i&&i.default||0}else{const i=_te(t),r=(XR(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return R4(t,n)}build(t,n,i){eA(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return oA(t,n,i)}}class Hte extends _4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&EI(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hh.has(n)){const i=yA(n);return i&&i.default||0}return n=PI.has(n)?n:YR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return FI(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ni.postRender(this.updateDimensions)}build(t,n,i){iA(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,r){DI(t,n,i,r)}mount(t){this.isSVGTag=rA(t.tagName),super.mount(t)}}const jte=(e,t)=>nA(e)?new Hte(t):new Bte(t,{allowProjection:e!==M.Fragment}),Gte=cZ({...uee,...Dte,...yte,...Fte},jte),ar=EX(Gte),Xl=()=>I.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:I.jsxs(ar.div,{className:"flex space-x-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,repeat:1/0,repeatType:"reverse"},children:[I.jsx(ar.div,{className:"w-4 h-4 bg-blue-500 rounded-full",animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,repeatType:"mirror",delay:0}}),I.jsx(ar.div,{className:"w-4 h-4 bg-blue-500 rounded-full",animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,repeatType:"mirror",delay:.2}}),I.jsx(ar.div,{className:"w-4 h-4 bg-blue-500 rounded-full",animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,repeatType:"mirror",delay:.4}})]})}),Vte=()=>{const{data:e,error:t,isLoading:n}=cv();if(n)return I.jsx(Xl,{});if(t)return I.jsx("p",{children:"Error loading categories"});const i=[["Category","Number of Products"]];e==null||e.forEach(s=>{i.push([s.name,s.product.length||0])});const r={title:"Product Distribution by Category",pieHole:.4,is3D:!0,slices:{0:{offset:.1},1:{offset:.1},2:{offset:.1},3:{offset:.1},4:{offset:.1}},legend:{position:"right",alignment:"center"}};return I.jsx("div",{style:{width:"100%",maxWidth:"600px",margin:"auto"},children:I.jsx(sm,{chartType:"PieChart",data:i,options:r,width:"100%",height:"400px"})})},zte=()=>{const{data:e,isLoading:t,isError:n}=HC();if(t)return I.jsx(Xl,{});if(n)return I.jsx("div",{children:"Error loading orders"});if(!e||!Array.isArray(e)||e.length===0)return I.jsx("div",{children:"No orders available"});const i=[["Order ID","Total Amount"]];e.forEach(s=>{const o=s._id||`Order-${s._id}`;i.push([o,s.totalPrice])});const r={title:"Order Amounts",hAxis:{title:"Order ID",textPosition:"none"},vAxis:{title:"Amount (Taka)"},legend:"none"};return I.jsxs("div",{children:[I.jsx("h2",{children:"Order Chart"}),I.jsx(sm,{chartType:"ColumnChart",width:"100%",height:"400px",data:i,options:r})]})},Xs=()=>"BDT ";var n2={exports:{}},i2,iN;function qte(){if(iN)return i2;iN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return i2=e,i2}var r2,rN;function Ute(){if(rN)return r2;rN=1;var e=qte();function t(){}function n(){}return n.resetWarningCache=t,r2=function(){function i(o,a,u,d,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},r2}var sN;function xA(){return sN||(sN=1,n2.exports=Ute()()),n2.exports}var Wte=xA();const Yt=fd(Wte);function RA({startDate:e,endDate:t}){const{data:n,isLoading:i,isError:r}=HC(e&&t?{startDate:e,endDate:t}:{});if(i)return I.jsx("p",{className:"text-center text-gray-600",children:"Loading..."});if(r)return I.jsx("p",{className:"text-center text-red-500",children:"Error loading orders."});const s=d=>{if(!Array.isArray(d))return{totalSales:0,totalProfit:0,totalLoss:0};let h=0,p=0,g=0;return d.forEach(m=>{Array.isArray(m.products)&&m.products.forEach(y=>{if(y.productId){const w=y.productId.buyingPrice*y.quantity,x=y.price*y.quantity,C=x-w;h+=x,C>0?p+=C:g+=Math.abs(C)}})}),{totalSales:h,totalProfit:p,totalLoss:g}},{totalSales:o,totalProfit:a,totalLoss:u}=s(n||[]);return I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-6",children:[I.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Financial Overview"}),I.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[I.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg",children:[I.jsx("p",{className:"text-lg font-semibold",children:"Total Sales"}),I.jsxs("p",{className:"text-xl font-bold",children:[Xs(),o.toFixed(2)]})]}),I.jsxs("div",{className:"bg-green-100 p-4 rounded-lg",children:[I.jsx("p",{className:"text-lg font-semibold",children:"Total Profit"}),I.jsxs("p",{className:"text-xl font-bold",children:[Xs(),a.toFixed(2)]})]}),I.jsxs("div",{className:"bg-red-100 p-4 rounded-lg",children:[I.jsx("p",{className:"text-lg font-semibold",children:"Total Loss"}),I.jsxs("p",{className:"text-xl font-bold",children:[Xs(),u.toFixed(2)]})]})]})]})}RA.propTypes={startDate:Yt.string,endDate:Yt.string};function $te(){const t=Xu().pathname==="/dashboard";return I.jsxs("div",{className:"flex",children:[I.jsx(QQ,{}),I.jsxs("div",{className:"flex-1 p-6",children:[t&&I.jsxs(I.Fragment,{children:[I.jsx(RA,{}),I.jsx(Vte,{}),I.jsx(zte,{})]}),!t&&I.jsx(AV,{})]})]})}function Kte(){var E,F;const{id:e}=vR(),t=Zu(),{data:n,isLoading:i,isError:r,error:s}=yG(e),[o,{isLoading:a}]=CG(),{data:u}=cv(),{data:d}=hR(),[h,p]=M.useState(null);M.useEffect(()=>{n&&p({...n})},[n]);const g=N=>{const{name:z,value:B,type:k,checked:V}=N.target;p(K=>({...K,[z]:k==="checkbox"?V:B}))},m=(N,z,B)=>{p(k=>({...k,priceByVariant:k.priceByVariant.map((V,K)=>K===N?{...V,[z]:B}:V)}))},y=()=>{p({...h,priceByVariant:[...h.priceByVariant,{name:"",value:"",price:0,stock:0,buyingPrice:0,image:""}]})},w=N=>{p(z=>({...z,priceByVariant:z.priceByVariant.filter((B,k)=>k!==N)}))},x=N=>{const z=u==null?void 0:u.find(B=>B._id===N.target.value);p(B=>({...B,category:z||null}))},C=N=>{const z=d==null?void 0:d.find(B=>B._id===N.target.value);p(B=>({...B,subcategory:z||null}))},A=async N=>{N.preventDefault();try{await o({id:e,...h}).unwrap(),alert("Product updated successfully!"),t("/dashboard/show-product")}catch{alert("Failed to update product!")}};return i?I.jsx(Xl,{}):r?I.jsxs("div",{className:"text-red-500 text-center py-10",children:["Error: ",s==null?void 0:s.message]}):h?I.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Edit Product"}),I.jsxs("form",{onSubmit:A,className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 font-medium",children:"Product Name"}),I.jsx("input",{type:"text",name:"name",value:h.name,onChange:g,className:"w-full p-2 border rounded mt-1",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 font-medium",children:"Description"}),I.jsx(yv,{value:h.description,onChange:N=>p({...h,description:N}),className:"bg-white"})]}),["price","discountedPrice","buyingPrice","stock"].map(N=>I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 font-medium",children:N.replace(/([A-Z])/g," $1").trim()}),I.jsx("input",{type:"number",name:N,value:h[N],onChange:g,className:"w-full p-2 border rounded mt-1"})]},N)),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 font-medium",children:"Category"}),I.jsxs("select",{name:"category",value:((E=h.category)==null?void 0:E._id)||"",onChange:x,className:"w-full p-2 border rounded mt-1",children:[I.jsx("option",{value:"",children:"Select Category"}),u==null?void 0:u.map(N=>I.jsx("option",{value:N._id,children:N.name},N._id))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-gray-700 font-medium",children:"Subcategory"}),I.jsxs("select",{name:"subcategory",value:((F=h.subcategory)==null?void 0:F._id)||"",onChange:C,className:"w-full p-2 border rounded mt-1",children:[I.jsx("option",{value:"",children:"Select Subcategory"}),d==null?void 0:d.map(N=>I.jsx("option",{value:N._id,children:N.name},N._id))]})]})]}),I.jsx("h3",{className:"text-lg font-medium mt-4",children:"Variants"}),h.priceByVariant.map((N,z)=>I.jsxs("div",{className:"grid grid-cols-6 gap-2 p-2 border rounded mb-2",children:[["name","value","price","stock","buyingPrice","image"].map(B=>I.jsx("input",{type:B==="price"||B==="stock"||B==="buyingPrice"?"number":"text",value:N[B],onChange:k=>m(z,B,k.target.value),placeholder:B,className:"p-2 border rounded"},B)),I.jsx("button",{type:"button",onClick:()=>w(z),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Remove"})]},z)),I.jsx("button",{type:"button",onClick:y,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"+ Add Variant"}),["isFeatured","cod","returnable"].map(N=>I.jsxs("label",{className:"flex items-center",children:[I.jsx("input",{type:"checkbox",name:N,checked:h[N],onChange:g,className:"mr-2"}),I.jsx("span",{className:"text-gray-700",children:N.replace(/([A-Z])/g," $1").trim()})]},N)),I.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mt-4",disabled:a,children:a?"Updating...":"Update Product"})]})]}):I.jsx("div",{className:"text-center py-10",children:"No product found"})}const oN=()=>{const e=Zu(),t=()=>{e(-1)};return I.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center p-6",children:[I.jsx(ar.h1,{className:"text-9xl font-bold text-blue-500",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:"404"}),I.jsx(ar.h2,{className:"text-2xl font-semibold text-gray-700 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:"Oops! Page Not Found"}),I.jsx("p",{className:"text-gray-500 mt-2",children:"The page you're looking for doesn't exist or has been moved."}),I.jsx("button",{onClick:t,className:"mt-6 px-6 py-3 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 transition",children:"Go Back Home"})]})},Yte="modulepreload",Qte=function(e){return"/"+e},aN={},Jx=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=Qte(u),u in aN)return;aN[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Yte,d||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Gn(e){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(e)}var gs=Uint8Array,Po=Uint16Array,AA=Int32Array,o0=new gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a0=new gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e5=new gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B4=function(e,t){for(var n=new Po(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new AA(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r}},H4=B4(o0,2),j4=H4.b,t5=H4.r;j4[28]=258,t5[258]=28;var G4=B4(a0,0),Xte=G4.b,lN=G4.r,n5=new Po(32768);for(var ui=0;ui<32768;++ui){var Gc=(ui&43690)>>1|(ui&21845)<<1;Gc=(Gc&52428)>>2|(Gc&13107)<<2,Gc=(Gc&61680)>>4|(Gc&3855)<<4,n5[ui]=((Gc&65280)>>8|(Gc&255)<<8)>>1}var zl=function(e,t,n){for(var i=e.length,r=0,s=new Po(t);r<i;++r)e[r]&&++s[e[r]-1];var o=new Po(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new Po(1<<t);var u=15-t;for(r=0;r<i;++r)if(e[r])for(var d=r<<4|e[r],h=t-e[r],p=o[e[r]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)a[n5[p]>>u]=d}else for(a=new Po(i),r=0;r<i;++r)e[r]&&(a[r]=n5[o[e[r]-1]++]>>15-e[r]);return a},ud=new gs(288);for(var ui=0;ui<144;++ui)ud[ui]=8;for(var ui=144;ui<256;++ui)ud[ui]=9;for(var ui=256;ui<280;++ui)ud[ui]=7;for(var ui=280;ui<288;++ui)ud[ui]=8;var Wm=new gs(32);for(var ui=0;ui<32;++ui)Wm[ui]=5;var Zte=zl(ud,9,0),Jte=zl(ud,9,1),ene=zl(Wm,5,0),tne=zl(Wm,5,1),s2=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ia=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},o2=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},EA=function(e){return(e+7)/8|0},V4=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new gs(e.subarray(t,n))},nne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ga=function(e,t,n){var i=new Error(t||nne[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Ga),!n)throw i;return i},ine=function(e,t,n,i){var r=e.length,s=0;if(!r||t.f&&!t.l)return n||new gs(0);var o=!n,a=o||t.i!=2,u=t.i;o&&(n=new gs(r*3));var d=function(_e){var $e=n.length;if(_e>$e){var Be=new gs(Math.max($e*2,_e));Be.set(n),n=Be}},h=t.f||0,p=t.p||0,g=t.b||0,m=t.l,y=t.d,w=t.m,x=t.n,C=r*8;do{if(!m){h=Ia(e,p,1);var A=Ia(e,p+1,3);if(p+=3,A)if(A==1)m=Jte,y=tne,w=9,x=5;else if(A==2){var z=Ia(e,p,31)+257,B=Ia(e,p+10,15)+4,k=z+Ia(e,p+5,31)+1;p+=14;for(var V=new gs(k),K=new gs(19),T=0;T<B;++T)K[e5[T]]=Ia(e,p+T*3,7);p+=B*3;for(var O=s2(K),H=(1<<O)-1,q=zl(K,O,1),T=0;T<k;){var ee=q[Ia(e,p,H)];p+=ee&15;var E=ee>>4;if(E<16)V[T++]=E;else{var $=0,W=0;for(E==16?(W=3+Ia(e,p,3),p+=2,$=V[T-1]):E==17?(W=3+Ia(e,p,7),p+=3):E==18&&(W=11+Ia(e,p,127),p+=7);W--;)V[T++]=$}}var Q=V.subarray(0,z),ue=V.subarray(z);w=s2(Q),x=s2(ue),m=zl(Q,w,1),y=zl(ue,x,1)}else Ga(1);else{var E=EA(p)+4,F=e[E-4]|e[E-3]<<8,N=E+F;if(N>r){u&&Ga(0);break}a&&d(g+F),n.set(e.subarray(E,N),g),t.b=g+=F,t.p=p=N*8,t.f=h;continue}if(p>C){u&&Ga(0);break}}a&&d(g+131072);for(var U=(1<<w)-1,de=(1<<x)-1,j=p;;j=p){var $=m[o2(e,p)&U],X=$>>4;if(p+=$&15,p>C){u&&Ga(0);break}if($||Ga(2),X<256)n[g++]=X;else if(X==256){j=p,m=null;break}else{var Z=X-254;if(X>264){var T=X-257,re=o0[T];Z=Ia(e,p,(1<<re)-1)+j4[T],p+=re}var ce=y[o2(e,p)&de],ye=ce>>4;ce||Ga(3),p+=ce&15;var ue=Xte[ye];if(ye>3){var re=a0[ye];ue+=o2(e,p)&(1<<re)-1,p+=re}if(p>C){u&&Ga(0);break}a&&d(g+131072);var me=g+Z;if(g<ue){var Se=s-ue,Oe=Math.min(ue,me);for(Se+g<0&&Ga(3);g<Oe;++g)n[g]=i[Se+g]}for(;g<me;++g)n[g]=n[g-ue]}}t.l=m,t.p=j,t.b=g,t.f=h,m&&(h=1,t.m=w,t.d=y,t.n=x)}while(!h);return g!=n.length&&o?V4(n,0,g):n.subarray(0,g)},Pu=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},_g=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},a2=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,s=n.slice();if(!r)return{t:q4,l:0};if(r==1){var o=new gs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,z){return N.f-z.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],d=0,h=1,p=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};h!=r-1;)a=n[n[d].f<n[p].f?d++:p++],u=n[d!=h&&n[d].f<n[p].f?d++:p++],n[h++]={s:-1,f:a.f+u.f,l:a,r:u};for(var g=s[0].s,i=1;i<r;++i)s[i].s>g&&(g=s[i].s);var m=new Po(g+1),y=i5(n[h-1],m,0);if(y>t){var i=0,w=0,x=y-t,C=1<<x;for(s.sort(function(z,B){return m[B.s]-m[z.s]||z.f-B.f});i<r;++i){var A=s[i].s;if(m[A]>t)w+=C-(1<<y-m[A]),m[A]=t;else break}for(w>>=x;w>0;){var E=s[i].s;m[E]<t?w-=1<<t-m[E]++-1:++i}for(;i>=0&&w;--i){var F=s[i].s;m[F]==t&&(--m[F],++w)}y=t}return{t:new gs(m),l:y}},i5=function(e,t,n){return e.s==-1?Math.max(i5(e.l,t,n+1),i5(e.r,t,n+1)):t[e.s]=n},uN=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Po(++t),i=0,r=e[0],s=1,o=function(u){n[i++]=u},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return{c:n.subarray(0,i),n:t}},Bg=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},z4=function(e,t,n){var i=n.length,r=EA(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var s=0;s<i;++s)e[r+s+4]=n[s];return(r+4+i)*8},cN=function(e,t,n,i,r,s,o,a,u,d,h){Pu(t,h++,n),++r[256];for(var p=a2(r,15),g=p.t,m=p.l,y=a2(s,15),w=y.t,x=y.l,C=uN(g),A=C.c,E=C.n,F=uN(w),N=F.c,z=F.n,B=new Po(19),k=0;k<A.length;++k)++B[A[k]&31];for(var k=0;k<N.length;++k)++B[N[k]&31];for(var V=a2(B,7),K=V.t,T=V.l,O=19;O>4&&!K[e5[O-1]];--O);var H=d+5<<3,q=Bg(r,ud)+Bg(s,Wm)+o,ee=Bg(r,g)+Bg(s,w)+o+14+3*O+Bg(B,K)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&H<=q&&H<=ee)return z4(t,h,e.subarray(u,u+d));var $,W,Q,ue;if(Pu(t,h,1+(ee<q)),h+=2,ee<q){$=zl(g,m,0),W=g,Q=zl(w,x,0),ue=w;var U=zl(K,T,0);Pu(t,h,E-257),Pu(t,h+5,z-1),Pu(t,h+10,O-4),h+=14;for(var k=0;k<O;++k)Pu(t,h+3*k,K[e5[k]]);h+=3*O;for(var de=[A,N],j=0;j<2;++j)for(var X=de[j],k=0;k<X.length;++k){var Z=X[k]&31;Pu(t,h,U[Z]),h+=K[Z],Z>15&&(Pu(t,h,X[k]>>5&127),h+=X[k]>>12)}}else $=Zte,W=ud,Q=ene,ue=Wm;for(var k=0;k<a;++k){var re=i[k];if(re>255){var Z=re>>18&31;_g(t,h,$[Z+257]),h+=W[Z+257],Z>7&&(Pu(t,h,re>>23&31),h+=o0[Z]);var ce=re&31;_g(t,h,Q[ce]),h+=ue[ce],ce>3&&(_g(t,h,re>>5&8191),h+=a0[ce])}else _g(t,h,$[re]),h+=W[re]}return _g(t,h,$[256]),h+W[256]},rne=new AA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q4=new gs(0),sne=function(e,t,n,i,r,s){var o=s.z||e.length,a=new gs(i+o+5*(1+Math.ceil(o/7e3))+r),u=a.subarray(i,a.length-r),d=s.l,h=(s.r||0)&7;if(t){h&&(u[0]=s.r>>3);for(var p=rne[t-1],g=p>>13,m=p&8191,y=(1<<n)-1,w=s.p||new Po(32768),x=s.h||new Po(y+1),C=Math.ceil(n/3),A=2*C,E=function(it){return(e[it]^e[it+1]<<C^e[it+2]<<A)&y},F=new AA(25e3),N=new Po(288),z=new Po(32),B=0,k=0,V=s.i||0,K=0,T=s.w||0,O=0;V+2<o;++V){var H=E(V),q=V&32767,ee=x[H];if(w[q]=ee,x[H]=q,T<=V){var $=o-V;if((B>7e3||K>24576)&&($>423||!d)){h=cN(e,u,0,F,N,z,k,K,O,V-O,h),K=B=k=0,O=V;for(var W=0;W<286;++W)N[W]=0;for(var W=0;W<30;++W)z[W]=0}var Q=2,ue=0,U=m,de=q-ee&32767;if($>2&&H==E(V-de))for(var j=Math.min(g,$)-1,X=Math.min(32767,V),Z=Math.min(258,$);de<=X&&--U&&q!=ee;){if(e[V+Q]==e[V+Q-de]){for(var re=0;re<Z&&e[V+re]==e[V+re-de];++re);if(re>Q){if(Q=re,ue=de,re>j)break;for(var ce=Math.min(de,re-2),ye=0,W=0;W<ce;++W){var me=V-de+W&32767,Se=w[me],Oe=me-Se&32767;Oe>ye&&(ye=Oe,ee=me)}}}q=ee,ee=w[q],de+=q-ee&32767}if(ue){F[K++]=268435456|t5[Q]<<18|lN[ue];var _e=t5[Q]&31,$e=lN[ue]&31;k+=o0[_e]+a0[$e],++N[257+_e],++z[$e],T=V+Q,++B}else F[K++]=e[V],++N[e[V]]}}for(V=Math.max(V,T);V<o;++V)F[K++]=e[V],++N[e[V]];h=cN(e,u,d,F,N,z,k,K,O,V-O,h),d||(s.r=h&7|u[h/8|0]<<3,h-=7,s.h=x,s.p=w,s.i=V,s.w=T)}else{for(var V=s.w||0;V<o+d;V+=65535){var Be=V+65535;Be>=o&&(u[h/8|0]=d,Be=o),h=z4(u,h+1,e.subarray(V,Be))}s.i=o}return V4(a,0,i+EA(h)+r)},U4=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},one=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new gs(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length}return sne(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},W4=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ane=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=U4();r.p(t.dictionary),W4(e,2,r.d())}},lne=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ga(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ga(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function r5(e,t){t||(t={});var n=U4();n.p(e);var i=one(e,t,t.dictionary?6:2,4);return ane(i,t),W4(i,i.length-4,n.d()),i}function une(e,t){return ine(e.subarray(lne(e),-4),{i:2},t,t)}var cne=typeof TextDecoder<"u"&&new TextDecoder,dne=0;try{cne.decode(q4,{stream:!0}),dne=1}catch{}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function l2(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var Kn={log:l2,warn:function(e){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):l2.call(null,arguments))},error:function(e){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):l2(e))}};function u2(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){ih(i.response,t,n)},i.onerror=function(){Kn.error("could not download file")},i.send()}function dN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function qy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var cm,s5,ih=Gt.saveAs||((typeof window>"u"?"undefined":Gn(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=Gt.URL||Gt.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?dN(r.href)?u2(e,t,n):qy(r,r.target="_blank"):qy(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){qy(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(dN(e))u2(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){qy(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Gn(s)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return u2(e,t,n);var r=e.type==="application/octet-stream",s=/constructor/i.test(Gt.HTMLElement)||Gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Gn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},a.readAsDataURL(e)}else{var u=Gt.URL||Gt.webkitURL,d=u.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+a+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function c2(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];n=ls(n,i,r,s,t[0],7,-680876936),s=ls(s,n,i,r,t[1],12,-389564586),r=ls(r,s,n,i,t[2],17,606105819),i=ls(i,r,s,n,t[3],22,-1044525330),n=ls(n,i,r,s,t[4],7,-176418897),s=ls(s,n,i,r,t[5],12,1200080426),r=ls(r,s,n,i,t[6],17,-1473231341),i=ls(i,r,s,n,t[7],22,-45705983),n=ls(n,i,r,s,t[8],7,1770035416),s=ls(s,n,i,r,t[9],12,-1958414417),r=ls(r,s,n,i,t[10],17,-42063),i=ls(i,r,s,n,t[11],22,-1990404162),n=ls(n,i,r,s,t[12],7,1804603682),s=ls(s,n,i,r,t[13],12,-40341101),r=ls(r,s,n,i,t[14],17,-1502002290),n=us(n,i=ls(i,r,s,n,t[15],22,1236535329),r,s,t[1],5,-165796510),s=us(s,n,i,r,t[6],9,-1069501632),r=us(r,s,n,i,t[11],14,643717713),i=us(i,r,s,n,t[0],20,-373897302),n=us(n,i,r,s,t[5],5,-701558691),s=us(s,n,i,r,t[10],9,38016083),r=us(r,s,n,i,t[15],14,-660478335),i=us(i,r,s,n,t[4],20,-405537848),n=us(n,i,r,s,t[9],5,568446438),s=us(s,n,i,r,t[14],9,-1019803690),r=us(r,s,n,i,t[3],14,-187363961),i=us(i,r,s,n,t[8],20,1163531501),n=us(n,i,r,s,t[13],5,-1444681467),s=us(s,n,i,r,t[2],9,-51403784),r=us(r,s,n,i,t[7],14,1735328473),n=cs(n,i=us(i,r,s,n,t[12],20,-1926607734),r,s,t[5],4,-378558),s=cs(s,n,i,r,t[8],11,-2022574463),r=cs(r,s,n,i,t[11],16,1839030562),i=cs(i,r,s,n,t[14],23,-35309556),n=cs(n,i,r,s,t[1],4,-1530992060),s=cs(s,n,i,r,t[4],11,1272893353),r=cs(r,s,n,i,t[7],16,-155497632),i=cs(i,r,s,n,t[10],23,-1094730640),n=cs(n,i,r,s,t[13],4,681279174),s=cs(s,n,i,r,t[0],11,-358537222),r=cs(r,s,n,i,t[3],16,-722521979),i=cs(i,r,s,n,t[6],23,76029189),n=cs(n,i,r,s,t[9],4,-640364487),s=cs(s,n,i,r,t[12],11,-421815835),r=cs(r,s,n,i,t[15],16,530742520),n=ds(n,i=cs(i,r,s,n,t[2],23,-995338651),r,s,t[0],6,-198630844),s=ds(s,n,i,r,t[7],10,1126891415),r=ds(r,s,n,i,t[14],15,-1416354905),i=ds(i,r,s,n,t[5],21,-57434055),n=ds(n,i,r,s,t[12],6,1700485571),s=ds(s,n,i,r,t[3],10,-1894986606),r=ds(r,s,n,i,t[10],15,-1051523),i=ds(i,r,s,n,t[1],21,-2054922799),n=ds(n,i,r,s,t[8],6,1873313359),s=ds(s,n,i,r,t[15],10,-30611744),r=ds(r,s,n,i,t[6],15,-1560198380),i=ds(i,r,s,n,t[13],21,1309151649),n=ds(n,i,r,s,t[4],6,-145523070),s=ds(s,n,i,r,t[11],10,-1120210379),r=ds(r,s,n,i,t[2],15,718787259),i=ds(i,r,s,n,t[9],21,-343485551),e[0]=Jc(n,e[0]),e[1]=Jc(i,e[1]),e[2]=Jc(r,e[2]),e[3]=Jc(s,e[3])}function l0(e,t,n,i,r,s){return t=Jc(Jc(t,e),Jc(i,s)),Jc(t<<r|t>>>32-r,n)}function ls(e,t,n,i,r,s,o){return l0(t&n|~t&i,e,t,r,s,o)}function us(e,t,n,i,r,s,o){return l0(t&i|n&~i,e,t,r,s,o)}function cs(e,t,n,i,r,s,o){return l0(t^n^i,e,t,r,s,o)}function ds(e,t,n,i,r,s,o){return l0(n^(t|~i),e,t,r,s,o)}function K4(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)c2(i,hne(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(c2(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,c2(i,r),i}function hne(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}cm=Gt.atob.bind(Gt),s5=Gt.btoa.bind(Gt);var hN="0123456789abcdef".split("");function fne(e){for(var t="",n=0;n<4;n++)t+=hN[e>>8*n+4&15]+hN[e>>8*n&15];return t}function pne(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function o5(e){return K4(e).map(pne).join("")}var gne=function(e){for(var t=0;t<e.length;t++)e[t]=fne(e[t]);return e.join("")}(K4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jc(e,t){if(gne){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a5(e,t){var n,i,r,s;if(e!==n){for(var o=(r=e,s=1+(256/e.length>>0),new Array(s+1).join(r)),a=[],u=0;u<256;u++)a[u]=u;var d=0;for(u=0;u<256;u++){var h=a[u];d=(d+h+o.charCodeAt(u))%256,a[u]=a[d],a[d]=h}n=e,i=a}else a=i;var p=t.length,g=0,m=0,y="";for(u=0;u<p;u++)m=(m+(h=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=h,o=a[(a[g]+a[m])%256],y+=String.fromCharCode(t.charCodeAt(u)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fN={print:4,modify:8,copy:16,"annot-forms":32};function _f(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(a){if(fN.perm!==void 0)throw new Error("Invalid permission: "+a);r+=fN[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=o5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=a5(this.encryptionKey,this.padding)}function Bf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=e[i]}return t}function pN(e){if(Gn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[i,!!r],s},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,i)}catch(a){Gt.console&&Kn.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function iC(e){if(!(this instanceof iC))return new iC(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Y4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sh(e,t,n,i,r){if(!(this instanceof sh))return new sh(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Y4.call(this,i,r)}function $f(e,t,n,i,r){if(!(this instanceof $f))return new $f(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Y4.call(this,i,r)}function Bt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,u=16,d="S",h=null;Gn(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=pN;var y="1.3",w=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(D){y=D};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var C=m.__private__.getPageFormat=function(D){return x[D]};r=r||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},E=A.COMPAT;function F(){this.saveGraphicsState(),fe(new bt(ft,0,0,-ft,0,dl()*ft).toString()+" cm"),this.setFontSize(this.getFontSize()/ft),d="n",E=A.ADVANCED}function N(){this.restoreGraphicsState(),d="S",E=A.COMPAT}var z=m.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};m.advancedAPI=function(D){var te=E===A.COMPAT;return te&&F.call(this),typeof D!="function"||(D(this),te&&N.call(this)),this},m.compatAPI=function(D){var te=E===A.ADVANCED;return te&&N.call(this),typeof D!="function"||(D(this),te&&F.call(this)),this},m.isAdvancedAPI=function(){return E===A.ADVANCED};var B,k=function(D){if(E!==A.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=m.roundToPrecision=m.__private__.roundToPrecision=function(D,te){var pe=t||te;if(isNaN(D)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(pe).replace(/0+$/,"")};B=m.hpf=m.__private__.hpf=typeof u=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return V(D,u)}:u==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return V(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return V(D,16)};var K=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return V(D,2)},T=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return V(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return E===A.COMPAT?D*ft:E===A.ADVANCED?D:void 0},H=function(D){return E===A.COMPAT?dl()-D:E===A.ADVANCED?D:void 0},q=function(D){return O(H(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var ee,$="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return $},Q=m.__private__.setFileId=function(D){return $=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ii=new _f(h.userPermissions,h.userPassword,h.ownerPassword,$)),$};m.setFileId=function(D){return Q(D),this},m.getFileId=function(){return W()};var ue=m.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),pe=te<0?"+":"-",Ce=Math.floor(Math.abs(te/60)),Te=Math.abs(te%60),Ge=[pe,Z(Ce),"'",Z(Te),"'"].join("");return["D:",D.getFullYear(),Z(D.getMonth()+1),Z(D.getDate()),Z(D.getHours()),Z(D.getMinutes()),Z(D.getSeconds()),Ge].join("")},U=m.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),pe=parseInt(D.substr(6,2),10)-1,Ce=parseInt(D.substr(8,2),10),Te=parseInt(D.substr(10,2),10),Ge=parseInt(D.substr(12,2),10),et=parseInt(D.substr(14,2),10);return new Date(te,pe,Ce,Te,Ge,et,0)},de=m.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return ee=te},j=m.__private__.getCreationDate=function(D){var te=ee;return D==="jsDate"&&(te=U(ee)),te};m.setCreationDate=function(D){return de(D),this},m.getCreationDate=function(D){return j(D)};var X,Z=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},re=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ce=0,ye=[],me=[],Se=0,Oe=[],_e=[],$e=!1,Be=me,it=function(){ce=0,Se=0,me=[],ye=[],Oe=[],Dn=In(),Fn=In()};m.__private__.setCustomOutputDestination=function(D){$e=!0,Be=D};var De=function(D){$e||(Be=D)};m.__private__.resetCustomOutputDestination=function(){$e=!1,Be=me};var fe=m.__private__.out=function(D){return D=D.toString(),Se+=D.length+1,Be.push(D),Be},ct=m.__private__.write=function(D){return fe(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ot=m.__private__.getArrayBuffer=function(D){for(var te=D.length,pe=new ArrayBuffer(te),Ce=new Uint8Array(pe);te--;)Ce[te]=D.charCodeAt(te);return pe},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ye};var Je=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Je=E===A.ADVANCED?D/ft:D,this};var nt,at=m.__private__.getFontSize=m.getFontSize=function(){return E===A.COMPAT?Je:Je*ft},yt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return yt=D,this},m.__private__.getR2L=m.getR2L=function(){return yt};var mt,It=m.__private__.setZoomMode=function(D){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))nt=D;else if(isNaN(D)){if(te.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');nt=D}else nt=parseInt(D,10)};m.__private__.getZoomMode=function(){return nt};var Vt,zt=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');mt=D};m.__private__.getPageMode=function(){return mt};var wt=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Vt=D};m.__private__.getLayoutMode=function(){return Vt},m.__private__.setDisplayMode=m.setDisplayMode=function(D,te,pe){return It(D),wt(te),zt(pe),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(vt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[D]},m.__private__.getDocumentProperties=function(){return vt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var te in vt)vt.hasOwnProperty(te)&&D[te]&&(vt[te]=D[te]);return this},m.__private__.setDocumentProperty=function(D,te){if(Object.keys(vt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[D]=te};var Ot,ft,yi,Zt,An,hn={},ln={},En=[],sn={},qi={},Tn={},Di={},Fi=null,fn=0,Dt=[],Jt=new pN(m),Cs=e.hotfixes||[],Yn={},Li={},lr=[],bt=function D(te,pe,Ce,Te,Ge,et){if(!(this instanceof D))return new D(te,pe,Ce,Te,Ge,et);isNaN(te)&&(te=1),isNaN(pe)&&(pe=0),isNaN(Ce)&&(Ce=0),isNaN(Te)&&(Te=1),isNaN(Ge)&&(Ge=0),isNaN(et)&&(et=0),this._matrix=[te,pe,Ce,Te,Ge,et]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(D)},bt.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,pe=D.sx*this.shy+D.shy*this.sy,Ce=D.shx*this.sx+D.sy*this.shx,Te=D.shx*this.shy+D.sy*this.sy,Ge=D.tx*this.sx+D.ty*this.shx+this.tx,et=D.tx*this.shy+D.ty*this.sy+this.ty;return new bt(te,pe,Ce,Te,Ge,et)},bt.prototype.decompose=function(){var D=this.sx,te=this.shy,pe=this.shx,Ce=this.sy,Te=this.tx,Ge=this.ty,et=Math.sqrt(D*D+te*te),gt=(D/=et)*pe+(te/=et)*Ce;pe-=D*gt,Ce-=te*gt;var At=Math.sqrt(pe*pe+Ce*Ce);return gt/=At,D*(Ce/=At)<te*(pe/=At)&&(D=-D,te=-te,gt=-gt,et=-et),{scale:new bt(et,0,0,At,0,0),translate:new bt(1,0,0,1,Te,Ge),rotate:new bt(D,te,-te,D,0,0),skew:new bt(1,0,gt,1,0,0)}},bt.prototype.toString=function(D){return this.join(" ")},bt.prototype.inversed=function(){var D=this.sx,te=this.shy,pe=this.shx,Ce=this.sy,Te=this.tx,Ge=this.ty,et=1/(D*Ce-te*pe),gt=Ce*et,At=-te*et,Kt=-pe*et,qt=D*et;return new bt(gt,At,Kt,qt,-gt*Te-Kt*Ge,-At*Te-qt*Ge)},bt.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,pe=D.x*this.shy+D.y*this.sy+this.ty;return new oc(te,pe)},bt.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),pe=this.applyToPoint(new oc(D.x+D.w,D.y+D.h));return new wd(te.x,te.y,pe.x-te.x,pe.y-te.y)},bt.prototype.clone=function(){var D=this.sx,te=this.shy,pe=this.shx,Ce=this.sy,Te=this.tx,Ge=this.ty;return new bt(D,te,pe,Ce,Te,Ge)},m.Matrix=bt;var Mr=m.matrixMult=function(D,te){return te.multiply(D)},Nr=new bt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Nr;var Ui=function(D,te){if(!qi[D]){var pe=(te instanceof sh?"Sh":"P")+(Object.keys(sn).length+1).toString(10);te.id=pe,qi[D]=pe,sn[pe]=te,Jt.publish("addPattern",te)}};m.ShadingPattern=sh,m.TilingPattern=$f,m.addShadingPattern=function(D,te){return k("addShadingPattern()"),Ui(D,te),this},m.beginTilingPattern=function(D){k("beginTilingPattern()"),ac(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,te){k("endTilingPattern()"),te.stream=_e[X].join(`
`),Ui(D,te),Jt.publish("endTilingPattern",te),lr.pop().restore()};var Un=m.__private__.newObject=function(){var D=In();return Cn(D,!0),D},In=m.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return Se},ce},Cn=function(D,te){return te=typeof te=="boolean"&&te,ye[D]=Se,te&&fe(D+" 0 obj"),D},ur=m.__private__.newAdditionalObject=function(){var D={objId:In(),content:""};return Oe.push(D),D},Dn=In(),Fn=In(),Mi=m.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var pe=parseFloat(te[0]);te=[pe,pe,pe,"r"]}for(var Ce="#",Te=0;Te<3;Te++)Ce+=("0"+Math.floor(255*parseFloat(te[Te])).toString(16)).slice(-2);return Ce},cr=m.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var pe=D.ch1,Ce=D.ch2,Te=D.ch3,Ge=D.ch4,et=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var gt=new $4(pe);if(gt.ok)pe=gt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var At=parseInt(pe.substr(1),16);pe=At>>16&255,Ce=At>>8&255,Te=255&At}if(Ce===void 0||Ge===void 0&&pe===Ce&&Ce===Te)if(typeof pe=="string")te=pe+" "+et[0];else switch(D.precision){case 2:te=K(pe/255)+" "+et[0];break;case 3:default:te=T(pe/255)+" "+et[0]}else if(Ge===void 0||Gn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return te=["1.","1.","1.",et[1]].join(" ");if(typeof pe=="string")te=[pe,Ce,Te,et[1]].join(" ");else switch(D.precision){case 2:te=[K(pe/255),K(Ce/255),K(Te/255),et[1]].join(" ");break;default:case 3:te=[T(pe/255),T(Ce/255),T(Te/255),et[1]].join(" ")}}else if(typeof pe=="string")te=[pe,Ce,Te,Ge,et[2]].join(" ");else switch(D.precision){case 2:te=[K(pe),K(Ce),K(Te),K(Ge),et[2]].join(" ");break;case 3:default:te=[T(pe),T(Ce),T(Te),T(Ge),et[2]].join(" ")}return te},_n=m.__private__.getFilters=function(){return o},br=m.__private__.putStream=function(D){var te=(D=D||{}).data||"",pe=D.filters||_n(),Ce=D.alreadyAppliedFilters||[],Te=D.addLength1||!1,Ge=te.length,et=D.objectId,gt=function(wi){return wi};if(h!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(gt=ii.encryptor(et,0));var At={};pe===!0&&(pe=["FlateEncode"]);var Kt=D.additionalKeyValues||[],qt=(At=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(te,pe):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(At.data.length!==0&&(Kt.push({key:"Length",value:At.data.length}),Te===!0&&Kt.push({key:"Length1",value:Ge})),qt.length!=0)if(qt.split("/").length-1==1)Kt.push({key:"Filter",value:qt});else{Kt.push({key:"Filter",value:"["+qt+"]"});for(var cn=0;cn<Kt.length;cn+=1)if(Kt[cn].key==="DecodeParms"){for(var Xn=[],ri=0;ri<At.reverseChain.split("/").length-1;ri+=1)Xn.push("null");Xn.push(Kt[cn].value),Kt[cn].value="["+Xn.join(" ")+"]"}}fe("<<");for(var Ci=0;Ci<Kt.length;Ci++)fe("/"+Kt[Ci].key+" "+Kt[Ci].value);fe(">>"),At.data.length!==0&&(fe("stream"),fe(gt(At.data)),fe("endstream"))},Or=m.__private__.putPage=function(D){var te=D.number,pe=D.data,Ce=D.objId,Te=D.contentsObjId;Cn(Ce,!0),fe("<</Type /Page"),fe("/Parent "+D.rootDictionaryObjId+" 0 R"),fe("/Resources "+D.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(B(D.mediaBox.bottomLeftX))+" "+parseFloat(B(D.mediaBox.bottomLeftY))+" "+B(D.mediaBox.topRightX)+" "+B(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&fe("/CropBox ["+B(D.cropBox.bottomLeftX)+" "+B(D.cropBox.bottomLeftY)+" "+B(D.cropBox.topRightX)+" "+B(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&fe("/BleedBox ["+B(D.bleedBox.bottomLeftX)+" "+B(D.bleedBox.bottomLeftY)+" "+B(D.bleedBox.topRightX)+" "+B(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&fe("/TrimBox ["+B(D.trimBox.bottomLeftX)+" "+B(D.trimBox.bottomLeftY)+" "+B(D.trimBox.topRightX)+" "+B(D.trimBox.topRightY)+"]"),D.artBox!==null&&fe("/ArtBox ["+B(D.artBox.bottomLeftX)+" "+B(D.artBox.bottomLeftY)+" "+B(D.artBox.topRightX)+" "+B(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&fe("/UserUnit "+D.userUnit),Jt.publish("putPage",{objId:Ce,pageContext:Dt[te],pageNumber:te,page:pe}),fe("/Contents "+Te+" 0 R"),fe(">>"),fe("endobj");var Ge=pe.join(`
`);return E===A.ADVANCED&&(Ge+=`
Q`),Cn(Te,!0),br({data:Ge,filters:_n(),objectId:Te}),fe("endobj"),Ce},kr=m.__private__.putPages=function(){var D,te,pe=[];for(D=1;D<=fn;D++)Dt[D].objId=In(),Dt[D].contentsObjId=In();for(D=1;D<=fn;D++)pe.push(Or({number:D,data:_e[D],objId:Dt[D].objId,contentsObjId:Dt[D].contentsObjId,mediaBox:Dt[D].mediaBox,cropBox:Dt[D].cropBox,bleedBox:Dt[D].bleedBox,trimBox:Dt[D].trimBox,artBox:Dt[D].artBox,userUnit:Dt[D].userUnit,rootDictionaryObjId:Dn,resourceDictionaryObjId:Fn}));Cn(Dn,!0),fe("<</Type /Pages");var Ce="/Kids [";for(te=0;te<fn;te++)Ce+=pe[te]+" 0 R ";fe(Ce+"]"),fe("/Count "+fn),fe(">>"),fe("endobj"),Jt.publish("postPutPages")},Bs=function(D){Jt.publish("putFont",{font:D,out:fe,newObject:Un,putStream:br}),D.isAlreadyPutted!==!0&&(D.objectNumber=Un(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Bf(D.postScriptName)),fe("/Subtype /Type1"),typeof D.encoding=="string"&&fe("/Encoding /"+D.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Cr=function(){for(var D in hn)hn.hasOwnProperty(D)&&(p===!1||p===!0&&g.hasOwnProperty(D))&&Bs(hn[D])},Vn=function(D){D.objectNumber=Un();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[B(D.x),B(D.y),B(D.x+D.width),B(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var pe=D.pages[1].join(`
`);br({data:pe,additionalKeyValues:te,objectId:D.objectNumber}),fe("endobj")},Qr=function(){for(var D in Yn)Yn.hasOwnProperty(D)&&Vn(Yn[D])},ws=function(D,te){var pe,Ce=[],Te=1/(te-1);for(pe=0;pe<1;pe+=Te)Ce.push(pe);if(Ce.push(1),D[0].offset!=0){var Ge={offset:0,color:D[0].color};D.unshift(Ge)}if(D[D.length-1].offset!=1){var et={offset:1,color:D[D.length-1].color};D.push(et)}for(var gt="",At=0,Kt=0;Kt<Ce.length;Kt++){for(pe=Ce[Kt];pe>D[At+1].offset;)At++;var qt=D[At].offset,cn=(pe-qt)/(D[At+1].offset-qt),Xn=D[At].color,ri=D[At+1].color;gt+=re(Math.round((1-cn)*Xn[0]+cn*ri[0]).toString(16))+re(Math.round((1-cn)*Xn[1]+cn*ri[1]).toString(16))+re(Math.round((1-cn)*Xn[2]+cn*ri[2]).toString(16))}return gt.trim()},Qn=function(D,te){te||(te=21);var pe=Un(),Ce=ws(D.colors,te),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+te+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:Ce,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),fe("endobj"),D.objectNumber=Un(),fe("<< /ShadingType "+D.type),fe("/ColorSpace /DeviceRGB");var Ge="/Coords ["+B(parseFloat(D.coords[0]))+" "+B(parseFloat(D.coords[1]))+" ";D.type===2?Ge+=B(parseFloat(D.coords[2]))+" "+B(parseFloat(D.coords[3])):Ge+=B(parseFloat(D.coords[2]))+" "+B(parseFloat(D.coords[3]))+" "+B(parseFloat(D.coords[4]))+" "+B(parseFloat(D.coords[5])),fe(Ge+="]"),D.matrix&&fe("/Matrix ["+D.matrix.toString()+"]"),fe("/Function "+pe+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ll=function(D,te){var pe=In(),Ce=Un();te.push({resourcesOid:pe,objectOid:Ce}),D.objectNumber=Ce;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+D.boundingBox.map(B).join(" ")+"]"}),Te.push({key:"XStep",value:B(D.xStep)}),Te.push({key:"YStep",value:B(D.yStep)}),Te.push({key:"Resources",value:pe+" 0 R"}),D.matrix&&Te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),br({data:D.stream,additionalKeyValues:Te,objectId:D.objectNumber}),fe("endobj")},to=function(D){var te;for(te in sn)sn.hasOwnProperty(te)&&(sn[te]instanceof sh?Qn(sn[te]):sn[te]instanceof $f&&ll(sn[te],D))},dr=function(D){for(var te in D.objectNumber=Un(),fe("<<"),D)switch(te){case"opacity":fe("/ca "+K(D[te]));break;case"stroke-opacity":fe("/CA "+K(D[te]))}fe(">>"),fe("endobj")},Ss=function(){var D;for(D in Tn)Tn.hasOwnProperty(D)&&dr(Tn[D])},Ni=function(){for(var D in fe("/XObject <<"),Yn)Yn.hasOwnProperty(D)&&Yn[D].objectNumber>=0&&fe("/"+D+" "+Yn[D].objectNumber+" 0 R");Jt.publish("putXobjectDict"),fe(">>")},Xr=function(){ii.oid=Un(),fe("<<"),fe("/Filter /Standard"),fe("/V "+ii.v),fe("/R "+ii.r),fe("/U <"+ii.toHexString(ii.U)+">"),fe("/O <"+ii.toHexString(ii.O)+">"),fe("/P "+ii.P),fe(">>"),fe("endobj")},no=function(){for(var D in fe("/Font <<"),hn)hn.hasOwnProperty(D)&&(p===!1||p===!0&&g.hasOwnProperty(D))&&fe("/"+D+" "+hn[D].objectNumber+" 0 R");fe(">>")},ul=function(){if(Object.keys(sn).length>0){for(var D in fe("/Shading <<"),sn)sn.hasOwnProperty(D)&&sn[D]instanceof sh&&sn[D].objectNumber>=0&&fe("/"+D+" "+sn[D].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),fe(">>")}},No=function(D){if(Object.keys(sn).length>0){for(var te in fe("/Pattern <<"),sn)sn.hasOwnProperty(te)&&sn[te]instanceof m.TilingPattern&&sn[te].objectNumber>=0&&sn[te].objectNumber<D&&fe("/"+te+" "+sn[te].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),fe(">>")}},Oo=function(){if(Object.keys(Tn).length>0){var D;for(D in fe("/ExtGState <<"),Tn)Tn.hasOwnProperty(D)&&Tn[D].objectNumber>=0&&fe("/"+D+" "+Tn[D].objectNumber+" 0 R");Jt.publish("putGStateDict"),fe(">>")}},Ln=function(D){Cn(D.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),no(),ul(),No(D.objectOid),Oo(),Ni(),fe(">>"),fe("endobj")},wr=function(){var D=[];Cr(),Ss(),Qr(),to(D),Jt.publish("putResources"),D.forEach(Ln),Ln({resourcesOid:Fn,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},fi=function(){Jt.publish("putAdditionalObjects");for(var D=0;D<Oe.length;D++){var te=Oe[D];Cn(te.objId,!0),fe(te.content),fe("endobj")}Jt.publish("postPutAdditionalObjects")},io=function(D){ln[D.fontName]=ln[D.fontName]||{},ln[D.fontName][D.fontStyle]=D.id},xs=function(D,te,pe,Ce,Te){var Ge={id:"F"+(Object.keys(hn).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:pe,encoding:Ce,isStandardFont:Te||!1,metadata:{}};return Jt.publish("addFont",{font:Ge,instance:this}),hn[Ge.id]=Ge,io(Ge),Ge.id},ro=function(D){for(var te=0,pe=Ye.length;te<pe;te++){var Ce=xs.call(this,D[te][0],D[te][1],D[te][2],Ye[te][3],!0);p===!1&&(g[Ce]=!0);var Te=D[te][0].split("-");io({id:Ce,fontName:Te[0],fontStyle:Te[1]||""})}Jt.publish("addFonts",{fonts:hn,dictionary:ln})},hr=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Ce){var te=Ce.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var pe="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Gt.console)throw new Error(pe);Gt.console.error(pe,Ce),Gt.alert&&alert(pe)}},D.foo.bar=D,D.foo},Rs=function(D,te){var pe,Ce,Te,Ge,et,gt,At,Kt,qt;if(Te=(te=te||{}).sourceEncoding||"Unicode",et=te.outputEncoding,(te.autoencode||et)&&hn[Ot].metadata&&hn[Ot].metadata[Te]&&hn[Ot].metadata[Te].encoding&&(Ge=hn[Ot].metadata[Te].encoding,!et&&hn[Ot].encoding&&(et=hn[Ot].encoding),!et&&Ge.codePages&&(et=Ge.codePages[0]),typeof et=="string"&&(et=Ge[et]),et)){for(At=!1,gt=[],pe=0,Ce=D.length;pe<Ce;pe++)(Kt=et[D.charCodeAt(pe)])?gt.push(String.fromCharCode(Kt)):gt.push(D[pe]),gt[pe].charCodeAt(0)>>8&&(At=!0);D=gt.join("")}for(pe=D.length;At===void 0&&pe!==0;)D.charCodeAt(pe-1)>>8&&(At=!0),pe--;if(!At)return D;for(gt=te.noBOM?[]:[254,255],pe=0,Ce=D.length;pe<Ce;pe++){if((qt=(Kt=D.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(qt),gt.push(Kt-(qt<<8))}return String.fromCharCode.apply(void 0,gt)},tr=m.__private__.pdfEscape=m.pdfEscape=function(D,te){return Rs(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oi=m.__private__.beginPage=function(D){_e[++fn]=[],Dt[fn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},_o(fn),De(_e[X])},ko=function(D,te){var pe,Ce,Te;switch(n=te||n,typeof D=="string"&&(pe=C(D.toLowerCase()),Array.isArray(pe)&&(Ce=pe[0],Te=pe[1])),Array.isArray(D)&&(Ce=D[0]*ft,Te=D[1]*ft),isNaN(Ce)&&(Ce=r[0],Te=r[1]),(Ce>14400||Te>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Te=Math.min(14400,Te)),r=[Ce,Te],n.substr(0,1)){case"l":Te>Ce&&(r=[Te,Ce]);break;case"p":Ce>Te&&(r=[Te,Ce])}Oi(r),Rt(He),fe(Nn),Go!==0&&fe(Go+" J"),co!==0&&fe(co+" j"),Jt.publish("addPage",{pageNumber:fn})},Io=function(D){D>0&&D<=fn&&(_e.splice(D,1),Dt.splice(D,1),fn--,X>fn&&(X=fn),this.setPage(X))},_o=function(D){D>0&&D<=fn&&(X=D)},Hs=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return _e.length-1},As=function(D,te,pe){var Ce,Te=void 0;return pe=pe||{},D=D!==void 0?D:hn[Ot].fontName,te=te!==void 0?te:hn[Ot].fontStyle,Ce=D.toLowerCase(),ln[Ce]!==void 0&&ln[Ce][te]!==void 0?Te=ln[Ce][te]:ln[D]!==void 0&&ln[D][te]!==void 0?Te=ln[D][te]:pe.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),Te||pe.noFallback||(Te=ln.times[te])==null&&(Te=ln.times.normal),Te},Sr=m.__private__.putInfo=function(){var D=Un(),te=function(Ce){return Ce};for(var pe in h!==null&&(te=ii.encryptor(D,0)),fe("<<"),fe("/Producer ("+tr(te("jsPDF "+Bt.version))+")"),vt)vt.hasOwnProperty(pe)&&vt[pe]&&fe("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+tr(te(vt[pe]))+")");fe("/CreationDate ("+tr(te(ee))+")"),fe(">>"),fe("endobj")},ki=m.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||Dn;switch(Un(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+te+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+nt;pe.substr(pe.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+K(nt)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}mt&&fe("/PageMode /"+mt),Jt.publish("putCatalog"),fe(">>"),fe("endobj")},Es=m.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ce+1)),fe("/Root "+ce+" 0 R"),fe("/Info "+(ce-1)+" 0 R"),h!==null&&fe("/Encrypt "+ii.oid+" 0 R"),fe("/ID [ <"+$+"> <"+$+"> ]"),fe(">>")},cl=m.__private__.putHeader=function(){fe("%PDF-"+y),fe("%")},Ir=m.__private__.putXRef=function(){var D="0000000000";fe("xref"),fe("0 "+(ce+1)),fe("0000000000 65535 f ");for(var te=1;te<=ce;te++)typeof ye[te]=="function"?fe((D+ye[te]()).slice(-10)+" 00000 n "):ye[te]!==void 0?fe((D+ye[te]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},_r=m.__private__.buildDocument=function(){it(),De(me),Jt.publish("buildDocument"),cl(),kr(),fi(),wr(),h!==null&&Xr(),Sr(),ki();var D=Se;return Ir(),Es(),fe("startxref"),fe(""+D),fe("%%EOF"),De(_e[X]),me.join(`
`)},Bo=m.__private__.getBlob=function(D){return new Blob([ot(D)],{type:"application/pdf"})},Ho=m.output=m.__private__.output=hr(function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return _r();case"save":m.save(te.filename);break;case"arraybuffer":return ot(_r());case"blob":return Bo(_r());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(Bo(_r()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Ce=_r();try{pe=s5(Ce)}catch{pe=s5(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+te.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Te=te.pdfObjectUrl,Ge="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",gt=Gt.open();return gt!==null&&gt.document.write(et),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',Kt=Gt.open();if(Kt!==null){Kt.document.write(At);var qt=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=te.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Xn=Gt.open();if(Xn!==null&&(Xn.document.write(cn),Xn.document.title=te.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",te);default:return null}}),so=function(D){return Array.isArray(Cs)===!0&&Cs.indexOf(D)>-1};switch(i){case"pt":ft=1;break;case"mm":ft=72/25.4;break;case"cm":ft=72/2.54;break;case"in":ft=72;break;case"px":ft=so("px_scaling")==1?.75:96/72;break;case"pc":case"em":ft=12;break;case"ex":ft=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ft=i}var ii=null;de(),Q();var bi=function(D){return h!==null?ii.encryptor(D,0):function(te){return te}},Zr=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[D].objId,pageNumber:D,pageContext:Dt[D]}},Ft=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Dt)if(Dt[te].objId===D)break;return Zr(te)},oo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Dt[X].objId,pageNumber:X,pageContext:Dt[X]}};m.addPage=function(){return ko.apply(this,arguments),this},m.setPage=function(){return _o.apply(this,arguments),De.call(this,_e[X]),this},m.insertPage=function(D){return this.addPage(),this.movePage(X,D),this},m.movePage=function(D,te){var pe,Ce;if(D>te){pe=_e[D],Ce=Dt[D];for(var Te=D;Te>te;Te--)_e[Te]=_e[Te-1],Dt[Te]=Dt[Te-1];_e[te]=pe,Dt[te]=Ce,this.setPage(te)}else if(D<te){pe=_e[D],Ce=Dt[D];for(var Ge=D;Ge<te;Ge++)_e[Ge]=_e[Ge+1],Dt[Ge]=Dt[Ge+1];_e[te]=pe,Dt[te]=Ce,this.setPage(te)}return this},m.deletePage=function(){return Io.apply(this,arguments),this},m.__private__.text=m.text=function(D,te,pe,Ce,Te){var Ge,et,gt,At,Kt,qt,cn,Xn,ri,Ci=(Ce=Ce||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof pe=="string"||Array.isArray(pe))){var wi=pe;pe=te,te=D,D=wi}if(arguments[3]instanceof bt?(k("The transform parameter of text() with a Matrix value"),ri=Te):(gt=arguments[4],At=arguments[5],Gn(cn=arguments[3])==="object"&&cn!==null||(typeof gt=="string"&&(At=gt,gt=null),typeof cn=="string"&&(At=cn,cn=null),typeof cn=="number"&&(gt=cn,cn=null),Ce={flags:cn,angle:gt,align:At})),isNaN(te)||isNaN(pe)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Ci;var rr="",ho=!1,Ps=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:ve,fo=Ci.internal.scaleFactor;function Rd(on){return on=on.split("	").join(Array(Ce.TabLen||9).join(" ")),tr(on,cn)}function ma(on){for(var wn,oi=on.concat(),gi=[],zs=oi.length;zs--;)typeof(wn=oi.shift())=="string"?gi.push(wn):Array.isArray(on)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?gi.push(wn[0]):gi.push([wn[0],wn[1],wn[2]]);return gi}function va(on,wn){var oi;if(typeof on=="string")oi=wn(on)[0];else if(Array.isArray(on)){for(var gi,zs,ou=on.concat(),Ls=[],Pd=ou.length;Pd--;)typeof(gi=ou.shift())=="string"?Ls.push(wn(gi)[0]):Array.isArray(gi)&&typeof gi[0]=="string"&&(zs=wn(gi[0],gi[1],gi[2]),Ls.push([zs[0],zs[1],zs[2]]));oi=Ls}return oi}var cc=!1,hl=!0;if(typeof D=="string")cc=!0;else if(Array.isArray(D)){var dc=D.concat();et=[];for(var tu,Wi=dc.length;Wi--;)(typeof(tu=dc.shift())!="string"||Array.isArray(tu)&&typeof tu[0]!="string")&&(hl=!1);cc=hl}if(cc===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var fl=Je/Ci.internal.scaleFactor,nu=fl*(Ps-1);switch(Ce.baseline){case"bottom":pe-=nu;break;case"top":pe+=fl-nu;break;case"hanging":pe+=fl-2*nu;break;case"middle":pe+=fl/2-nu}if((qt=Ce.maxWidth||0)>0&&(typeof D=="string"?D=Ci.splitTextToSize(D,qt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(on,wn){return on.concat(Ci.splitTextToSize(wn,qt))},[]))),Ge={text:D,x:te,y:pe,options:Ce,mutex:{pdfEscape:tr,activeFontKey:Ot,fonts:hn,activeFontSize:Je}},Jt.publish("preProcessText",Ge),D=Ge.text,gt=(Ce=Ge.options).angle,!(ri instanceof bt)&&gt&&typeof gt=="number"){gt*=Math.PI/180,Ce.rotationDirection===0&&(gt=-gt),E===A.ADVANCED&&(gt=-gt);var iu=Math.cos(gt),hc=Math.sin(gt);ri=new bt(iu,hc,-hc,iu,0,0)}else gt&&gt instanceof bt&&(ri=gt);E!==A.ADVANCED||ri||(ri=Nr),(Kt=Ce.charSpace||es)!==void 0&&(rr+=B(O(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=Ce.horizontalScale)!==void 0&&(rr+=B(100*Xn)+` Tz
`),Ce.lang;var ts=-1,zp=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Ad=Ci.internal.getCurrentPageInfo().pageContext;switch(zp){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var Kh=Ad.usedRenderingMode!==void 0?Ad.usedRenderingMode:-1;ts!==-1?rr+=ts+` Tr
`:Kh!==-1&&(rr+=`0 Tr
`),ts!==-1&&(Ad.usedRenderingMode=ts),At=Ce.align||"left";var Vs,sr=Je*Ps,pl=Ci.internal.pageSize.getWidth(),Ed=hn[Ot];Kt=Ce.charSpace||es,qt=Ce.maxWidth||0,cn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var ya=[],gl=function(on){return Ci.getStringUnitWidth(on,{font:Ed,charSpace:Kt,fontSize:Je,doKerning:!1})*Je/fo};if(Object.prototype.toString.call(D)==="[object Array]"){var Br;et=ma(D),At!=="left"&&(Vs=et.map(gl));var pr,ml=0;if(At==="right"){te-=Vs[0],D=[],Wi=et.length;for(var ba=0;ba<Wi;ba++)ba===0?(pr=Wt(te),Br=Bn(pe)):(pr=O(ml-Vs[ba]),Br=-sr),D.push([et[ba],pr,Br]),ml=Vs[ba]}else if(At==="center"){te-=Vs[0]/2,D=[],Wi=et.length;for(var ns=0;ns<Wi;ns++)ns===0?(pr=Wt(te),Br=Bn(pe)):(pr=O((ml-Vs[ns])/2),Br=-sr),D.push([et[ns],pr,Br]),ml=Vs[ns]}else if(At==="left"){D=[],Wi=et.length;for(var vl=0;vl<Wi;vl++)D.push(et[vl])}else if(At==="justify"&&Ed.encoding==="Identity-H"){D=[],Wi=et.length,qt=qt!==0?qt:pl;for(var Ds=0,si=0;si<Wi;si++)if(Br=si===0?Bn(pe):-sr,pr=si===0?Wt(te):Ds,si<Wi-1){var fc=O((qt-Vs[si])/(et[si].split(" ").length-1)),Si=et[si].split(" ");D.push([Si[0]+" ",pr,Br]),Ds=0;for(var gr=1;gr<Si.length;gr++){var yl=(gl(Si[gr-1]+" "+Si[gr])-gl(Si[gr]))*fo+fc;gr==Si.length-1?D.push([Si[gr],yl,0]):D.push([Si[gr]+" ",yl,0]),Ds-=yl}}else D.push([et[si],pr,Br]);D.push(["",Ds,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Wi=et.length,qt=qt!==0?qt:pl,si=0;si<Wi;si++)Br=si===0?Bn(pe):-sr,pr=si===0?Wt(te):0,si<Wi-1?ya.push(B(O((qt-Vs[si])/(et[si].split(" ").length-1)))):ya.push(0),D.push([et[si],pr,Br])}}var Td=typeof Ce.R2L=="boolean"?Ce.R2L:yt;Td===!0&&(D=va(D,function(on,wn,oi){return[on.split("").reverse().join(""),wn,oi]})),Ge={text:D,x:te,y:pe,options:Ce,mutex:{pdfEscape:tr,activeFontKey:Ot,fonts:hn,activeFontSize:Je}},Jt.publish("postProcessText",Ge),D=Ge.text,ho=Ge.mutex.isHex||!1;var po=hn[Ot].encoding;po!=="WinAnsiEncoding"&&po!=="StandardEncoding"||(D=va(D,function(on,wn,oi){return[Rd(on),wn,oi]})),et=ma(D),D=[];for(var bl,Cl,Ca,ru=0,pc=1,su=Array.isArray(et[0])?pc:ru,wa="",gc=function(on,wn,oi){var gi="";return oi instanceof bt?(oi=typeof Ce.angle=="number"?Mr(oi,new bt(1,0,0,1,on,wn)):Mr(new bt(1,0,0,1,on,wn),oi),E===A.ADVANCED&&(oi=Mr(new bt(1,0,0,-1,0,0),oi)),gi=oi.join(" ")+` Tm
`):gi=B(on)+" "+B(wn)+` Td
`,gi},Fs=0;Fs<et.length;Fs++){switch(wa="",su){case pc:Ca=(ho?"<":"(")+et[Fs][0]+(ho?">":")"),bl=parseFloat(et[Fs][1]),Cl=parseFloat(et[Fs][2]);break;case ru:Ca=(ho?"<":"(")+et[Fs]+(ho?">":")"),bl=Wt(te),Cl=Bn(pe)}ya!==void 0&&ya[Fs]!==void 0&&(wa=ya[Fs]+` Tw
`),Fs===0?D.push(wa+gc(bl,Cl,ri)+Ca):su===ru?D.push(wa+Ca):su===pc&&D.push(wa+gc(bl,Cl,ri)+Ca)}D=su===ru?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var pi=`BT
/`;return pi+=Ot+" "+Je+` Tf
`,pi+=B(Je*Ps)+` TL
`,pi+=Ar+`
`,pi+=rr,pi+=D,fe(pi+="ET"),g[Ot]=!0,Ci};var ao=m.__private__.clip=m.clip=function(D){return fe(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ao("evenodd")},m.__private__.discardPath=m.discardPath=function(){return fe("n"),this};var nr=m.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return nr(D)&&(d=D),this};var js=m.__private__.getStyle=m.getStyle=function(D){var te=d;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},lo=m.close=function(){return fe("h"),this};m.stroke=function(){return fe("S"),this},m.fill=function(D){return xr("f",D),this},m.fillEvenOdd=function(D){return xr("f*",D),this},m.fillStroke=function(D){return xr("B",D),this},m.fillStrokeEvenOdd=function(D){return xr("B*",D),this};var xr=function(D,te){Gn(te)==="object"?uo(te,D):fe(D)},fr=function(D){D===null||E===A.ADVANCED&&D===void 0||(D=js(D),fe(D))};function Rr(D,te,pe,Ce,Te){var Ge=new $f(te||this.boundingBox,pe||this.xStep,Ce||this.yStep,this.gState,Te||this.matrix);Ge.stream=this.stream;var et=D+"$$"+this.cloneIndex+++"$$";return Ui(et,Ge),Ge}var uo=function(D,te){var pe=qi[D.key],Ce=sn[pe];if(Ce instanceof sh)fe("q"),fe(jo(te)),Ce.gState&&m.setGState(Ce.gState),fe(D.matrix.toString()+" cm"),fe("/"+pe+" sh"),fe("Q");else if(Ce instanceof $f){var Te=new bt(1,0,0,-1,0,dl());D.matrix&&(Te=Te.multiply(D.matrix||Nr),pe=Rr.call(Ce,D.key,D.boundingBox,D.xStep,D.yStep,Te).id),fe("q"),fe("/Pattern cs"),fe("/"+pe+" scn"),Ce.gState&&m.setGState(Ce.gState),fe(te),fe("Q")}},jo=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gs=m.moveTo=function(D,te){return fe(B(O(D))+" "+B(q(te))+" m"),this},Jr=m.lineTo=function(D,te){return fe(B(O(D))+" "+B(q(te))+" l"),this},_=m.curveTo=function(D,te,pe,Ce,Te,Ge){return fe([B(O(D)),B(q(te)),B(O(pe)),B(q(Ce)),B(O(Te)),B(q(Ge)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,te,pe,Ce,Te){if(isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(Ce)||!nr(Te))throw new Error("Invalid arguments passed to jsPDF.line");return E===A.COMPAT?this.lines([[pe-D,Ce-te]],D,te,[1,1],Te||"S"):this.lines([[pe-D,Ce-te]],D,te,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,te,pe,Ce,Te,Ge){var et,gt,At,Kt,qt,cn,Xn,ri,Ci,wi,rr,ho;if(typeof D=="number"&&(ho=pe,pe=te,te=D,D=ho),Ce=Ce||[1,1],Ge=Ge||!1,isNaN(te)||isNaN(pe)||!Array.isArray(D)||!Array.isArray(Ce)||!nr(Te)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gs(te,pe),et=Ce[0],gt=Ce[1],Kt=D.length,wi=te,rr=pe,At=0;At<Kt;At++)(qt=D[At]).length===2?(wi=qt[0]*et+wi,rr=qt[1]*gt+rr,Jr(wi,rr)):(cn=qt[0]*et+wi,Xn=qt[1]*gt+rr,ri=qt[2]*et+wi,Ci=qt[3]*gt+rr,wi=qt[4]*et+wi,rr=qt[5]*gt+rr,_(cn,Xn,ri,Ci,wi,rr));return Ge&&lo(),fr(Te),this},m.path=function(D){for(var te=0;te<D.length;te++){var pe=D[te],Ce=pe.c;switch(pe.op){case"m":Gs(Ce[0],Ce[1]);break;case"l":Jr(Ce[0],Ce[1]);break;case"c":_.apply(this,Ce);break;case"h":lo()}}return this},m.__private__.rect=m.rect=function(D,te,pe,Ce,Te){if(isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(Ce)||!nr(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return E===A.COMPAT&&(Ce=-Ce),fe([B(O(D)),B(q(te)),B(O(pe)),B(O(Ce)),"re"].join(" ")),fr(Te),this},m.__private__.triangle=m.triangle=function(D,te,pe,Ce,Te,Ge,et){if(isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(Ce)||isNaN(Te)||isNaN(Ge)||!nr(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-D,Ce-te],[Te-pe,Ge-Ce],[D-Te,te-Ge]],D,te,[1,1],et,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,te,pe,Ce,Te,Ge,et){if(isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(Ce)||isNaN(Te)||isNaN(Ge)||!nr(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*pe),Ge=Math.min(Ge,.5*Ce),this.lines([[pe-2*Te,0],[Te*gt,0,Te,Ge-Ge*gt,Te,Ge],[0,Ce-2*Ge],[0,Ge*gt,-Te*gt,Ge,-Te,Ge],[2*Te-pe,0],[-Te*gt,0,-Te,-Ge*gt,-Te,-Ge],[0,2*Ge-Ce],[0,-Ge*gt,Te*gt,-Ge,Te,-Ge]],D+Te,te,[1,1],et,!0),this},m.__private__.ellipse=m.ellipse=function(D,te,pe,Ce,Te){if(isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(Ce)||!nr(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*pe,et=4/3*(Math.SQRT2-1)*Ce;return Gs(D+pe,te),_(D+pe,te-et,D+Ge,te-Ce,D,te-Ce),_(D-Ge,te-Ce,D-pe,te-et,D-pe,te),_(D-pe,te+et,D-Ge,te+Ce,D,te+Ce),_(D+Ge,te+Ce,D+pe,te+et,D+pe,te),fr(Te),this},m.__private__.circle=m.circle=function(D,te,pe,Ce){if(isNaN(D)||isNaN(te)||isNaN(pe)||!nr(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,pe,pe,Ce)},m.setFont=function(D,te,pe){return pe&&(te=z(te,pe)),Ot=As(D,te,{disableWarning:!1}),this};var oe=m.__private__.getFont=m.getFont=function(){return hn[As.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,te,pe={};for(D in ln)if(ln.hasOwnProperty(D))for(te in pe[D]=[],ln[D])ln[D].hasOwnProperty(te)&&pe[D].push(te);return pe},m.addFont=function(D,te,pe,Ce,Te){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(pe=z(pe,Ce)),Te=Te||"Identity-H",xs.call(this,D,te,pe,Te)};var ve,He=e.lineWidth||.200025,Mt=m.__private__.getLineWidth=m.getLineWidth=function(){return He},Rt=m.__private__.setLineWidth=m.setLineWidth=function(D){return He=D,fe(B(O(D))+" w"),this};m.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(pe){return B(O(pe))}).join(" "),te=B(O(te)),fe("["+D+"] "+te+" d"),this};var tn=m.__private__.getLineHeight=m.getLineHeight=function(){return Je*ve};m.__private__.getLineHeight=m.getLineHeight=function(){return Je*ve};var en=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(ve=D),this},Pn=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ve};en(e.lineHeight);var Wt=m.__private__.getHorizontalCoordinate=function(D){return O(D)},Bn=m.__private__.getVerticalCoordinate=function(D){return E===A.ADVANCED?D:Dt[X].mediaBox.topRightY-Dt[X].mediaBox.bottomLeftY-O(D)},ir=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return B(Wt(D))},Mn=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return B(Bn(D))},Nn=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Mi(Nn)},m.__private__.setStrokeColor=m.setDrawColor=function(D,te,pe,Ce){return Nn=cr({ch1:D,ch2:te,ch3:pe,ch4:Ce,pdfColorType:"draw",precision:2}),fe(Nn),this};var Wn=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Mi(Wn)},m.__private__.setFillColor=m.setFillColor=function(D,te,pe,Ce){return Wn=cr({ch1:D,ch2:te,ch3:pe,ch4:Ce,pdfColorType:"fill",precision:2}),fe(Wn),this};var Ar=e.textColor||"0 g",Ts=m.__private__.getTextColor=m.getTextColor=function(){return Mi(Ar)};m.__private__.setTextColor=m.setTextColor=function(D,te,pe,Ce){return Ar=cr({ch1:D,ch2:te,ch3:pe,ch4:Ce,pdfColorType:"text",precision:3}),this};var es=e.charSpace,sc=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(es||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return es=D,this};var Go=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var te=m.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Go=te,fe(te+" J"),this};var co=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var te=m.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=te,fe(te+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(B(O(D))+" M"),this},m.GState=iC,m.setGState=function(D){(D=typeof D=="string"?Tn[Di[D]]:$h(null,D)).equals(Fi)||(fe("/"+D.id+" gs"),Fi=D)};var $h=function(D,te){if(!D||!Di[D]){var pe=!1;for(var Ce in Tn)if(Tn.hasOwnProperty(Ce)&&Tn[Ce].equals(te)){pe=!0;break}if(pe)te=Tn[Ce];else{var Te="GS"+(Object.keys(Tn).length+1).toString(10);Tn[Te]=te,te.id=Te}return D&&(Di[D]=te.id),Jt.publish("addGState",te),te}};m.addGState=function(D,te){return $h(D,te),this},m.saveGraphicsState=function(){return fe("q"),En.push({key:Ot,size:Je,color:Ar}),this},m.restoreGraphicsState=function(){fe("Q");var D=En.pop();return Ot=D.key,Je=D.size,Ar=D.color,Fi=null,this},m.setCurrentTransformationMatrix=function(D){return fe(D.toString()+" cm"),this},m.comment=function(D){return fe("#"+D),this};var oc=function(D,te){var pe=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ge){isNaN(Ge)||(pe=parseFloat(Ge))}});var Ce=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ge){isNaN(Ge)||(Ce=parseFloat(Ge))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ge){Te=Ge.toString()}}),this},wd=function(D,te,pe,Ce){oc.call(this,D,te),this.type="rect";var Te=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(et){isNaN(et)||(Te=parseFloat(et))}});var Ge=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(et){isNaN(et)||(Ge=parseFloat(et))}}),this},Sd=function(){this.page=fn,this.currentPage=X,this.pages=_e.slice(0),this.pagesContext=Dt.slice(0),this.x=yi,this.y=Zt,this.matrix=An,this.width=eu(X),this.height=dl(X),this.outputDestination=Be,this.id="",this.objectNumber=-1};Sd.prototype.restore=function(){fn=this.page,X=this.currentPage,Dt=this.pagesContext,_e=this.pages,yi=this.x,Zt=this.y,An=this.matrix,uc(X,this.width),xd(X,this.height),Be=this.outputDestination};var ac=function(D,te,pe,Ce,Te){lr.push(new Sd),fn=X=0,_e=[],yi=D,Zt=te,An=Te,Oi([pe,Ce])},Vp=function(D){if(Li[D])lr.pop().restore();else{var te=new Sd,pe="Xo"+(Object.keys(Yn).length+1).toString(10);te.id=pe,Li[D]=pe,Yn[pe]=te,Jt.publish("addFormObject",te),lr.pop().restore()}};for(var lc in m.beginFormObject=function(D,te,pe,Ce,Te){return ac(D,te,pe,Ce,Te),this},m.endFormObject=function(D){return Vp(D),this},m.doFormObject=function(D,te){var pe=Yn[Li[D]];return fe("q"),fe(te.toString()+" cm"),fe("/"+pe.id+" Do"),fe("Q"),this},m.getFormObject=function(D){var te=Yn[Li[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},m.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(ih(Bo(_r()),D),typeof ih.unload=="function"&&Gt.setTimeout&&setTimeout(ih.unload,911),this):new Promise(function(pe,Ce){try{var Te=ih(Bo(_r()),D);typeof ih.unload=="function"&&Gt.setTimeout&&setTimeout(ih.unload,911),pe(Te)}catch(Ge){Ce(Ge.message)}})},Bt.API)Bt.API.hasOwnProperty(lc)&&(lc==="events"&&Bt.API.events.length?function(D,te){var pe,Ce,Te;for(Te=te.length-1;Te!==-1;Te--)pe=te[Te][0],Ce=te[Te][1],D.subscribe.apply(D,[pe].concat(typeof Ce=="function"?[Ce]:Ce))}(Jt,Bt.API.events):m[lc]=Bt.API[lc]);var eu=m.getPageWidth=function(D){return(Dt[D=D||X].mediaBox.topRightX-Dt[D].mediaBox.bottomLeftX)/ft},uc=m.setPageWidth=function(D,te){Dt[D].mediaBox.topRightX=te*ft+Dt[D].mediaBox.bottomLeftX},dl=m.getPageHeight=function(D){return(Dt[D=D||X].mediaBox.topRightY-Dt[D].mediaBox.bottomLeftY)/ft},xd=m.setPageHeight=function(D,te){Dt[D].mediaBox.topRightY=te*ft+Dt[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:tr,getStyle:js,getFont:oe,getFontSize:at,getCharSpace:sc,getTextColor:Ts,getLineHeight:tn,getLineHeightFactor:Pn,getLineWidth:Mt,write:ct,getHorizontalCoordinate:Wt,getVerticalCoordinate:Bn,getCoordinateString:ir,getVerticalCoordinateString:Mn,collections:{},newObject:Un,newAdditionalObject:ur,newObjectDeferred:In,newObjectDeferredBegin:Cn,getFilters:_n,putStream:br,events:Jt,scaleFactor:ft,pageSize:{getWidth:function(){return eu(X)},setWidth:function(D){uc(X,D)},getHeight:function(){return dl(X)},setHeight:function(D){xd(X,D)}},encryptionOptions:h,encryption:ii,getEncryptor:bi,output:Ho,getNumberOfPages:Hs,pages:_e,out:fe,f2:K,f3:T,getPageInfo:Zr,getPageInfoByObjId:Ft,getCurrentPageInfo:oo,getPDFVersion:w,Point:oc,Rectangle:wd,Matrix:bt,hasHotfix:so},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return eu(X)},set:function(D){uc(X,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return dl(X)},set:function(D){xd(X,D)},enumerable:!0,configurable:!0}),ro.call(m,Ye),Ot="F1",ko(r,n),Jt.publish("initialized"),m}_f.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},_f.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_f.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},_f.prototype.processOwnerPassword=function(e,t){return a5(o5(t).substr(0,5),e)},_f.prototype.encryptor=function(e,t){var n=o5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return a5(n,i)}},iC.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Gn(e)!==Gn(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},Bt.API={events:[]},Bt.version="3.0.0";var Gi=Bt.API,TA=1,jh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ef=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(e){return e.toFixed(2)},Vc=function(e){return e.toFixed(5)};Gi.__acroform__={};var eo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gN=function(e){return e*TA},Nl=function(e){var t=new X4,n=xt.internal.getHeight(e)||0,i=xt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Xt(i)),Number(Xt(n))],t},mne=Gi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},vne=Gi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},yne=Gi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Zi=Gi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yne(e,t-1)},Ji=Gi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mne(e,t-1)},er=Gi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vne(e,t-1)},bne=Gi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],s=e[1],o=e[2],a=e[3],u={};return u.lowerLeft_X=n(r)||0,u.lowerLeft_Y=i(s+a)||0,u.upperRight_X=n(r+o)||0,u.upperRight_Y=i(s)||0,[Number(Xt(u.lowerLeft_X)),Number(Xt(u.lowerLeft_Y)),Number(Xt(u.upperRight_X)),Number(Xt(u.upperRight_Y))]},Cne=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=l5(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+Xt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Nl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},l5=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(T){return T.split(`
`)}):r.map(function(T){return[T]});var s=n,o=xt.internal.getHeight(e)||0;o=o<0?-o:o;var a=xt.internal.getWidth(e)||0;a=a<0?-a:a;var u=function(T,O,H){if(T+1<r.length){var q=O+" "+r[T+1][0];return Uy(q,e,H).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,h,p=Uy("3",e,s).height,g=e.multiline?o-s:(o-p)/2,m=g+=2,y=0,w=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Uy(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",A=0,E=0;E<r.length;E++)if(r.hasOwnProperty(E)){var F=!1;if(r[E].length!==1&&x!==r[E].length-1){if((p+2)*(A+2)+2>o)continue e;C+=r[E][x],F=!0,w=E,E--}else{C=(C+=r[E][x]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var N=parseInt(E),z=u(N,C,s),B=E>=r.length-1;if(z&&!B){C+=" ",x=0;continue}if(z||B){if(B)w=N;else if(e.multiline&&(p+2)*(A+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(A+2)+2>o)continue e;w=N}}for(var k="",V=y;V<=w;V++){var K=r[V];if(e.multiline){if(V===w){k+=K[x]+" ",x=(x+1)%K.length;continue}if(V===y){k+=K[K.length-1]+" ";continue}}k+=K[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,h=Uy(k,e,s).width,e.textAlign){case"right":d=a-h-2;break;case"center":d=(a-h)/2;break;case"left":default:d=2}t+=Xt(d)+" "+Xt(m)+` Td
`,t+="("+jh(k)+`) Tj
`,t+=-Xt(d)+` 0 Td
`,m=-(s+2),h=0,y=F?w:w+1,A++,C=""}break}return i.text=t,i.fontSize=s,i},Uy=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},wne={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Sne=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},xne=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),Gn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete e[i]}},Rne=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(rl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(wne)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Z4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&Sne(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],u=[],d=a.Rect;if(a.Rect&&(a.Rect=bne(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=xt.createDefaultAppearanceStream(a),Gn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(u=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Cne(a);u.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(r,a)),p+="/"+o+" "+y+" ",r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(r,a)),p+="/"+o+" "+y,r.internal.acroformPlugin.xForms.indexOf(y)>=0||r.internal.acroformPlugin.xForms.push(y);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:a.objId}),r.internal.out("endobj")}s&&xne(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Q4=Gi.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o};if(Array.isArray(e)){for(var r="[",s=0;s<e.length;s++)switch(s!==0&&(r+=" "),Gn(e[s])){case"boolean":case"number":case"object":r+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+jh(i(e[s].toString()))+")"):r+=e[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d2=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+jh(i(e))+")"},Bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bl.prototype.toString=function(){return this.objId+" 0 R"},Bl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Q4(r,this.objId,this.scope)}):r instanceof Bl?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var X4=function(){Bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};eo(X4,Bl);var Z4=function(){Bl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+jh(n(e))+")"}},set:function(n){e=n}})};eo(Z4,Bl);var rl=function e(){Bl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zi(t,3)},set:function(C){C?this.F=Ji(t,3):this.F=er(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof rC)return;s="FieldObject"+e.FieldNum++}var C=function(A){return A};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+jh(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/TA:d},set:function(C){d=C}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof rC||this instanceof hh))return d2(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Lr?g:d2(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof Lr?C:C.substr(0,1)==="("?Ef(C.substr(1,C.length-2)):Ef(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Ef(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof Lr?"/"+C:C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Lr?m:d2(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=this instanceof Lr?C:C.substr(0,1)==="("?Ef(C.substr(1,C.length-2)):Ef(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Ef(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof Lr?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(C){C=!!C,w=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(C){y=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,1)},set:function(C){C?this.Ff=Ji(this.Ff,1):this.Ff=er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,2)},set:function(C){C?this.Ff=Ji(this.Ff,2):this.Ff=er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,3)},set:function(C){C?this.Ff=Ji(this.Ff,3):this.Ff=er(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');x=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(x){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};eo(rl,Bl);var ep=function(){rl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Q4(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var u,d=[];u=o.exec(s);)d.push(u[a]);return d}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,18)},set:function(n){n?this.Ff=Ji(this.Ff,18):this.Ff=er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ji(this.Ff,19):this.Ff=er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,20)},set:function(n){n?(this.Ff=Ji(this.Ff,20),t.sort()):this.Ff=er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,22)},set:function(n){n?this.Ff=Ji(this.Ff,22):this.Ff=er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,23)},set:function(n){n?this.Ff=Ji(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,27)},set:function(n){n?this.Ff=Ji(this.Ff,27):this.Ff=er(this.Ff,27)}}),this.hasAppearanceStream=!1};eo(ep,rl);var tp=function(){ep.call(this),this.fontName="helvetica",this.combo=!1};eo(tp,ep);var np=function(){tp.call(this),this.combo=!0};eo(np,tp);var Ab=function(){np.call(this),this.edit=!0};eo(Ab,np);var Lr=function(){rl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,15)},set:function(n){n?this.Ff=Ji(this.Ff,15):this.Ff=er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,16)},set:function(n){n?this.Ff=Ji(this.Ff,16):this.Ff=er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,17)},set:function(n){n?this.Ff=Ji(this.Ff,17):this.Ff=er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,26)},set:function(n){n?this.Ff=Ji(this.Ff,26):this.Ff=er(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+jh(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Gn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};eo(Lr,rl);var Eb=function(){Lr.call(this),this.pushButton=!0};eo(Eb,Lr);var ip=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};eo(ip,Lr);var rC=function(){var e,t;rl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+jh(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Gn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};eo(rC,rl),ip.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ip.prototype.createOption=function(e){var t=new rC;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ane.call(this.scope,t),t};var Tb=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};eo(Tb,Lr);var hh=function(){rl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,13)},set:function(t){t?this.Ff=Ji(this.Ff,13):this.Ff=er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,21)},set:function(t){t?this.Ff=Ji(this.Ff,21):this.Ff=er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,23)},set:function(t){t?this.Ff=Ji(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,24)},set:function(t){t?this.Ff=Ji(this.Ff,24):this.Ff=er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,25)},set:function(t){t?this.Ff=Ji(this.Ff,25):this.Ff=er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,26)},set:function(t){t?this.Ff=Ji(this.Ff,26):this.Ff=er(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};eo(hh,rl);var Pb=function(){hh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,14)},set:function(e){e?this.Ff=Ji(this.Ff,14):this.Ff=er(this.Ff,14)}}),this.password=!0};eo(Pb,hh);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=l5(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Xt(xt.internal.getWidth(e))+" "+Xt(xt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Xt(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Nl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],s=xt.internal.getHeight(e),o=xt.internal.getWidth(e),a=l5(e,e.caption);return r.push("1 g"),r.push("0 0 "+Xt(o)+" "+Xt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Xt(o-1)+" "+Xt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Xt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(xt.internal.getWidth(e))+" "+Xt(xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Circle.YesNormal,t.D[e]=xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Nl(e);t.scope=e.scope;var n=[],i=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=xt.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Vc(xt.internal.getWidth(e)/2)+" "+Vc(xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=[],i=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*xt.internal.Bezier_C).toFixed(5)),o=Number((i*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vc(xt.internal.getWidth(e)/2)+" "+Vc(xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Vc(xt.internal.getWidth(e)/2)+" "+Vc(xt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=[],i=xt.internal.getWidth(e)<=xt.internal.getHeight(e)?xt.internal.getWidth(e)/4:xt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Vc(xt.internal.getWidth(e)/2)+" "+Vc(xt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=xt.RadioButton.Cross.YesNormal,t.D[e]=xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Nl(e);t.scope=e.scope;var n=[],i=xt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Xt(xt.internal.getWidth(e)-2)+" "+Xt(xt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Xt(i.x1.x)+" "+Xt(i.x1.y)+" m"),n.push(Xt(i.x2.x)+" "+Xt(i.x2.y)+" l"),n.push(Xt(i.x4.x)+" "+Xt(i.x4.y)+" m"),n.push(Xt(i.x3.x)+" "+Xt(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=xt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Xt(xt.internal.getWidth(e))+" "+Xt(xt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Xt(xt.internal.getWidth(e)-2)+" "+Xt(xt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Xt(n.x1.x)+" "+Xt(n.x1.y)+" m"),i.push(Xt(n.x2.x)+" "+Xt(n.x2.y)+" l"),i.push(Xt(n.x4.x)+" "+Xt(n.x4.y)+" m"),i.push(Xt(n.x3.x)+" "+Xt(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Nl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xt(xt.internal.getWidth(e))+" "+Xt(xt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};xt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=xt.internal.getWidth(e),n=xt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},xt.internal.getWidth=function(e){var t=0;return Gn(e)==="object"&&(t=gN(e.Rect[2])),t},xt.internal.getHeight=function(e){var t=0;return Gn(e)==="object"&&(t=gN(e.Rect[3])),t};var Ane=Gi.addField=function(e){if(Rne(this,e),!(e instanceof rl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Gi.AcroFormChoiceField=ep,Gi.AcroFormListBox=tp,Gi.AcroFormComboBox=np,Gi.AcroFormEditBox=Ab,Gi.AcroFormButton=Lr,Gi.AcroFormPushButton=Eb,Gi.AcroFormRadioButton=ip,Gi.AcroFormCheckBox=Tb,Gi.AcroFormTextField=hh,Gi.AcroFormPasswordField=Pb,Gi.AcroFormAppearance=xt,Gi.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:np,EditBox:Ab,Button:Lr,PushButton:Eb,RadioButton:ip,CheckBox:Tb,TextField:hh,PasswordField:Pb,Appearance:xt},Bt.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:np,EditBox:Ab,Button:Lr,PushButton:Eb,RadioButton:ip,CheckBox:Tb,TextField:hh,PasswordField:Pb,Appearance:xt};Bt.AcroForm;function J4(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,O){var H,q,ee,$,W,Q=t;if((O=O||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(z(T))for(W in n)for(ee=n[W],H=0;H<ee.length;H+=1){for($=!0,q=0;q<ee[H].length;q+=1)if(ee[H][q]!==void 0&&ee[H][q]!==T[q]){$=!1;break}if($===!0){Q=W;break}}else for(W in n)for(ee=n[W],H=0;H<ee.length;H+=1){for($=!0,q=0;q<ee[H].length;q+=1)if(ee[H][q]!==void 0&&ee[H][q]!==T.charCodeAt(q)){$=!1;break}if($===!0){Q=W;break}}return Q===t&&O!==t&&(Q=O),Q},r=function T(O){for(var H=this.internal.write,q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:O.width}),$.push({key:"Height",value:O.height}),O.colorSpace===x.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===x.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var W="",Q=0,ue=O.transparency.length;Q<ue;Q++)W+=O.transparency[Q]+" "+O.transparency[Q]+" ";$.push({key:"Mask",value:"["+W+"]"})}O.sMask!==void 0&&$.push({key:"SMask",value:O.objectId+1+" 0 R"});var U=O.filter!==void 0?["/"+O.filter]:void 0;if(q({data:O.data,additionalKeyValues:$,alreadyAppliedFilters:U,objectId:O.objectId}),H("endobj"),"sMask"in O&&O.sMask!==void 0){var de="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,j={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:de,data:O.sMask};"filter"in O&&(j.filter=O.filter),T.call(this,j)}if(O.colorSpace===x.INDEXED){var X=this.internal.newObject();q({data:k(new Uint8Array(O.palette)),objectId:X}),H("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var O in T)r.call(this,T[O])},o=function(){var T,O=this.internal.collections.addImage_images,H=this.internal.write;for(var q in O)H("/I"+(T=O[q]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},p=function(T){return Gn(T)==="object"&&T.nodeType===1},g=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var H=""+T.getAttribute("src");if(H.indexOf("data:image/")===0)return cm(unescape(H).split("base64,").pop());var q=e.loadFile(H,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ee;switch(O){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;case"JPEG":case"JPG":default:ee="image/jpeg"}return cm(T.toDataURL(ee,1).split("base64,").pop())}},m=function(T){var O=this.internal.collections.addImage_images;if(O){for(var H in O)if(T===O[H].alias)return O[H]}},y=function(T,O,H){return T||O||(T=-96,O=-96),T<0&&(T=-1*H.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*H.height*72/O/this.internal.scaleFactor),T===0&&(T=O*H.width/H.height),O===0&&(O=T*H.height/H.width),[T,O]},w=function(T,O,H,q,ee,$){var W=y.call(this,H,q,ee),Q=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,U=u.call(this);if(H=W[0],q=W[1],U[ee.index]=ee,$){$*=Math.PI/180;var de=Math.cos($),j=Math.sin($),X=function(re){return re.toFixed(4)},Z=[X(de),X(j),X(-1*j),X(de),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,Q(T),ue(O+q),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Q(H),"0","0",Q(q),"0","0","cm"].join(" "))):this.internal.write([Q(H),"0","0",Q(q),Q(T),ue(O+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(T){var O,H,q=0;if(typeof T=="string")for(H=T.length,O=0;O<H;O++)q=(q<<5)-q+T.charCodeAt(O),q|=0;else if(z(T))for(H=T.byteLength/2,O=0;O<H;O++)q=(q<<5)-q+T[O],q|=0;return q},E=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},F=e.__addimage__.extractImageFromDataUrl=function(T){var O=(T=T||"").split("base64,"),H=null;if(O.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray(q)&&(H={mimeType:q[1],charset:q[2],data:O[1]})}return H},N=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return N()&&T instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(T){return N()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,H=new Uint8Array(O),q=0;q<O;q++)H[q]=T.charCodeAt(q);return H},k=e.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",H=z(T)?T:new Uint8Array(T),q=0;q<H.length;q+=8192)O+=String.fromCharCode.apply(null,H.subarray(q,q+8192));return O};e.addImage=function(){var T,O,H,q,ee,$,W,Q,ue;if(typeof arguments[1]=="number"?(O=t,H=arguments[1],q=arguments[2],ee=arguments[3],$=arguments[4],W=arguments[5],Q=arguments[6],ue=arguments[7]):(O=arguments[1],H=arguments[2],q=arguments[3],ee=arguments[4],$=arguments[5],W=arguments[6],Q=arguments[7],ue=arguments[8]),Gn(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var U=T;T=U.imageData,O=U.format||O||t,H=U.x||H||0,q=U.y||q||0,ee=U.w||U.width||ee,$=U.h||U.height||$,W=U.alias||W,Q=U.compression||Q,ue=U.rotation||U.angle||ue}var de=this.internal.getFilters();if(Q===void 0&&de.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(H)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var j=V.call(this,T,O,W,Q);return w.call(this,H,q,ee,$,j,ue),this};var V=function(T,O,H,q){var ee,$,W;if(typeof T=="string"&&i(T)===t){T=unescape(T);var Q=K(T,!1);(Q!==""||(Q=e.loadFile(T,!0))!==void 0)&&(T=Q)}if(p(T)&&(T=g(T,O)),O=i(T,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((W=H)==null||W.length===0)&&(H=function(ue){return typeof ue=="string"||z(ue)?A(ue):z(ue.data)?A(ue.data):null}(T)),(ee=m.call(this,H))||(N()&&(T instanceof Uint8Array||O==="RGBA"||($=T,T=B(T))),ee=this["process"+O.toUpperCase()](T,d.call(this),H,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:C.NONE}(q),$)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},K=e.__addimage__.convertBase64ToBinaryString=function(T,O){var H;O=typeof O!="boolean"||O;var q,ee="";if(typeof T=="string"){q=(H=F(T))!==null?H.data:T;try{ee=cm(q)}catch($){if(O)throw E(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};e.getImageProperties=function(T){var O,H,q="";if(p(T)&&(T=g(T)),typeof T=="string"&&i(T)===t&&((q=K(T,!1))===""&&(q=e.loadFile(T)||""),T=q),H=i(T),!h(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!N()||T instanceof Uint8Array||(T=B(T)),!(O=this["process"+H.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=H,O}})(Bt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Bt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,h=!1,p=0;p<d.length&&!h;p++)switch((i=d[p]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){i=d[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(w.objId),A=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+m(C(i.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+m(C(A))+") >>",w.content=s;var E=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(w.objId,"0 R",x.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var F=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+m(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var N=this.annotations._nameMap[i.options.name];i.options.pageNumber=N.page,i.options.top=N.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var z=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+z+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(n),y:d(i),w:u(n+r),h:d(i+s)},options:o,type:"link"})},e.textWithLink=function(n,i,r,s){var o,a,u=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(n,a).length;o=Math.ceil(d*h)}else a=u,o=d;return this.text(n,i,r,s),r+=.2*d,s.align==="center"&&(i-=u/2),s.align==="right"&&(i-=u),this.link(i,r-d,a,o,s),u},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(Bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=e.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&r.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(w){var x=0,C=n,A="",E=0;for(x=0;x<w.length;x+=1)C[w.charCodeAt(x)]!==void 0?(E++,typeof(C=C[w.charCodeAt(x)])=="number"&&(A+=String.fromCharCode(C),C=n,E=0),x===w.length-1&&(C=n,A+=w.charAt(x-(E-1)),x-=E-1,E=0)):(C=n,A+=w.charAt(x-E),x-=E,E=0);return A};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(w,x,C){return o(w)?s(w)===!1?-1:!d(w)||!o(x)&&!o(C)||!o(C)&&a(x)||a(w)&&!o(x)||a(w)&&u(x)||a(w)&&a(x)?0:h(w)&&o(x)&&!a(x)&&o(C)&&d(C)?3:a(w)||!o(C)?1:2:-1},m=function(w){var x=0,C=0,A=0,E="",F="",N="",z=(w=w||"").split("\\s+"),B=[];for(x=0;x<z.length;x+=1){for(B.push(""),C=0;C<z[x].length;C+=1)E=z[x][C],F=z[x][C-1],N=z[x][C+1],o(E)?(A=g(E,F,N),B[x]+=A!==-1?String.fromCharCode(t[E.charCodeAt(0)][A]):E):B[x]+=E;B[x]=p(B[x])}return B.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var w,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(x)){var A=0;for(C=[],A=0;A<x.length;A+=1)Array.isArray(x[A])?C.push([m(x[A][0]),x[A][1],x[A][2]]):C.push([m(x[A])]);w=C}else w=m(x);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",y])}(Bt.API),Bt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){i.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,m=0,y=0,w=0,x=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=d.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(E,F){return E.concat(x.splitTextToSize(F,C))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)m<(w=this.getStringUnitWidth(u[A],{font:p})*h)&&(m=w);return m!==0&&(y=u.length),{w:m/=g,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,m&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,h,p,g){if(i.call(this),!h)throw new Error("No data for PDF table.");var m,y,w,x,C=[],A=[],E=[],F={},N={},z=[],B=[],k=(g=g||{}).autoSize||!1,V=g.printHeaders!==!1,K=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},t),O=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",q=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=q,this.setFontSize(K),p==null)A=C=Object.keys(h[0]),E=C.map(function(){return"left"});else if(Array.isArray(p)&&Gn(p[0])==="object")for(C=p.map(function(U){return U.name}),A=p.map(function(U){return U.prompt||U.name||""}),E=p.map(function(U){return U.align||"left"}),m=0;m<p.length;m+=1)N[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(A=C=p,E=C.map(function(){return"left"}));if(k||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<C.length;m+=1){for(F[x=C[m]]=h.map(function(U){return U[x]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=F[x],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)z.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,z)+O+O,z=[]}if(V){var ee={};for(m=0;m<C.length;m+=1)ee[C[m]]={},ee[C[m]].text=A[m],ee[C[m]].align=E[m];var $=a.call(this,ee,N);B=C.map(function(U){return new s(u,d,N[U],$,ee[U].text,void 0,ee[U].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var W=p.reduce(function(U,de){return U[de.name]=de.align,U},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var Q=a.call(this,h[m],N);for(w=0;w<C.length;w+=1){var ue=h[m][C[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:ue},this),o.call(this,new s(u,d,N[C[w]],Q,ue,m+2,W[C[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var a=function(u,d){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(m){var y=u[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+h+h},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Bt.API);var e_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},t_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u5=J4(t_),n_=[100,200,300,400,500,600,700,800,900],Ene=J4(n_);function c5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return e_[s=s||"normal"]?s:"normal"}(e.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),r=function(s){return typeof u5[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function mN(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var Tne={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Pne(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},Tne,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(r[(s=c5(t[a])).family]&&(s.family=r[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+yN(s)+"' and default family '"+i+"'.");if(o=function(u,d){if(d[u])return d[u];var h=u5[u],p=h<=u5.normal?-1:1,g=mN(d,t_,h,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+u);return g}(s.stretch,o),o=function(u,d){if(d[u])return d[u];for(var h=e_[u],p=0;p<h.length;++p)if(d[h[p]])return d[h[p]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var h=Ene[u],p=mN(d,n_,h,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+yN(s)+"'.");return o}function bN(e){return e.trimLeft()}function Dne(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Fne(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Wy,CN,wN,h2=["times"];(function(e){var t,n,i,r,s,o,a,u,d,h=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new u,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,d=new h}]);var p=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=j;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(De){Z=!!De}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(De){re=!!De}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(De){isNaN(De)||(ce=De)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(De){isNaN(De)||(ye=De)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(De){var fe;typeof De=="number"?fe=[De,De,De,De]:((fe=new Array(4))[0]=De[0],fe[1]=De.length>=2?De[1]:fe[0],fe[2]=De.length>=3?De[2]:fe[0],fe[3]=De.length>=4?De[3]:fe[1]),d.margin=fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(De){me=De}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(De){Se=De}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(De){Oe=De}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(De){De instanceof h&&(d=De)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(De){d.path=De}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(De){_e=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var fe;fe=g(De),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var fe=g(De);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var $e=null;function Be(De,fe){if($e===null){var ct=function(ot){var Ye=[];return Object.keys(ot).forEach(function(Je){ot[Je].forEach(function(nt){var at=null;switch(nt){case"bold":at={family:Je,weight:"bold"};break;case"italic":at={family:Je,style:"italic"};break;case"bolditalic":at={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":at={family:Je}}at!==null&&(at.ref={name:Je,style:nt},Ye.push(at))})}),Ye}(De.getFontList());$e=function(ot){for(var Ye={},Je=0;Je<ot.length;++Je){var nt=c5(ot[Je]),at=nt.family,yt=nt.stretch,mt=nt.style,It=nt.weight;Ye[at]=Ye[at]||{},Ye[at][yt]=Ye[at][yt]||{},Ye[at][yt][mt]=Ye[at][yt][mt]||{},Ye[at][yt][mt][It]=nt}return Ye}(ct.concat(fe))}return $e}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(De){$e=null,it=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var fe;if(this.ctx.font=De,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var ct=fe[1],ot=(fe[2],fe[3]),Ye=fe[4],Je=(fe[5],fe[6]),nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(nt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var at=function(vt){var Ot,ft,yi=[],Zt=vt.trim();if(Zt==="")return h2;if(Zt in vN)return[vN[Zt]];for(;Zt!=="";){switch(ft=null,Ot=(Zt=bN(Zt)).charAt(0)){case'"':case"'":ft=Dne(Zt.substring(1),Ot);break;default:ft=Fne(Zt)}if(ft===null||(yi.push(ft[0]),(Zt=bN(ft[1]))!==""&&Zt.charAt(0)!==","))return h2;Zt=Zt.replace(/^,/,"")}return yi}(Je);if(this.fontFaces){var yt=Pne(Be(this.pdf,this.fontFaces),at.map(function(vt){return{family:vt,stretch:"normal",weight:ot,style:ct}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var mt="";(ot==="bold"||parseInt(ot,10)>=700||ct==="bold")&&(mt="bold"),ct==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var It="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zt=0;zt<at.length;zt++){if(this.pdf.internal.getFont(at[zt],mt,{noFallback:!0,disableWarning:!0})!==void 0){It=at[zt];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(at[zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)It=at[zt],mt="bold";else if(this.pdf.internal.getFont(at[zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){It=at[zt],mt="normal";break}}if(It===""){for(var wt=0;wt<at.length;wt++)if(Vt[at[wt]]){It=Vt[at[wt]];break}}It=It===""?"Times":It,this.pdf.setFont(It,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};p.prototype.setLineDash=function(j){this.lineDash=j},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){F.call(this,"fill",!1)},p.prototype.stroke=function(){F.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(j,X){if(isNaN(j)||isNaN(X))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(j,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(j,X)},p.prototype.closePath=function(){var j=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Gn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){j=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},p.prototype.lineTo=function(j,X){if(isNaN(j)||isNaN(X))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(j,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},p.prototype.quadraticCurveTo=function(j,X,Z,re){if(isNaN(Z)||isNaN(re)||isNaN(j)||isNaN(X))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Z,re)),ye=this.ctx.transform.applyToPoint(new o(j,X));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},p.prototype.bezierCurveTo=function(j,X,Z,re,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(ce,ye)),Se=this.ctx.transform.applyToPoint(new o(j,X)),Oe=this.ctx.transform.applyToPoint(new o(Z,re));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Oe.x,y2:Oe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},p.prototype.arc=function(j,X,Z,re,ce,ye){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re)||isNaN(ce))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(j,X));j=me.x,X=me.y;var Se=this.ctx.transform.applyToPoint(new o(0,Z)),Oe=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(Se.x-Oe.x,2)+Math.pow(Se.y-Oe.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:j,y:X,radius:Z,startAngle:re,endAngle:ce,counterclockwise:ye})},p.prototype.arcTo=function(j,X,Z,re,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(j,X,Z,re){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,X),this.lineTo(j+Z,X),this.lineTo(j+Z,X+re),this.lineTo(j,X+re),this.lineTo(j,X),this.lineTo(j+Z,X),this.lineTo(j,X)},p.prototype.fillRect=function(j,X,Z,re){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,X,Z,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(j,X,Z,re){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(j,X,Z,re),this.stroke())},p.prototype.clearRect=function(j,X,Z,re){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,X,Z,re))},p.prototype.save=function(j){j=typeof j!="boolean"||j;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},p.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(j){var X,Z,re,ce;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))X=0,Z=0,re=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ye!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),re=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)X=parseInt(ye[1]),Z=parseInt(ye[2]),re=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof j=="string"&&j.charAt(0)!=="#"){var me=new $4(j);j=me.ok?me.toHex():"#000000"}j.length===4?(X=j.substring(1,2),X+=X,Z=j.substring(2,3),Z+=Z,re=j.substring(3,4),re+=re):(X=j.substring(1,3),Z=j.substring(3,5),re=j.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),re=parseInt(re,16)}}return{r:X,g:Z,b:re,a:ce,style:j}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(j,X,Z,re){if(isNaN(X)||isNaN(Z)||typeof j!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!m.call(this)){var ce=Q(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:j,x:X,y:Z,scale:ye,angle:ce,align:this.textAlign,maxWidth:re})}},p.prototype.strokeText=function(j,X,Z,re){if(isNaN(X)||isNaN(Z)||typeof j!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){re=isNaN(re)?void 0:re;var ce=Q(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:j,x:X,y:Z,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},p.prototype.measureText=function(j){if(typeof j!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,re=X.internal.getFontSize(),ce=X.getStringUnitWidth(j)*re/X.internal.scaleFactor,ye=function(me){var Se=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new ye({width:ce*=Math.round(96*Z/72*1e4)/1e4})},p.prototype.scale=function(j,X){if(isNaN(j)||isNaN(X))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(j,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.rotate=function(j){if(isNaN(j))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(j,X){if(isNaN(j)||isNaN(X))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,j,X);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.transform=function(j,X,Z,re,ce,ye){if(isNaN(j)||isNaN(X)||isNaN(Z)||isNaN(re)||isNaN(ce)||isNaN(ye))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new u(j,X,Z,re,ce,ye);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(j,X,Z,re,ce,ye){j=isNaN(j)?1:j,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new u(j,X,Z,re,ce,ye)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(j,X,Z,re,ce,ye,me,Se,Oe){var _e=this.pdf.getImageProperties(j),$e=1,Be=1,it=1,De=1;re!==void 0&&Se!==void 0&&(it=Se/re,De=Oe/ce,$e=_e.width/re*Se/re,Be=_e.height/ce*Oe/ce),ye===void 0&&(ye=X,me=Z,X=0,Z=0),re!==void 0&&Se===void 0&&(Se=re,Oe=ce),re===void 0&&Se===void 0&&(Se=_e.width,Oe=_e.height);for(var fe,ct=this.ctx.transform.decompose(),ot=Q(ct.rotate.shx),Ye=new u,Je=(Ye=(Ye=(Ye=Ye.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new a(ye-X*it,me-Z*De,re*$e,ce*Be)),nt=x.call(this,Je),at=[],yt=0;yt<nt.length;yt+=1)at.indexOf(nt[yt])===-1&&at.push(nt[yt]);if(E(at),this.autoPaging)for(var mt=at[0],It=at[at.length-1],Vt=mt;Vt<It+1;Vt++){this.pdf.setPage(Vt);var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=Vt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Vt===1?0:vt+(Vt-2)*Ot;if(this.ctx.clip_path.length!==0){var yi=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(fe,this.posX+this.margin[3],-ft+wt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=yi}var Zt=JSON.parse(JSON.stringify(Je));Zt=A([Zt],this.posX+this.margin[3],-ft+wt+this.ctx.prevPageLastElemOffset)[0];var An=(Vt>mt||Vt<It)&&w.call(this);An&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Ot,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,ot),An&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ot)};var x=function(j,X,Z){var re=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":re.push(Math.floor((j.y+ce)/Z)+1);break;case"arc":re.push(Math.floor((j.y+ce-j.radius)/Z)+1),re.push(Math.floor((j.y+ce+j.radius)/Z)+1);break;case"qct":var ye=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);re.push(Math.floor((ye.y+ce)/Z)+1),re.push(Math.floor((ye.y+ye.h+ce)/Z)+1);break;case"bct":var me=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);re.push(Math.floor((me.y+ce)/Z)+1),re.push(Math.floor((me.y+me.h+ce)/Z)+1);break;case"rect":re.push(Math.floor((j.y+ce)/Z)+1),re.push(Math.floor((j.y+j.h+ce)/Z)+1)}for(var Se=0;Se<re.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<re[Se];)C.call(this);return re},C=function(){var j=this.fillStyle,X=this.strokeStyle,Z=this.font,re=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=X,this.font=Z,this.lineCap=re,this.lineWidth=ce,this.lineJoin=ye},A=function(j,X,Z){for(var re=0;re<j.length;re++)switch(j[re].type){case"bct":j[re].x2+=X,j[re].y2+=Z;case"qct":j[re].x1+=X,j[re].y1+=Z;case"mt":case"lt":case"arc":default:j[re].x+=X,j[re].y+=Z}return j},E=function(j){return j.sort(function(X,Z){return X-Z})},F=function(j,X){for(var Z,re,ce=this.fillStyle,ye=this.strokeStyle,me=this.lineCap,Se=this.lineWidth,Oe=Math.abs(Se*this.ctx.transform.scaleX),_e=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),it=[],De=0;De<Be.length;De++)if(Be[De].x!==void 0)for(var fe=x.call(this,Be[De]),ct=0;ct<fe.length;ct+=1)it.indexOf(fe[ct])===-1&&it.push(fe[ct]);for(var ot=0;ot<it.length;ot++)for(;this.pdf.internal.getNumberOfPages()<it[ot];)C.call(this);if(E(it),this.autoPaging)for(var Ye=it[0],Je=it[it.length-1],nt=Ye;nt<Je+1;nt++){this.pdf.setPage(nt),this.fillStyle=ce,this.strokeStyle=ye,this.lineCap=me,this.lineWidth=Oe,this.lineJoin=_e;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=nt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=nt===1?0:mt+(nt-2)*It;if(this.ctx.clip_path.length!==0){var zt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Z,this.posX+this.margin[3],-Vt+yt+this.ctx.prevPageLastElemOffset),N.call(this,j,!0),this.path=zt}if(re=JSON.parse(JSON.stringify($e)),this.path=A(re,this.posX+this.margin[3],-Vt+yt+this.ctx.prevPageLastElemOffset),X===!1||nt===0){var wt=(nt>Ye||nt<Je)&&w.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,It,null).clip().discardPath()),N.call(this,j,X),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Oe,N.call(this,j,X),this.lineWidth=Se;this.path=$e},N=function(j,X){if((j!=="stroke"||X||!y.call(this))&&(j==="stroke"||X||!m.call(this))){for(var Z,re,ce=[],ye=this.path,me=0;me<ye.length;me++){var Se=ye[me];switch(Se.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Se,deltas:[],abs:[]});break;case"lt":var Oe=ce.length;if(ye[me-1]&&!isNaN(ye[me-1].x)&&(Z=[Se.x-ye[me-1].x,Se.y-ye[me-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ce[Oe-1].close!==!0&&ce[Oe-1].begin!==!0){ce[Oe-1].deltas.push(Z),ce[Oe-1].abs.push(Se);break}}break;case"bct":Z=[Se.x1-ye[me-1].x,Se.y1-ye[me-1].y,Se.x2-ye[me-1].x,Se.y2-ye[me-1].y,Se.x-ye[me-1].x,Se.y-ye[me-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var _e=ye[me-1].x+2/3*(Se.x1-ye[me-1].x),$e=ye[me-1].y+2/3*(Se.y1-ye[me-1].y),Be=Se.x+2/3*(Se.x1-Se.x),it=Se.y+2/3*(Se.y1-Se.y),De=Se.x,fe=Se.y;Z=[_e-ye[me-1].x,$e-ye[me-1].y,Be-ye[me-1].x,it-ye[me-1].y,De-ye[me-1].x,fe-ye[me-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Se)}}re=X?null:j==="stroke"?"stroke":"fill";for(var ct=!1,ot=0;ot<ce.length;ot++)if(ce[ot].arc)for(var Ye=ce[ot].abs,Je=0;Je<Ye.length;Je++){var nt=Ye[Je];nt.type==="arc"?k.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,X,!ct):H.call(this,nt.x,nt.y),ct=!0}else if(ce[ot].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ce[ot].begin!==!0){var at=ce[ot].start.x,yt=ce[ot].start.y;q.call(this,ce[ot].deltas,at,yt),ct=!0}re&&V.call(this,re),X&&K.call(this)}},z=function(j){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Z;case"top":return j+X-Z;case"hanging":return j+X-2*Z;case"middle":return j+X/2-Z;case"ideographic":return j;case"alphabetic":default:return j}},B=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(X,Z){this.colorStops.push([X,Z])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(j,X,Z,re,ce,ye,me,Se,Oe){for(var _e=$.call(this,Z,re,ce,ye),$e=0;$e<_e.length;$e++){var Be=_e[$e];$e===0&&(Oe?T.call(this,Be.x1+j,Be.y1+X):H.call(this,Be.x1+j,Be.y1+X)),ee.call(this,j,X,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}Se?K.call(this):V.call(this,me)},V=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(j,X){this.pdf.internal.out(n(j)+" "+i(X)+" m")},O=function(j){var X;switch(j.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var Z=this.pdf.getTextDimensions(j.text),re=z.call(this,j.y),ce=B.call(this,re)-Z.h,ye=this.ctx.transform.applyToPoint(new o(j.x,re)),me=this.ctx.transform.decompose(),Se=new u;Se=(Se=(Se=Se.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Oe,_e,$e,Be=this.ctx.transform.applyToRectangle(new a(j.x,re,Z.w,Z.h)),it=Se.applyToRectangle(new a(j.x,ce,Z.w,Z.h)),De=x.call(this,it),fe=[],ct=0;ct<De.length;ct+=1)fe.indexOf(De[ct])===-1&&fe.push(De[ct]);if(E(fe),this.autoPaging)for(var ot=fe[0],Ye=fe[fe.length-1],Je=ot;Je<Ye+1;Je++){this.pdf.setPage(Je);var nt=Je===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],mt=yt-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],Vt=It-this.margin[3],zt=Je===1?0:at+(Je-2)*mt;if(this.ctx.clip_path.length!==0){var wt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Oe,this.posX+this.margin[3],-1*zt+nt),N.call(this,"fill",!0),this.path=wt}var vt=A([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-zt+nt+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),$e=this.lineWidth,this.lineWidth=$e*j.scale);var Ot=this.autoPaging!=="text";if(Ot||vt.y+vt.h<=yt){if(Ot||vt.y>=nt&&vt.x<=It){var ft=Ot?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||It-vt.x)[0],yi=A([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-zt+nt+this.ctx.prevPageLastElemOffset)[0],Zt=Ot&&(Je>ot||Je<Ye)&&w.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,mt,null).clip().discardPath()),this.pdf.text(ft,yi.x,yi.y,{angle:j.angle,align:X,renderingMode:j.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else vt.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-vt.y);j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=$e)}else j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),$e=this.lineWidth,this.lineWidth=$e*j.scale),this.pdf.text(j.text,ye.x+this.posX,ye.y+this.posY,{angle:j.angle,align:X,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=$e)},H=function(j,X,Z,re){Z=Z||0,re=re||0,this.pdf.internal.out(n(j+Z)+" "+i(X+re)+" l")},q=function(j,X,Z){return this.pdf.lines(j,X,Z,null,null)},ee=function(j,X,Z,re,ce,ye,me,Se){this.pdf.internal.out([t(r(Z+j)),t(s(re+X)),t(r(ce+j)),t(s(ye+X)),t(r(me+j)),t(s(Se+X)),"c"].join(" "))},$=function(j,X,Z,re){for(var ce=2*Math.PI,ye=Math.PI/2;X>Z;)X-=ce;var me=Math.abs(Z-X);me<ce&&re&&(me=ce-me);for(var Se=[],Oe=re?-1:1,_e=X;me>1e-5;){var $e=_e+Oe*Math.min(me,ye);Se.push(W.call(this,j,_e,$e)),me-=Math.abs($e-_e),_e=$e}return Se},W=function(j,X,Z){var re=(Z-X)/2,ce=j*Math.cos(re),ye=j*Math.sin(re),me=ce,Se=-ye,Oe=me*me+Se*Se,_e=Oe+me*ce+Se*ye,$e=4/3*(Math.sqrt(2*Oe*_e)-_e)/(me*ye-Se*ce),Be=me-$e*Se,it=Se+$e*me,De=Be,fe=-it,ct=re+X,ot=Math.cos(ct),Ye=Math.sin(ct);return{x1:j*Math.cos(X),y1:j*Math.sin(X),x2:Be*ot-it*Ye,y2:Be*Ye+it*ot,x3:De*ot-fe*Ye,y3:De*Ye+fe*ot,x4:j*Math.cos(Z),y4:j*Math.sin(Z)}},Q=function(j){return 180*j/Math.PI},ue=function(j,X,Z,re,ce,ye){var me=j+.5*(Z-j),Se=X+.5*(re-X),Oe=ce+.5*(Z-ce),_e=ye+.5*(re-ye),$e=Math.min(j,ce,me,Oe),Be=Math.max(j,ce,me,Oe),it=Math.min(X,ye,Se,_e),De=Math.max(X,ye,Se,_e);return new a($e,it,Be-$e,De-it)},U=function(j,X,Z,re,ce,ye,me,Se){var Oe,_e,$e,Be,it,De,fe,ct,ot,Ye,Je,nt,at,yt,mt=Z-j,It=re-X,Vt=ce-Z,zt=ye-re,wt=me-ce,vt=Se-ye;for(_e=0;_e<41;_e++)ot=(fe=($e=j+(Oe=_e/40)*mt)+Oe*((it=Z+Oe*Vt)-$e))+Oe*(it+Oe*(ce+Oe*wt-it)-fe),Ye=(ct=(Be=X+Oe*It)+Oe*((De=re+Oe*zt)-Be))+Oe*(De+Oe*(ye+Oe*vt-De)-ct),_e==0?(Je=ot,nt=Ye,at=ot,yt=Ye):(Je=Math.min(Je,ot),nt=Math.min(nt,Ye),at=Math.max(at,ot),yt=Math.max(yt,Ye));return new a(Math.round(Je),Math.round(nt),Math.round(at-Je),Math.round(yt-nt))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,X,Z=(j=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Bt.API),function(e){var t=function(s){var o,a,u,d,h,p,g,m,y,w;for(a=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(w=h%85))/85)-(y=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,a.push(p+33,g+33,m+33,y+33,w+33)):a.push(122);return function(x,C){for(var A=C;A>0;A--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,u,d,h,p=String,g="length",m=255,y="charCodeAt",w="slice",x="replace";for(s[w](-2),s=s[w](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,h=(s+=o="uuuuu"[w](s[g]%5||5))[g];h>d;d+=5)a=52200625*(s[y](d)-33)+614125*(s[y](d+1)-33)+7225*(s[y](d+2)-33)+85*(s[y](d+3)-33)+(s[y](d+4)-33),u.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(C,A){for(var E=A;E>0;E--)C.pop()}(u,o[g]),p.fromCharCode.apply(p,u)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",u=0;u<s.length;u+=2)a+=String.fromCharCode("0x"+(s[u]+s[u+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=r5(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Bt.API),function(e){e.loadFile=function(t,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(u,d,h){var p=new XMLHttpRequest,g=0,m=function(y){var w=y.length,x=[],C=String.fromCharCode;for(g=0;g<w;g+=1)x.push(C(255&y.charCodeAt(g)));return x.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(r,s,o)}catch{}return a}(t,n,i)},e.loadImageFile=e.loadFile}(Bt.API),function(e){function t(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):Jx(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):Jx(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=Gn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(o,a){var u=document.createElement(o);for(var d in a.className&&(u.className=a.className),a.innerHTML&&a.dompurify&&(u.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)u.style[d]=a.style[d];return u},s=function o(a){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function u(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,a(this.prop.container,u)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var m=d[g],y=m.src.find(function(w){return w.format==="truetype"});y&&u.addFont(y.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var a=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,u,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,u,d){return this.setProgress(o?this.progress.val+o:null,a||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var u=this;return this.thenCore(o,a,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=u.call(d,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(u){a=a.thenCore(u)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Bt.getPageSize=function(o,a,u){if(Gn(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,u=d.format||u}a=a||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var m,y=0,w=0;if(g.hasOwnProperty(p))y=g[p][1]/h,w=g[p][0]/h;else try{y=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",w>y&&(m=w,w=y,y=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>w&&(m=w,w=y,y=m)}return{width:w,height:y,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(c5):null;var u=new s(a);return a.worker?u:u.from(o).doCallback()}}(Bt.API),Bt.API.addJS=function(e){return wN=e,this.internal.events.subscribe("postPutResources",function(){Wy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wy!==void 0&&CN!==void 0&&this.internal.out("/Names <</JavaScript "+Wy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var u=a[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var p=n.internal.newObject();h.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,s,o,a){var u,d=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=m,t.indexOf(p.charCodeAt(x+1))!==-1){g=256*p.charCodeAt(x+5)+p.charCodeAt(x+6),w={width:256*p.charCodeAt(x+7)+p.charCodeAt(x+8),height:g,numcomponents:p.charCodeAt(x+9)};break}m=256*p.charCodeAt(x+2)+p.charCodeAt(x+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:d,index:i,alias:r}}return h}}(Bt.API);var Tf,$y,SN,xN,RN,Lne=function(){var e,t,n;function i(s){var o,a,u,d,h,p,g,m,y,w,x,C,A,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),y=(function(){var F,N;for(N=[],F=0;F<4;++F)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*h/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((w=u-this.transparency.indexed.length)>0)for(A=0;0<=w?A<w:A>w;0<=w?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(x=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,x.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(p,g,m,y){var w,x,C,A,E,F,N,z,B,k,V,K,T,O,H,q,ee,$,W,Q,ue,U=Math.ceil((d.width-p)/m),de=Math.ceil((d.height-g)/y),j=d.width==U&&d.height==de;for(O=o*U,K=j?a:new Uint8Array(O*de),F=s.length,T=0,x=0;T<de&&u<F;){switch(s[u++]){case 0:for(A=ee=0;ee<O;A=ee+=1)K[x++]=s[u++];break;case 1:for(A=$=0;$<O;A=$+=1)w=s[u++],E=A<o?0:K[x-o],K[x++]=(w+E)%256;break;case 2:for(A=W=0;W<O;A=W+=1)w=s[u++],C=(A-A%o)/o,H=T&&K[(T-1)*O+C*o+A%o],K[x++]=(H+w)%256;break;case 3:for(A=Q=0;Q<O;A=Q+=1)w=s[u++],C=(A-A%o)/o,E=A<o?0:K[x-o],H=T&&K[(T-1)*O+C*o+A%o],K[x++]=(w+Math.floor((E+H)/2))%256;break;case 4:for(A=ue=0;ue<O;A=ue+=1)w=s[u++],C=(A-A%o)/o,E=A<o?0:K[x-o],T===0?H=q=0:(H=K[(T-1)*O+C*o+A%o],q=C&&K[(T-1)*O+(C-1)*o+A%o]),N=E+H-q,z=Math.abs(N-E),k=Math.abs(N-H),V=Math.abs(N-q),B=z<=k&&z<=V?E:k<=V?H:q,K[x++]=(w+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!j){var X=((g+T*y)*d.width+p)*o,Z=T*O;for(A=0;A<U;A+=1){for(var re=0;re<o;re+=1)a[X++]=K[Z++];X+=(m-1)*o}}T++}}return s=une(s),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,u,d,h,p,g,m;for(a=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+a.length),u=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)d[u++]=a[o],d[u++]=a[o+1],d[u++]=a[o+2],d[u++]=(m=h[s++])!=null?m:255;return d},i.prototype.copyToImageData=function(s,o){var a,u,d,h,p,g,m,y,w,x,C;if(u=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,a=!0),y=(d=s.data||s).length,p=w||o,h=g=0,u===1)for(;h<y;)m=w?4*o[h/4]:g,x=p[m++],d[h++]=x,d[h++]=x,d[h++]=x,d[h++]=a?p[m++]:255,g=m;else for(;h<y;)m=w?4*o[h/4]:g,d[h++]=p[m++],d[h++]=p[m++],d[h++]=p[m++],d[h++]=a?p[m++]:255,g=m},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(Gt)==="[object Window]"){try{t=Gt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),e=function(s){var o;if(r()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,u,d,h,p,g,m;if(this.animation){for(m=[],a=h=0,p=(g=this.animation.frames).length;h<p;a=++h)o=g[a],u=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,d),o.imageData=u,m.push(o.image=e(u));return m}},i.prototype.renderFrame=function(s,o){var a,u,d;return a=(u=this.animation.frames)[o],d=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,u,d,h,p,g=this;return a=0,p=this.animation,d=p.numFrames,u=p.frames,h=p.numPlays,(o=function(){var m,y;if(m=a++%d,y=u[m],g.renderFrame(s,m),d>1&&a/d<h)return g.animation._timeout=setTimeout(o,y.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Mne(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],s=r>>7,o=1<<(7&r)+1;e[t++],e[t++];var a=null,u=null;s&&(a=t,u=o,t+=3*o);var d=!0,h=[],p=0,g=null,m=0,y=null;for(this.width=n,this.height=i;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],(1&w)==0&&(g=null),m=w>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,F=e[t++],N=F>>6&1,z=1<<(7&F)+1,B=a,k=u,V=!1;F>>7&&(V=!0,B=t,k=z,t+=3*z);var K=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}h.push({x,y:C,width:A,height:E,has_local_palette:V,palette_offset:B,palette_size:k,data_offset:K,data_length:t-K,transparent_index:g,interlaced:!!N,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,H){var q=this.frameInfo(O),ee=q.width*q.height,$=new Uint8Array(ee);AN(e,q.data_offset,$,ee);var W=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ue=q.width,U=n-ue,de=ue,j=4*(q.y*n+q.x),X=4*((q.y+q.height)*n+q.x),Z=j,re=4*U;q.interlaced===!0&&(re+=4*n*7);for(var ce=8,ye=0,me=$.length;ye<me;++ye){var Se=$[ye];if(de===0&&(de=ue,(Z+=re)>=X&&(re=4*U+4*n*(ce-1),Z=j+(ue+U)*(ce<<1),ce>>=1)),Se===Q)Z+=4;else{var Oe=e[W+3*Se],_e=e[W+3*Se+1],$e=e[W+3*Se+2];H[Z++]=$e,H[Z++]=_e,H[Z++]=Oe,H[Z++]=255}--de}},this.decodeAndBlitFrameRGBA=function(O,H){var q=this.frameInfo(O),ee=q.width*q.height,$=new Uint8Array(ee);AN(e,q.data_offset,$,ee);var W=q.palette_offset,Q=q.transparent_index;Q===null&&(Q=256);var ue=q.width,U=n-ue,de=ue,j=4*(q.y*n+q.x),X=4*((q.y+q.height)*n+q.x),Z=j,re=4*U;q.interlaced===!0&&(re+=4*n*7);for(var ce=8,ye=0,me=$.length;ye<me;++ye){var Se=$[ye];if(de===0&&(de=ue,(Z+=re)>=X&&(re=4*U+4*n*(ce-1),Z=j+(ue+U)*(ce<<1),ce>>=1)),Se===Q)Z+=4;else{var Oe=e[W+3*Se],_e=e[W+3*Se+1],$e=e[W+3*Se+2];H[Z++]=Oe,H[Z++]=_e,H[Z++]=$e,H[Z++]=255}--de}}}function AN(e,t,n,i){for(var r=e[t++],s=1<<r,o=s+1,a=o+1,u=r+1,d=(1<<u)-1,h=0,p=0,g=0,m=e[t++],y=new Int32Array(4096),w=null;;){for(;h<16&&m!==0;)p|=e[t++]<<h,h+=8,m===1?m=e[t++]:--m;if(h<u)break;var x=p&d;if(p>>=u,h-=u,x!==s){if(x===o)break;for(var C=x<a?x:w,A=0,E=C;E>s;)E=y[E]>>8,++A;var F=E;if(g+A+(C!==x?1:0)>i)return void Kn.log("Warning, gif stream longer than expected.");n[g++]=F;var N=g+=A;for(C!==x&&(n[g++]=F),E=C;A--;)E=y[E],n[--N]=255&E,E>>=8;w!==null&&a<4096&&(y[a++]=w<<8|F,a>=d+1&&u<12&&(++u,d=d<<1|1)),w=x}else a=o+1,d=(1<<(u=r+1))-1,w=null}return g!==i&&Kn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function f2(e){var t,n,i,r,s,o=Math.floor,a=new Array(64),u=new Array(64),d=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),w=[],x=0,C=7,A=new Array(64),E=new Array(64),F=new Array(64),N=new Array(256),z=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(j,X){for(var Z=0,re=0,ce=new Array,ye=1;ye<=16;ye++){for(var me=1;me<=j[ye];me++)ce[X[re]]=[],ce[X[re]][0]=Z,ce[X[re]][1]=ye,re++,Z++;Z*=2}return ce}function W(j){for(var X=j[0],Z=j[1]-1;Z>=0;)X&1<<Z&&(x|=1<<C),Z--,--C<0&&(x==255?(Q(255),Q(0)):Q(x),C=7,x=0)}function Q(j){w.push(j)}function ue(j){Q(j>>8&255),Q(255&j)}function U(j,X,Z,re,ce){for(var ye,me=ce[0],Se=ce[240],Oe=function(Ye,Je){var nt,at,yt,mt,It,Vt,zt,wt,vt,Ot,ft=0;for(vt=0;vt<8;++vt){nt=Ye[ft],at=Ye[ft+1],yt=Ye[ft+2],mt=Ye[ft+3],It=Ye[ft+4],Vt=Ye[ft+5],zt=Ye[ft+6];var yi=nt+(wt=Ye[ft+7]),Zt=nt-wt,An=at+zt,hn=at-zt,ln=yt+Vt,En=yt-Vt,sn=mt+It,qi=mt-It,Tn=yi+sn,Di=yi-sn,Fi=An+ln,fn=An-ln;Ye[ft]=Tn+Fi,Ye[ft+4]=Tn-Fi;var Dt=.707106781*(fn+Di);Ye[ft+2]=Di+Dt,Ye[ft+6]=Di-Dt;var Jt=.382683433*((Tn=qi+En)-(fn=hn+Zt)),Cs=.5411961*Tn+Jt,Yn=1.306562965*fn+Jt,Li=.707106781*(Fi=En+hn),lr=Zt+Li,bt=Zt-Li;Ye[ft+5]=bt+Cs,Ye[ft+3]=bt-Cs,Ye[ft+1]=lr+Yn,Ye[ft+7]=lr-Yn,ft+=8}for(ft=0,vt=0;vt<8;++vt){nt=Ye[ft],at=Ye[ft+8],yt=Ye[ft+16],mt=Ye[ft+24],It=Ye[ft+32],Vt=Ye[ft+40],zt=Ye[ft+48];var Mr=nt+(wt=Ye[ft+56]),Nr=nt-wt,Ui=at+zt,Un=at-zt,In=yt+Vt,Cn=yt-Vt,ur=mt+It,Dn=mt-It,Fn=Mr+ur,Mi=Mr-ur,cr=Ui+In,_n=Ui-In;Ye[ft]=Fn+cr,Ye[ft+32]=Fn-cr;var br=.707106781*(_n+Mi);Ye[ft+16]=Mi+br,Ye[ft+48]=Mi-br;var Or=.382683433*((Fn=Dn+Cn)-(_n=Un+Nr)),kr=.5411961*Fn+Or,Bs=1.306562965*_n+Or,Cr=.707106781*(cr=Cn+Un),Vn=Nr+Cr,Qr=Nr-Cr;Ye[ft+40]=Qr+kr,Ye[ft+24]=Qr-kr,Ye[ft+8]=Vn+Bs,Ye[ft+56]=Vn-Bs,ft++}for(vt=0;vt<64;++vt)Ot=Ye[vt]*Je[vt],m[vt]=Ot>0?Ot+.5|0:Ot-.5|0;return m}(j,X),_e=0;_e<64;++_e)y[B[_e]]=Oe[_e];var $e=y[0]-Z;Z=y[0],$e==0?W(re[0]):(W(re[g[ye=32767+$e]]),W(p[ye]));for(var Be=63;Be>0&&y[Be]==0;)Be--;if(Be==0)return W(me),Z;for(var it,De=1;De<=Be;){for(var fe=De;y[De]==0&&De<=Be;)++De;var ct=De-fe;if(ct>=16){it=ct>>4;for(var ot=1;ot<=it;++ot)W(Se);ct&=15}ye=32767+y[De],W(ce[(ct<<4)+g[ye]]),W(p[ye]),De++}return Be!=63&&W(me),Z}function de(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=o((Z[re]*X+50)/100);ce=Math.min(Math.max(ce,1),255),a[B[re]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var Se=o((ye[me]*X+50)/100);Se=Math.min(Math.max(Se,1),255),u[B[me]]=Se}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,$e=0;$e<8;$e++)for(var Be=0;Be<8;Be++)d[_e]=1/(a[B[_e]]*Oe[$e]*Oe[Be]*8),h[_e]=1/(u[B[_e]]*Oe[$e]*Oe[Be]*8),_e++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,X){X&&de(X),w=new Array,x=0,C=7,ue(65496),ue(65504),ue(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ue(1),ue(1),Q(0),Q(0),function(){ue(65499),ue(132),Q(0);for(var at=0;at<64;at++)Q(a[at]);Q(1);for(var yt=0;yt<64;yt++)Q(u[yt])}(),function(at,yt){ue(65472),ue(17),Q(8),ue(yt),ue(at),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(j.width,j.height),function(){ue(65476),ue(418),Q(0);for(var at=0;at<16;at++)Q(k[at+1]);for(var yt=0;yt<=11;yt++)Q(V[yt]);Q(16);for(var mt=0;mt<16;mt++)Q(K[mt+1]);for(var It=0;It<=161;It++)Q(T[It]);Q(1);for(var Vt=0;Vt<16;Vt++)Q(O[Vt+1]);for(var zt=0;zt<=11;zt++)Q(H[zt]);Q(17);for(var wt=0;wt<16;wt++)Q(q[wt+1]);for(var vt=0;vt<=161;vt++)Q(ee[vt])}(),ue(65498),ue(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var Z=0,re=0,ce=0;x=0,C=7,this.encode.displayName="_encode_";for(var ye,me,Se,Oe,_e,$e,Be,it,De,fe=j.data,ct=j.width,ot=j.height,Ye=4*ct,Je=0;Je<ot;){for(ye=0;ye<Ye;){for(_e=Ye*Je+ye,Be=-1,it=0,De=0;De<64;De++)$e=_e+(it=De>>3)*Ye+(Be=4*(7&De)),Je+it>=ot&&($e-=Ye*(Je+1+it-ot)),ye+Be>=Ye&&($e-=ye+Be-Ye+4),me=fe[$e++],Se=fe[$e++],Oe=fe[$e++],A[De]=(z[me]+z[Se+256>>0]+z[Oe+512>>0]>>16)-128,E[De]=(z[me+768>>0]+z[Se+1024>>0]+z[Oe+1280>>0]>>16)-128,F[De]=(z[me+1280>>0]+z[Se+1536>>0]+z[Oe+1792>>0]>>16)-128;Z=U(A,d,Z,t,i),re=U(E,h,re,n,r),ce=U(F,h,ce,n,r),ye+=32}Je+=8}if(C>=0){var nt=[];nt[1]=C+1,nt[0]=(1<<C+1)-1,W(nt)}return ue(65497),new Uint8Array(w)},e=e||50,function(){for(var j=String.fromCharCode,X=0;X<256;X++)N[X]=j(X)}(),t=$(k,V),n=$(O,H),i=$(K,T),r=$(q,ee),function(){for(var j=1,X=2,Z=1;Z<=15;Z++){for(var re=j;re<X;re++)g[32767+re]=Z,p[32767+re]=[],p[32767+re][1]=Z,p[32767+re][0]=re;for(var ce=-(X-1);ce<=-j;ce++)g[32767+ce]=Z,p[32767+ce]=[],p[32767+ce][1]=Z,p[32767+ce][0]=X-1+ce;j<<=1,X<<=1}}(),function(){for(var j=0;j<256;j++)z[j]=19595*j,z[j+256>>0]=38470*j,z[j+512>>0]=7471*j+32768,z[j+768>>0]=-11059*j,z[j+1024>>0]=-21709*j,z[j+1280>>0]=32768*j+8421375,z[j+1536>>0]=-27439*j,z[j+1792>>0]=-5329*j}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _a(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EN(e){function t(k){if(!k)throw Error("assert :P")}function n(k,V,K){for(var T=0;4>T;T++)if(k[V+T]!=K.charCodeAt(T))return!0;return!1}function i(k,V,K,T,O){for(var H=0;H<O;H++)k[V+H]=K[T+H]}function r(k,V,K,T){for(var O=0;O<T;O++)k[V+O]=K}function s(k){return new Int32Array(k)}function o(k,V){for(var K=[],T=0;T<k;T++)K.push(new V);return K}function a(k,V){var K=[];return function T(O,H,q){for(var ee=q[H],$=0;$<ee&&(O.push(q.length>H+1?[]:new V),!(q.length<H+1));$++)T(O[$],H+1,q)}(K,0,k),K}var u=function(){var k=this;function V(b,R){for(var L=1<<R-1>>>0;b&L;)L>>>=1;return L?(b&L-1)+L:b}function K(b,R,L,G,J){t(!(G%L));do b[R+(G-=L)]=J;while(0<G)}function T(b,R,L,G,J){if(t(2328>=J),512>=J)var ne=s(512);else if((ne=s(J))==null)return 0;return function(ie,se,le,he,we,Fe){var Me,Ae,ke=se,Le=1<<le,be=s(16),xe=s(16);for(t(we!=0),t(he!=null),t(ie!=null),t(0<le),Ae=0;Ae<we;++Ae){if(15<he[Ae])return 0;++be[he[Ae]]}if(be[0]==we)return 0;for(xe[1]=0,Me=1;15>Me;++Me){if(be[Me]>1<<Me)return 0;xe[Me+1]=xe[Me]+be[Me]}for(Ae=0;Ae<we;++Ae)Me=he[Ae],0<he[Ae]&&(Fe[xe[Me]++]=Ae);if(xe[15]==1)return(he=new O).g=0,he.value=Fe[0],K(ie,ke,1,Le,he),Le;var Ue,Xe=-1,Ke=Le-1,pt=0,lt=1,kt=1,rt=1<<le;for(Ae=0,Me=1,we=2;Me<=le;++Me,we<<=1){if(lt+=kt<<=1,0>(kt-=be[Me]))return 0;for(;0<be[Me];--be[Me])(he=new O).g=Me,he.value=Fe[Ae++],K(ie,ke+pt,we,rt,he),pt=V(pt,Me)}for(Me=le+1,we=2;15>=Me;++Me,we<<=1){if(lt+=kt<<=1,0>(kt-=be[Me]))return 0;for(;0<be[Me];--be[Me]){if(he=new O,(pt&Ke)!=Xe){for(ke+=rt,Ue=1<<(Xe=Me)-le;15>Xe&&!(0>=(Ue-=be[Xe]));)++Xe,Ue<<=1;Le+=rt=1<<(Ue=Xe-le),ie[se+(Xe=pt&Ke)].g=Ue+le,ie[se+Xe].value=ke-se-Xe}he.g=Me-le,he.value=Fe[Ae++],K(ie,ke+(pt>>le),we,rt,he),pt=V(pt,Me)}}return lt!=2*xe[15]-1?0:Le}(b,R,L,G,J,ne)}function O(){this.value=this.g=0}function H(){this.value=this.g=0}function q(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Wi,H)}function ee(b,R,L,G){t(b!=null),t(R!=null),t(2147483648>G),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=R,b.pa=L,b.Jd=R,b.Yc=L+G,b.Zc=4<=G?L+G-4+1:L,ye(b)}function $(b,R){for(var L=0;0<R--;)L|=Se(b,128)<<R;return L}function W(b,R){var L=$(b,R);return me(b)?-L:L}function Q(b,R,L,G){var J,ne=0;for(t(b!=null),t(R!=null),t(4294967288>G),b.Sb=G,b.Ra=0,b.u=0,b.h=0,4<G&&(G=4),J=0;J<G;++J)ne+=R[L+J]<<8*J;b.Ra=ne,b.bb=G,b.oa=R,b.pa=L}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<iu-8>>>0,++b.bb,b.u-=8;Z(b)&&(b.h=1,b.u=0)}function U(b,R){if(t(0<=R),!b.h&&R<=nu){var L=X(b)&fl[R];return b.u+=R,ue(b),L}return b.h=1,b.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&iu-1)>>>0}function Z(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>iu}function re(b,R){b.u=R,b.h=Z(b)}function ce(b){b.u>=hc&&(t(b.u>=hc),ue(b))}function ye(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function me(b){return $(b,1)}function Se(b,R){var L=b.Ca;0>b.b&&ye(b);var G=b.b,J=L*R>>>8,ne=(b.I>>>G>J)+0;for(ne?(L-=J,b.I-=J+1<<G>>>0):L=J+1,G=L,J=0;256<=G;)J+=8,G>>=8;return G=7^J+ts[G],b.b-=G,b.Ca=(L<<G)-1,ne}function Oe(b,R,L){b[R+0]=L>>24&255,b[R+1]=L>>16&255,b[R+2]=L>>8&255,b[R+3]=L>>0&255}function _e(b,R){return b[R+0]<<0|b[R+1]<<8}function $e(b,R){return _e(b,R)|b[R+2]<<16}function Be(b,R){return _e(b,R)|_e(b,R+2)<<16}function it(b,R){var L=1<<R;return t(b!=null),t(0<R),b.X=s(L),b.X==null?0:(b.Mb=32-R,b.Xa=R,1)}function De(b,R){t(b!=null),t(R!=null),t(b.Xa==R.Xa),i(R.X,0,b.X,0,1<<R.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function ct(b,R,L,G){t(L!=null),t(G!=null);var J=L[0],ne=G[0];return J==0&&(J=(b*ne+R/2)/R),ne==0&&(ne=(R*J+b/2)/b),0>=J||0>=ne?0:(L[0]=J,G[0]=ne,1)}function ot(b,R){return b+(1<<R)-1>>>R}function Ye(b,R){return((4278255360&b)+(4278255360&R)>>>0&4278255360)+((16711935&b)+(16711935&R)>>>0&16711935)>>>0}function Je(b,R){k[R]=function(L,G,J,ne,ie,se,le){var he;for(he=0;he<ie;++he){var we=k[b](se[le+he-1],J,ne+he);se[le+he]=Ye(L[G+he],we)}}}function nt(){this.ud=this.hd=this.jd=0}function at(b,R){return((4278124286&(b^R))>>>1)+(b&R)>>>0}function yt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function mt(b,R){return yt(b+(b-R+.5>>1))}function It(b,R,L){return Math.abs(R-L)-Math.abs(b-L)}function Vt(b,R,L,G,J,ne,ie){for(G=ne[ie-1],L=0;L<J;++L)ne[ie+L]=G=Ye(b[R+L],G)}function zt(b,R,L,G,J){var ne;for(ne=0;ne<L;++ne){var ie=b[R+ne],se=ie>>8&255,le=16711935&(le=(le=16711935&ie)+((se<<16)+se));G[J+ne]=(4278255360&ie)+le>>>0}}function wt(b,R){R.jd=b>>0&255,R.hd=b>>8&255,R.ud=b>>16&255}function vt(b,R,L,G,J,ne){var ie;for(ie=0;ie<G;++ie){var se=R[L+ie],le=se>>>8,he=se,we=255&(we=(we=se>>>16)+((b.jd<<24>>24)*(le<<24>>24)>>>5));he=255&(he=(he=he+((b.hd<<24>>24)*(le<<24>>24)>>>5))+((b.ud<<24>>24)*(we<<24>>24)>>>5)),J[ne+ie]=(4278255360&se)+(we<<16)+he}}function Ot(b,R,L,G,J){k[R]=function(ne,ie,se,le,he,we,Fe,Me,Ae){for(le=Fe;le<Me;++le)for(Fe=0;Fe<Ae;++Fe)he[we++]=J(se[G(ne[ie++])])},k[b]=function(ne,ie,se,le,he,we,Fe){var Me=8>>ne.b,Ae=ne.Ea,ke=ne.K[0],Le=ne.w;if(8>Me)for(ne=(1<<ne.b)-1,Le=(1<<Me)-1;ie<se;++ie){var be,xe=0;for(be=0;be<Ae;++be)be&ne||(xe=G(le[he++])),we[Fe++]=J(ke[xe&Le]),xe>>=Me}else k["VP8LMapColor"+L](le,he,ke,Le,we,Fe,ie,se,Ae)}}function ft(b,R,L,G,J){for(L=R+L;R<L;){var ne=b[R++];G[J++]=ne>>16&255,G[J++]=ne>>8&255,G[J++]=ne>>0&255}}function yi(b,R,L,G,J){for(L=R+L;R<L;){var ne=b[R++];G[J++]=ne>>16&255,G[J++]=ne>>8&255,G[J++]=ne>>0&255,G[J++]=ne>>24&255}}function Zt(b,R,L,G,J){for(L=R+L;R<L;){var ne=(ie=b[R++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;G[J++]=ne,G[J++]=ie}}function An(b,R,L,G,J){for(L=R+L;R<L;){var ne=(ie=b[R++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;G[J++]=ne,G[J++]=ie}}function hn(b,R,L,G,J){for(L=R+L;R<L;){var ne=b[R++];G[J++]=ne>>0&255,G[J++]=ne>>8&255,G[J++]=ne>>16&255}}function ln(b,R,L,G,J,ne){if(ne==0)for(L=R+L;R<L;)Oe(G,((ne=b[R++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),J+=32;else i(G,J,b,R,L)}function En(b,R){k[R][0]=k[b+"0"],k[R][1]=k[b+"1"],k[R][2]=k[b+"2"],k[R][3]=k[b+"3"],k[R][4]=k[b+"4"],k[R][5]=k[b+"5"],k[R][6]=k[b+"6"],k[R][7]=k[b+"7"],k[R][8]=k[b+"8"],k[R][9]=k[b+"9"],k[R][10]=k[b+"10"],k[R][11]=k[b+"11"],k[R][12]=k[b+"12"],k[R][13]=k[b+"13"],k[R][14]=k[b+"0"],k[R][15]=k[b+"0"]}function sn(b){return b==go||b==mo||b==Vo||b==Yh}function qi(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Di(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qi,this.f.kb=new Tn,this.sd=null}function Fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Jt(b,R){var L=b.T,G=R.ba.f.RGBA,J=G.eb,ne=G.fb+b.ka*G.A,ie=jr[R.ba.S],se=b.y,le=b.O,he=b.f,we=b.N,Fe=b.ea,Me=b.W,Ae=R.cc,ke=R.dc,Le=R.Mc,be=R.Nc,xe=b.ka,Ue=b.ka+b.T,Xe=b.U,Ke=Xe+1>>1;for(xe==0?ie(se,le,null,null,he,we,Fe,Me,he,we,Fe,Me,J,ne,null,null,Xe):(ie(R.ec,R.fc,se,le,Ae,ke,Le,be,he,we,Fe,Me,J,ne-G.A,J,ne,Xe),++L);xe+2<Ue;xe+=2)Ae=he,ke=we,Le=Fe,be=Me,we+=b.Rc,Me+=b.Rc,ne+=2*G.A,ie(se,(le+=2*b.fa)-b.fa,se,le,Ae,ke,Le,be,he,we,Fe,Me,J,ne-G.A,J,ne,Xe);return le+=b.fa,b.j+Ue<b.o?(i(R.ec,R.fc,se,le,Xe),i(R.cc,R.dc,he,we,Ke),i(R.Mc,R.Nc,Fe,Me,Ke),L--):1&Ue||ie(se,le,null,null,he,we,Fe,Me,he,we,Fe,Me,J,ne+G.A,null,null,Xe),L}function Cs(b,R,L){var G=b.F,J=[b.J];if(G!=null){var ne=b.U,ie=R.ba.S,se=ie==Hr||ie==Vo;R=R.ba.f.RGBA;var le=[0],he=b.ka;le[0]=b.T,b.Kb&&(he==0?--le[0]:(--he,J[0]-=b.width),b.j+b.ka+b.T==b.o&&(le[0]=b.o-b.j-he));var we=R.eb;he=R.fb+he*R.A,b=wn(G,J[0],b.width,ne,le,we,he+(se?0:3),R.A),t(L==le),b&&sn(ie)&&pi(we,he,se,ne,le,R.A)}return 0}function Yn(b){var R=b.ma,L=R.ba.S,G=11>L,J=L==Ra||L==au||L==Hr||L==rs||L==12||sn(L);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!hl(R.Oa,b,J?11:12))return 0;if(J&&sn(L)&&et(),b.da)alert("todo:use_scaling");else{if(G){if(R.Ib=Dt,b.Kb){if(L=b.U+1>>1,R.memory=s(b.U+2*L),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+b.U,R.Mc=R.cc,R.Nc=R.dc+L,R.Ib=Jt,et()}}else alert("todo:EmitYUV");J&&(R.Jb=Cs,G&&Te())}if(G&&!bo){for(b=0;256>b;++b)xl[b]=89858*(b-128)+Od>>uu,Ea[b]=-22014*(b-128)+Od,Rl[b]=-45773*(b-128),kv[b]=113618*(b-128)+Od>>uu;for(b=cu;b<kd;++b)R=76283*(b-16)+Od>>uu,$i[b-cu]=Ps(R,255),Zh[b-cu]=Ps(R+8>>4,15);bo=1}return 1}function Li(b){var R=b.ma,L=b.U,G=b.T;return t(!(1&b.ka)),0>=L||0>=G?0:(L=R.Ib(b,R),R.Jb!=null&&R.Jb(b,R,L),R.Dc+=L,1)}function lr(b){b.ma.memory=null}function bt(b,R,L,G){return U(b,8)!=47?0:(R[0]=U(b,14)+1,L[0]=U(b,14)+1,G[0]=U(b,1),U(b,3)!=0?0:!b.h)}function Mr(b,R){if(4>b)return b+1;var L=b-2>>1;return(2+(1&b)<<L)+U(R,L)+1}function Nr(b,R){return 120<R?R-120:1<=(L=((L=vo[R-1])>>4)*b+(8-(15&L)))?L:1;var L}function Ui(b,R,L){var G=X(L),J=b[R+=255&G].g-8;return 0<J&&(re(L,L.u+8),G=X(L),R+=b[R].value,R+=G&(1<<J)-1),re(L,L.u+b[R].g),b[R].value}function Un(b,R,L){return L.g+=b.g,L.value+=b.value<<R>>>0,t(8>=L.g),b.g}function In(b,R,L){var G=b.xc;return t((R=G==0?0:b.vc[b.md*(L>>G)+(R>>G)])<b.Wb),b.Ya[R]}function Cn(b,R,L,G){var J=b.ab,ne=b.c*R,ie=b.C;R=ie+R;var se=L,le=G;for(G=b.Ta,L=b.Ua;0<J--;){var he=b.gc[J],we=ie,Fe=R,Me=se,Ae=le,ke=(le=G,se=L,he.Ea);switch(t(we<Fe),t(Fe<=he.nc),he.hc){case 2:Kh(Me,Ae,(Fe-we)*ke,le,se);break;case 0:var Le=we,be=Fe,xe=le,Ue=se,Xe=(rt=he).Ea;Le==0&&(zp(Me,Ae,null,null,1,xe,Ue),Vt(Me,Ae+1,0,0,Xe-1,xe,Ue+1),Ae+=Xe,Ue+=Xe,++Le);for(var Ke=1<<rt.b,pt=Ke-1,lt=ot(Xe,rt.b),kt=rt.K,rt=rt.w+(Le>>rt.b)*lt;Le<be;){var gn=kt,Sn=rt,pn=1;for(Ad(Me,Ae,xe,Ue-Xe,1,xe,Ue);pn<Xe;){var an=(pn&~pt)+Ke;an>Xe&&(an=Xe),(0,ya[gn[Sn++]>>8&15])(Me,Ae+ +pn,xe,Ue+pn-Xe,an-pn,xe,Ue+pn),pn=an}Ae+=Xe,Ue+=Xe,++Le&pt||(rt+=lt)}Fe!=he.nc&&i(le,se-ke,le,se+(Fe-we-1)*ke,ke);break;case 1:for(ke=Me,be=Ae,Xe=(Me=he.Ea)-(Ue=Me&~(xe=(Ae=1<<he.b)-1)),Le=ot(Me,he.b),Ke=he.K,he=he.w+(we>>he.b)*Le;we<Fe;){for(pt=Ke,lt=he,kt=new nt,rt=be+Ue,gn=be+Me;be<rt;)wt(pt[lt++],kt),gl(kt,ke,be,Ae,le,se),be+=Ae,se+=Ae;be<gn&&(wt(pt[lt++],kt),gl(kt,ke,be,Xe,le,se),be+=Xe,se+=Xe),++we&xe||(he+=Le)}break;case 3:if(Me==le&&Ae==se&&0<he.b){for(be=le,Me=ke=se+(Fe-we)*ke-(Ue=(Fe-we)*ot(he.Ea,he.b)),Ae=le,xe=se,Le=[],Ue=(Xe=Ue)-1;0<=Ue;--Ue)Le[Ue]=Ae[xe+Ue];for(Ue=Xe-1;0<=Ue;--Ue)be[Me+Ue]=Le[Ue];Vs(he,we,Fe,le,ke,le,se)}else Vs(he,we,Fe,Me,Ae,le,se)}se=G,le=L}le!=L&&i(G,L,se,le,ne)}function ur(b,R){var L=b.V,G=b.Ba+b.c*b.C,J=R-b.C;if(t(R<=b.l.o),t(16>=J),0<J){var ne=b.l,ie=b.Ta,se=b.Ua,le=ne.width;if(Cn(b,J,L,G),J=se=[se],t((L=b.C)<(G=R)),t(ne.v<ne.va),G>ne.o&&(G=ne.o),L<ne.j){var he=ne.j-L;L=ne.j,J[0]+=he*le}if(L>=G?L=0:(J[0]+=4*ne.v,ne.ka=L-ne.j,ne.U=ne.va-ne.v,ne.T=G-L,L=1),L){if(se=se[0],11>(L=b.ca).S){var we=L.f.RGBA,Fe=(G=L.S,J=ne.U,ne=ne.T,he=we.eb,we.A),Me=ne;for(we=we.fb+b.Ma*we.A;0<Me--;){var Ae=ie,ke=se,Le=J,be=he,xe=we;switch(G){case xa:Br(Ae,ke,Le,be,xe);break;case Ra:pr(Ae,ke,Le,be,xe);break;case go:pr(Ae,ke,Le,be,xe),pi(be,xe,0,Le,1,0);break;case Dd:ns(Ae,ke,Le,be,xe);break;case au:ln(Ae,ke,Le,be,xe,1);break;case mo:ln(Ae,ke,Le,be,xe,1),pi(be,xe,0,Le,1,0);break;case Hr:ln(Ae,ke,Le,be,xe,0);break;case Vo:ln(Ae,ke,Le,be,xe,0),pi(be,xe,1,Le,1,0);break;case rs:ml(Ae,ke,Le,be,xe);break;case Yh:ml(Ae,ke,Le,be,xe),on(be,xe,Le,1,0);break;case wl:ba(Ae,ke,Le,be,xe);break;default:t(0)}se+=le,we+=Fe}b.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=L.height)}}b.C=R,t(b.C<=b.i)}function Dn(b){var R;if(0<b.ua)return 0;for(R=0;R<b.Wb;++R){var L=b.Ya[R].G,G=b.Ya[R].H;if(0<L[1][G[1]+0].g||0<L[2][G[2]+0].g||0<L[3][G[3]+0].g)return 0}return 1}function Fn(b,R,L,G,J,ne){if(b.Z!=0){var ie=b.qd,se=b.rd;for(t(Us[b.Z]!=null);R<L;++R)Us[b.Z](ie,se,G,J,G,J,ne),ie=G,se=J,J+=ne;b.qd=ie,b.rd=se}}function Mi(b,R){var L=b.l.ma,G=L.Z==0||L.Z==1?b.l.j:b.C;if(G=b.C<G?G:b.C,t(R<=b.l.o),R>G){var J=b.l.width,ne=L.ca,ie=L.tb+J*G,se=b.V,le=b.Ba+b.c*G,he=b.gc;t(b.ab==1),t(he[0].hc==3),pl(he[0],G,R,se,le,ne,ie),Fn(L,G,R,ne,ie,J)}b.C=b.Ma=R}function cr(b,R,L,G,J,ne,ie){var se=b.$/G,le=b.$%G,he=b.m,we=b.s,Fe=L+b.$,Me=Fe;J=L+G*J;var Ae=L+G*ne,ke=280+we.ua,Le=b.Pb?se:16777216,be=0<we.ua?we.Wa:null,xe=we.wc,Ue=Fe<Ae?In(we,le,se):null;t(b.C<ne),t(Ae<=J);var Xe=!1;e:for(;;){for(;Xe||Fe<Ae;){var Ke=0;if(se>=Le){var pt=Fe-L;t((Le=b).Pb),Le.wd=Le.m,Le.xd=pt,0<Le.s.ua&&De(Le.s.Wa,Le.s.vb),Le=se+Wp}if(le&xe||(Ue=In(we,le,se)),t(Ue!=null),Ue.Qb&&(R[Fe]=Ue.qb,Xe=!0),!Xe)if(ce(he),Ue.jc){Ke=he,pt=R;var lt=Fe,kt=Ue.pd[X(Ke)&Wi-1];t(Ue.jc),256>kt.g?(re(Ke,Ke.u+kt.g),pt[lt]=kt.value,Ke=0):(re(Ke,Ke.u+kt.g-256),t(256<=kt.value),Ke=kt.value),Ke==0&&(Xe=!0)}else Ke=Ui(Ue.G[0],Ue.H[0],he);if(he.h)break;if(Xe||256>Ke){if(!Xe)if(Ue.nd)R[Fe]=(Ue.qb|Ke<<8)>>>0;else{if(ce(he),Xe=Ui(Ue.G[1],Ue.H[1],he),ce(he),pt=Ui(Ue.G[2],Ue.H[2],he),lt=Ui(Ue.G[3],Ue.H[3],he),he.h)break;R[Fe]=(lt<<24|Xe<<16|Ke<<8|pt)>>>0}if(Xe=!1,++Fe,++le>=G&&(le=0,++se,ie!=null&&se<=ne&&!(se%16)&&ie(b,se),be!=null))for(;Me<Fe;)Ke=R[Me++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke}else if(280>Ke){if(Ke=Mr(Ke-256,he),pt=Ui(Ue.G[4],Ue.H[4],he),ce(he),pt=Nr(G,pt=Mr(pt,he)),he.h)break;if(Fe-L<pt||J-Fe<Ke)break e;for(lt=0;lt<Ke;++lt)R[Fe+lt]=R[Fe+lt-pt];for(Fe+=Ke,le+=Ke;le>=G;)le-=G,++se,ie!=null&&se<=ne&&!(se%16)&&ie(b,se);if(t(Fe<=J),le&xe&&(Ue=In(we,le,se)),be!=null)for(;Me<Fe;)Ke=R[Me++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke}else{if(!(Ke<ke))break e;for(Xe=Ke-280,t(be!=null);Me<Fe;)Ke=R[Me++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke;Ke=Fe,t(!(Xe>>>(pt=be).Xa)),R[Ke]=pt.X[Xe],Xe=!0}Xe||t(he.h==Z(he))}if(b.Pb&&he.h&&Fe<J)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&De(b.s.vb,b.s.Wa);else{if(he.h)break e;ie!=null&&ie(b,se>ne?ne:se),b.a=0,b.$=Fe-L}return 1}return b.a=3,0}function _n(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var R=b.Wa;R!=null&&(R.X=null),b.vb=null,t(b!=null)}function br(){var b=new Vp;return b==null?null:(b.a=0,b.xb=lu,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),Kh=zt,gl=vt,Br=ft,pr=yi,ml=Zt,ba=An,ns=hn,k.VP8LMapColor32b=sr,k.VP8LMapColor8b=Ed,b)}function Or(b,R,L,G,J){var ne=1,ie=[b],se=[R],le=G.m,he=G.s,we=null,Fe=0;e:for(;;){if(L)for(;ne&&U(le,1);){var Me=ie,Ae=se,ke=G,Le=1,be=ke.m,xe=ke.gc[ke.ab],Ue=U(be,2);if(ke.Oc&1<<Ue)ne=0;else{switch(ke.Oc|=1<<Ue,xe.hc=Ue,xe.Ea=Me[0],xe.nc=Ae[0],xe.K=[null],++ke.ab,t(4>=ke.ab),Ue){case 0:case 1:xe.b=U(be,3)+2,Le=Or(ot(xe.Ea,xe.b),ot(xe.nc,xe.b),0,ke,xe.K),xe.K=xe.K[0];break;case 3:var Xe,Ke=U(be,8)+1,pt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(Me[0]=ot(xe.Ea,pt),xe.b=pt,Xe=Le=Or(Ke,1,0,ke,xe.K)){var lt,kt=Ke,rt=xe,gn=1<<(8>>rt.b),Sn=s(gn);if(Sn==null)Xe=0;else{var pn=rt.K[0],an=rt.w;for(Sn[0]=rt.K[0][0],lt=1;lt<1*kt;++lt)Sn[lt]=Ye(pn[an+lt],Sn[lt-1]);for(;lt<4*gn;++lt)Sn[lt]=0;rt.K[0]=null,rt.K[0]=Sn,Xe=1}}Le=Xe;break;case 2:break;default:t(0)}ne=Le}}if(ie=ie[0],se=se[0],ne&&U(le,1)&&!(ne=1<=(Fe=U(le,4))&&11>=Fe)){G.a=3;break e}var Hn;if(Hn=ne)t:{var xn,$t,mi,jn=G,nn=ie,vr=se,mn=Fe,Tr=L,Gr=jn.m,zn=jn.s,Ii=[null],yr=1,ss=0,Co=zo[mn];n:for(;;){if(Tr&&U(Gr,1)){var Yi=U(Gr,3)+2,qo=ot(nn,Yi),Al=ot(vr,Yi),du=qo*Al;if(!Or(qo,Al,0,jn,Ii))break n;for(Ii=Ii[0],zn.xc=Yi,xn=0;xn<du;++xn){var Ta=Ii[xn]>>8&65535;Ii[xn]=Ta,Ta>=yr&&(yr=Ta+1)}}if(Gr.h)break n;for($t=0;5>$t;++$t){var Zn=Er[$t];!$t&&0<mn&&(Zn+=1<<mn),ss<Zn&&(ss=Zn)}var tf=o(yr*Co,O),_v=yr,Xp=o(_v,q);if(Xp==null)var Id=null;else t(65536>=_v),Id=Xp;var Cc=s(ss);if(Id==null||Cc==null||tf==null){jn.a=1;break n}var wc=tf;for(xn=mi=0;xn<yr;++xn){var $s=Id[xn],hu=$s.G,fu=$s.H,Zp=0,_d=1,Bv=0;for($t=0;5>$t;++$t){Zn=Er[$t],hu[$t]=wc,fu[$t]=mi,!$t&&0<mn&&(Zn+=1<<mn);r:{var Bd,El=Zn,Hd=jn,Tl=Cc,nf=wc,Hv=mi,jd=0,Pa=Hd.m,jv=U(Pa,1);if(r(Tl,0,0,El),jv){var Gv=U(Pa,1)+1,Vv=U(Pa,1),rf=U(Pa,Vv==0?1:8);Tl[rf]=1,Gv==2&&(Tl[rf=U(Pa,8)]=1);var Gd=1}else{var Jp=s(19),sf=U(Pa,4)+4;if(19<sf){Hd.a=3;var Vd=0;break r}for(Bd=0;Bd<sf;++Bd)Jp[yn[Bd]]=U(Pa,3);var of=void 0,zd=void 0,af=Hd,zv=Jp,qd=El,lf=Tl,uf=0,Da=af.m,qv=8,Uv=o(128,O);i:for(;T(Uv,0,7,zv,19);){if(U(Da,1)){var Wv=2+2*U(Da,3);if((of=2+U(Da,Wv))>qd)break i}else of=qd;for(zd=0;zd<qd&&of--;){ce(Da);var Sc=Uv[0+(127&X(Da))];re(Da,Da.u+Sc.g);var Pl=Sc.value;if(16>Pl)lf[zd++]=Pl,Pl!=0&&(qv=Pl);else{var cf=Pl==16,eg=Pl-16,$v=Up[eg],wo=U(Da,qp[eg])+$v;if(zd+wo>qd)break i;for(var pu=cf?qv:0;0<wo--;)lf[zd++]=pu}}uf=1;break i}uf||(af.a=3),Gd=uf}(Gd=Gd&&!Pa.h)&&(jd=T(nf,Hv,8,Tl,El)),Gd&&jd!=0?Vd=jd:(Hd.a=3,Vd=0)}if(Vd==0)break n;if(_d&&mr[$t]==1&&(_d=wc[mi].g==0),Zp+=wc[mi].g,mi+=Vd,3>=$t){var Ks,Fa=Cc[0];for(Ks=1;Ks<Zn;++Ks)Cc[Ks]>Fa&&(Fa=Cc[Ks]);Bv+=Fa}}if($s.nd=_d,$s.Qb=0,_d&&($s.qb=(hu[3][fu[3]+0].value<<24|hu[1][fu[1]+0].value<<16|hu[2][fu[2]+0].value)>>>0,Zp==0&&256>hu[0][fu[0]+0].value&&($s.Qb=1,$s.qb+=hu[0][fu[0]+0].value<<8)),$s.jc=!$s.Qb&&6>Bv,$s.jc){var xc,So=$s;for(xc=0;xc<Wi;++xc){var La=xc,Ma=So.pd[La],Uo=So.G[0][So.H[0]+La];256<=Uo.value?(Ma.g=Uo.g+256,Ma.value=Uo.value):(Ma.g=0,Ma.value=0,La>>=Un(Uo,8,Ma),La>>=Un(So.G[1][So.H[1]+La],16,Ma),La>>=Un(So.G[2][So.H[2]+La],0,Ma),Un(So.G[3][So.H[3]+La],24,Ma))}}}zn.vc=Ii,zn.Wb=yr,zn.Ya=Id,zn.yc=tf,Hn=1;break t}Hn=0}if(!(ne=Hn)){G.a=3;break e}if(0<Fe){if(he.ua=1<<Fe,!it(he.Wa,Fe)){G.a=1,ne=0;break e}}else he.ua=0;var Rc=G,tg=ie,Kv=se,df=Rc.s,Ac=df.xc;if(Rc.c=tg,Rc.i=Kv,df.md=ot(tg,Ac),df.wc=Ac==0?-1:(1<<Ac)-1,L){G.xb=Ov;break e}if((we=s(ie*se))==null){G.a=1,ne=0;break e}ne=(ne=cr(G,we,0,ie,se,se,null))&&!le.h;break e}return ne?(J!=null?J[0]=we:(t(we==null),t(L)),G.$=0,L||_n(he)):_n(he),ne}function kr(b,R){var L=b.c*b.i,G=L+R+16*R;return t(b.c<=R),b.V=s(G),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+L+R,1)}function Bs(b,R){var L=b.C,G=R-L,J=b.V,ne=b.Ba+b.c*L;for(t(R<=b.l.o);0<G;){var ie=16<G?16:G,se=b.l.ma,le=b.l.width,he=le*ie,we=se.ca,Fe=se.tb+le*L,Me=b.Ta,Ae=b.Ua;Cn(b,ie,J,ne),oi(Me,Ae,we,Fe,he),Fn(se,L,L+ie,we,Fe,le),G-=ie,J+=ie*b.c,L+=ie}t(L==R),b.C=b.Ma=R}function Cr(){this.ub=this.yd=this.td=this.Rb=0}function Vn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ws(){this.Yb=function(){var b=[];return function R(L,G,J){for(var ne=J[G],ie=0;ie<ne&&(L.push(J.length>G+1?[]:0),!(J.length<G+1));ie++)R(L[ie],G+1,J)}(b,0,[3,11]),b}()}function Qn(){this.jb=s(3),this.Wc=a([4,8],ws),this.Xc=a([4,17],ws)}function ll(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function to(){this.ld=this.La=this.dd=this.tc=0}function dr(){this.Na=this.la=0}function Ss(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ni(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xr(){this.uc=this.M=this.Nb=0,this.wa=Array(new to),this.Y=0,this.ya=Array(new Ni),this.aa=0,this.l=new No}function no(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ul(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new Cr,this.Kc=new Vn,this.ed=new ll,this.Qa=new Qr,this.Ic=this.$c=this.Aa=0,this.D=new Xr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,de),this.ia=0,this.pb=o(4,Ss),this.Pa=new Qn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new no),this.Hd=0,this.rb=Array(new dr),this.sb=0,this.wa=Array(new to),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ni),this.L=this.aa=0,this.gd=a([4,2],to),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function No(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oo(){var b=new ul;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,vc||(vc=io)),b}function Ln(b,R,L){return b.a==0&&(b.a=R,b.sc=L,b.cb=0),0}function wr(b,R,L){return 3<=L&&b[R+0]==157&&b[R+1]==1&&b[R+2]==42}function fi(b,R){if(b==null)return 0;if(b.a=0,b.sc="OK",R==null)return Ln(b,2,"null VP8Io passed to VP8GetHeaders()");var L=R.data,G=R.w,J=R.ha;if(4>J)return Ln(b,7,"Truncated header.");var ne=L[G+0]|L[G+1]<<8|L[G+2]<<16,ie=b.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return Ln(b,3,"Incorrect keyframe parameters.");if(!ie.yd)return Ln(b,4,"Frame not displayable.");G+=3,J-=3;var se=b.Kc;if(ie.Rb){if(7>J)return Ln(b,7,"cannot parse picture header");if(!wr(L,G,J))return Ln(b,3,"Bad code word");se.c=16383&(L[G+4]<<8|L[G+3]),se.Td=L[G+4]>>6,se.i=16383&(L[G+6]<<8|L[G+5]),se.Ud=L[G+6]>>6,G+=7,J-=7,b.za=se.c+15>>4,b.Ub=se.i+15>>4,R.width=se.c,R.height=se.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,r((ne=b.Pa).jb,0,255,ne.jb.length),t((ne=b.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,r(ne.Zb,0,0,ne.Zb.length),r(ne.Lb,0,0,ne.Lb)}if(ie.ub>J)return Ln(b,7,"bad partition length");ee(ne=b.m,L,G,ie.ub),G+=ie.ub,J-=ie.ub,ie.Rb&&(se.Ld=me(ne),se.Kd=me(ne)),se=b.Qa;var le,he=b.Pa;if(t(ne!=null),t(se!=null),se.Cb=me(ne),se.Cb){if(se.Bb=me(ne),me(ne)){for(se.Fb=me(ne),le=0;4>le;++le)se.Zb[le]=me(ne)?W(ne,7):0;for(le=0;4>le;++le)se.Lb[le]=me(ne)?W(ne,6):0}if(se.Bb)for(le=0;3>le;++le)he.jb[le]=me(ne)?$(ne,8):255}else se.Bb=0;if(ne.Ka)return Ln(b,3,"cannot parse segment header");if((se=b.ed).zd=me(ne),se.Tb=$(ne,6),se.wb=$(ne,3),se.Pc=me(ne),se.Pc&&me(ne)){for(he=0;4>he;++he)me(ne)&&(se.vd[he]=W(ne,6));for(he=0;4>he;++he)me(ne)&&(se.od[he]=W(ne,6))}if(b.L=se.Tb==0?0:se.zd?1:2,ne.Ka)return Ln(b,3,"cannot parse filter header");var we=J;if(J=le=G,G=le+we,se=we,b.Xb=(1<<$(b.m,2))-1,we<3*(he=b.Xb))L=7;else{for(le+=3*he,se-=3*he,we=0;we<he;++we){var Fe=L[J+0]|L[J+1]<<8|L[J+2]<<16;Fe>se&&(Fe=se),ee(b.Jc[+we],L,le,Fe),le+=Fe,se-=Fe,J+=3}ee(b.Jc[+he],L,le,se),L=le<G?0:5}if(L!=0)return Ln(b,L,"cannot parse partitions");for(L=$(le=b.m,7),J=me(le)?W(le,4):0,G=me(le)?W(le,4):0,se=me(le)?W(le,4):0,he=me(le)?W(le,4):0,le=me(le)?W(le,4):0,we=b.Qa,Fe=0;4>Fe;++Fe){if(we.Cb){var Me=we.Zb[Fe];we.Fb||(Me+=L)}else{if(0<Fe){b.pb[Fe]=b.pb[0];continue}Me=L}var Ae=b.pb[Fe];Ae.Sc[0]=Aa[Ps(Me+J,127)],Ae.Sc[1]=Qh[Ps(Me+0,127)],Ae.Eb[0]=2*Aa[Ps(Me+G,127)],Ae.Eb[1]=101581*Qh[Ps(Me+se,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=Aa[Ps(Me+he,117)],Ae.Qc[1]=Qh[Ps(Me+le,127)],Ae.lc=Me+le}if(!ie.Rb)return Ln(b,4,"Not a key frame.");for(me(ne),ie=b.Pa,L=0;4>L;++L){for(J=0;8>J;++J)for(G=0;3>G;++G)for(se=0;11>se;++se)he=Se(ne,$p[L][J][G][se])?$(ne,8):Md[L][J][G][se],ie.Wc[L][J].Yb[G][se]=he;for(J=0;17>J;++J)ie.Xc[L][J]=ie.Wc[L][Nv[J]]}return b.kc=me(ne),b.kc&&(b.Bd=$(ne,8)),b.cb=1}function io(b,R,L,G,J,ne,ie){var se=R[J].Yb[L];for(L=0;16>J;++J){if(!Se(b,se[L+0]))return J;for(;!Se(b,se[L+1]);)if(se=R[++J].Yb[0],L=0,J==16)return 16;var le=R[J+1].Yb;if(Se(b,se[L+2])){var he=b,we=0;if(Se(he,(Me=se)[(Fe=L)+3]))if(Se(he,Me[Fe+6])){for(se=0,Fe=2*(we=Se(he,Me[Fe+8]))+(Me=Se(he,Me[Fe+9+we])),we=0,Me=Fd[Fe];Me[se];++se)we+=we+Se(he,Me[se]);we+=3+(8<<Fe)}else Se(he,Me[Fe+7])?(we=7+2*Se(he,165),we+=Se(he,145)):we=5+Se(he,159);else we=Se(he,Me[Fe+4])?3+Se(he,Me[Fe+5]):2;se=le[2]}else we=1,se=le[1];le=ie+Ld[J],0>(he=b).b&&ye(he);var Fe,Me=he.b,Ae=(Fe=he.Ca>>1)-(he.I>>Me)>>31;--he.b,he.Ca+=Ae,he.Ca|=1,he.I-=(Fe+1&Ae)<<Me,ne[le]=((we^Ae)-Ae)*G[(0<J)+0]}return 16}function xs(b){var R=b.rb[b.sb-1];R.la=0,R.Na=0,r(b.zc,0,0,b.zc.length),b.ja=0}function ro(b,R){if(b==null)return 0;if(R==null)return Ln(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!fi(b,R))return 0;if(t(b.cb),R.ac==null||R.ac(R)){R.ob&&(b.L=0);var L=Jh[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=R.v-L>>4,b.zb=R.j-L>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=R.o+15+L>>4,b.Hb=R.va+15+L>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var G=b.ed;for(L=0;4>L;++L){var J;if(b.Qa.Cb){var ne=b.Qa.Lb[L];b.Qa.Fb||(ne+=G.Tb)}else ne=G.Tb;for(J=0;1>=J;++J){var ie=b.gd[L][J],se=ne;if(G.Pc&&(se+=G.vd[0],J&&(se+=G.od[0])),0<(se=0>se?0:63<se?63:se)){var le=se;0<G.wb&&(le=4<G.wb?le>>2:le>>1)>9-G.wb&&(le=9-G.wb),1>le&&(le=1),ie.dd=le,ie.tc=2*se+le,ie.ld=40<=se?2:15<=se?1:0}else ie.tc=0;ie.La=J}}}L=0}else Ln(b,6,"Frame setup failed"),L=b.a;if(L=L==0){if(L){b.$c=0,0<b.Aa||(b.Ic=Ki);e:{L=b.Ic,G=4*(le=b.za);var he=32*le,we=le+1,Fe=0<b.L?le*(0<b.Aa?2:1):0,Me=(b.Aa==2?2:1)*le;if((ie=G+832+(J=3*(16*L+Jh[b.L])/2*he)+(ne=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ie)L=0;else{if(ie>b.Vb){if(b.Vb=0,b.Ec=s(ie),b.Fc=0,b.Ec==null){L=Ln(b,1,"no memory during frame initialization.");break e}b.Vb=ie}ie=b.Ec,se=b.Fc,b.Ac=ie,b.Bc=se,se+=G,b.Gd=o(he,no),b.Hd=0,b.rb=o(we+1,dr),b.sb=1,b.wa=Fe?o(Fe,to):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=le),t(!0),b.oc=ie,b.pc=se,se+=832,b.ya=o(Me,Ni),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=le),b.R=16*le,b.B=8*le,le=(he=Jh[b.L])*b.R,he=he/2*b.B,b.sa=ie,b.ta=se+le,b.qa=b.sa,b.ra=b.ta+16*L*b.R+he,b.Ha=b.qa,b.Ia=b.ra+8*L*b.B+he,b.$c=0,se+=J,b.mb=ne?ie:null,b.nb=ne?se:null,t(se+ne<=b.Fc+b.Vb),xs(b),r(b.Ac,b.Bc,0,G),L=1}}if(L){if(R.ka=0,R.y=b.sa,R.O=b.ta,R.f=b.qa,R.N=b.ra,R.ea=b.Ha,R.Vd=b.Ia,R.fa=b.R,R.Rc=b.B,R.F=null,R.J=0,!Pd){for(L=-255;255>=L;++L)gi[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)zs[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)ou[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)Ls[255+L]=0>L?0:255<L?255:L;Pd=1}vl=Sr,Ds=Io,fc=_o,Si=Hs,gr=As,si=ko,yl=Wn,Td=Ar,po=sc,bl=Go,Cl=Ts,Ca=es,ru=co,pc=$h,su=Pn,wa=Wt,gc=Bn,Fs=ir,qs[0]=nr,qs[1]=Es,qs[2]=oo,qs[3]=ao,qs[4]=js,qs[5]=xr,qs[6]=lo,qs[7]=fr,qs[8]=uo,qs[9]=Rr,yo[0]=so,yo[1]=Ir,yo[2]=_r,yo[3]=Bo,yo[4]=ii,yo[5]=bi,yo[6]=Zr,Ms[0]=_,Ms[1]=cl,Ms[2]=jo,Ms[3]=Gs,Ms[4]=ve,Ms[5]=oe,Ms[6]=He,L=1}else L=0}L&&(L=function(Ae,ke){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Le,be=Ae.Jc[Ae.M&Ae.Xb],xe=Ae.m,Ue=Ae;for(Le=0;Le<Ue.za;++Le){var Xe=xe,Ke=Ue,pt=Ke.Ac,lt=Ke.Bc+4*Le,kt=Ke.zc,rt=Ke.ya[Ke.aa+Le];if(Ke.Qa.Bb?rt.$b=Se(Xe,Ke.Pa.jb[0])?2+Se(Xe,Ke.Pa.jb[2]):Se(Xe,Ke.Pa.jb[1]):rt.$b=0,Ke.kc&&(rt.Ad=Se(Xe,Ke.Bd)),rt.Za=!Se(Xe,145)+0,rt.Za){var gn=rt.Ob,Sn=0;for(Ke=0;4>Ke;++Ke){var pn,an=kt[0+Ke];for(pn=0;4>pn;++pn){an=Mv[pt[lt+pn]][an];for(var Hn=yc[Se(Xe,an[0])];0<Hn;)Hn=yc[2*Hn+Se(Xe,an[Hn])];an=-Hn,pt[lt+pn]=an}i(gn,Sn,pt,lt,4),Sn+=4,kt[0+Ke]=an}}else an=Se(Xe,156)?Se(Xe,128)?1:3:Se(Xe,163)?2:0,rt.Ob[0]=an,r(pt,lt,an,4),r(kt,0,an,4);rt.Dd=Se(Xe,142)?Se(Xe,114)?Se(Xe,183)?1:3:2:0}if(Ue.m.Ka)return Ln(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Ue=be,Xe=(xe=Ae).rb[xe.sb-1],pt=xe.rb[xe.sb+xe.ja],Le=xe.ya[xe.aa+xe.ja],lt=xe.kc?Le.Ad:0)Xe.la=pt.la=0,Le.Za||(Xe.Na=pt.Na=0),Le.Hc=0,Le.Gc=0,Le.ia=0;else{var xn,$t;if(Xe=pt,pt=Ue,lt=xe.Pa.Xc,kt=xe.ya[xe.aa+xe.ja],rt=xe.pb[kt.$b],Ke=kt.ad,gn=0,Sn=xe.rb[xe.sb-1],an=pn=0,r(Ke,gn,0,384),kt.Za)var mi=0,jn=lt[3];else{Hn=s(16);var nn=Xe.Na+Sn.Na;if(nn=vc(pt,lt[1],nn,rt.Eb,0,Hn,0),Xe.Na=Sn.Na=(0<nn)+0,1<nn)vl(Hn,0,Ke,gn);else{var vr=Hn[0]+3>>3;for(Hn=0;256>Hn;Hn+=16)Ke[gn+Hn]=vr}mi=1,jn=lt[0]}var mn=15&Xe.la,Tr=15&Sn.la;for(Hn=0;4>Hn;++Hn){var Gr=1&Tr;for(vr=$t=0;4>vr;++vr)mn=mn>>1|(Gr=(nn=vc(pt,jn,nn=Gr+(1&mn),rt.Sc,mi,Ke,gn))>mi)<<7,$t=$t<<2|(3<nn?3:1<nn?2:Ke[gn+0]!=0),gn+=16;mn>>=4,Tr=Tr>>1|Gr<<7,pn=(pn<<8|$t)>>>0}for(jn=mn,mi=Tr>>4,xn=0;4>xn;xn+=2){for($t=0,mn=Xe.la>>4+xn,Tr=Sn.la>>4+xn,Hn=0;2>Hn;++Hn){for(Gr=1&Tr,vr=0;2>vr;++vr)nn=Gr+(1&mn),mn=mn>>1|(Gr=0<(nn=vc(pt,lt[2],nn,rt.Qc,0,Ke,gn)))<<3,$t=$t<<2|(3<nn?3:1<nn?2:Ke[gn+0]!=0),gn+=16;mn>>=2,Tr=Tr>>1|Gr<<5}an|=$t<<4*xn,jn|=mn<<4<<xn,mi|=(240&Tr)<<xn}Xe.la=jn,Sn.la=mi,kt.Hc=pn,kt.Gc=an,kt.ia=43690&an?0:rt.ia,lt=!(pn|an)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Le.$b][Le.Za],xe.wa[xe.Y+xe.ja].La|=!lt),Ue.Ka)return Ln(Ae,7,"Premature end-of-file encountered.")}if(xs(Ae),xe=ke,Ue=1,Le=(be=Ae).D,Xe=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Le.M=be.M,Le.uc=Xe,va(be,Le),Ue=1,Le=($t=be.D).Nb,Xe=(an=Jh[be.L])*be.R,pt=an/2*be.B,Hn=16*Le*be.R,vr=8*Le*be.B,lt=be.sa,kt=be.ta-Xe+Hn,rt=be.qa,Ke=be.ra-pt+vr,gn=be.Ha,Sn=be.Ia-pt+vr,Tr=(mn=$t.M)==0,pn=mn>=be.Va-1,be.Aa==2&&va(be,$t),$t.uc)for(Gr=(nn=be).D.M,t(nn.D.uc),$t=nn.yb;$t<nn.Hb;++$t){mi=$t,jn=Gr;var zn=(Ii=(Zn=nn).D).Nb;xn=Zn.R;var Ii=Ii.wa[Ii.Y+mi],yr=Zn.sa,ss=Zn.ta+16*zn*xn+16*mi,Co=Ii.dd,Yi=Ii.tc;if(Yi!=0)if(t(3<=Yi),Zn.L==1)0<mi&&wa(yr,ss,xn,Yi+4),Ii.La&&Fs(yr,ss,xn,Yi),0<jn&&su(yr,ss,xn,Yi+4),Ii.La&&gc(yr,ss,xn,Yi);else{var qo=Zn.B,Al=Zn.qa,du=Zn.ra+8*zn*qo+8*mi,Ta=Zn.Ha,Zn=Zn.Ia+8*zn*qo+8*mi;zn=Ii.ld,0<mi&&(Td(yr,ss,xn,Yi+4,Co,zn),bl(Al,du,Ta,Zn,qo,Yi+4,Co,zn)),Ii.La&&(Ca(yr,ss,xn,Yi,Co,zn),pc(Al,du,Ta,Zn,qo,Yi,Co,zn)),0<jn&&(yl(yr,ss,xn,Yi+4,Co,zn),po(Al,du,Ta,Zn,qo,Yi+4,Co,zn)),Ii.La&&(Cl(yr,ss,xn,Yi,Co,zn),ru(Al,du,Ta,Zn,qo,Yi,Co,zn))}}if(be.ia&&alert("todo:DitherRow"),xe.put!=null){if($t=16*mn,mn=16*(mn+1),Tr?(xe.y=be.sa,xe.O=be.ta+Hn,xe.f=be.qa,xe.N=be.ra+vr,xe.ea=be.Ha,xe.W=be.Ia+vr):($t-=an,xe.y=lt,xe.O=kt,xe.f=rt,xe.N=Ke,xe.ea=gn,xe.W=Sn),pn||(mn-=an),mn>xe.o&&(mn=xe.o),xe.F=null,xe.J=null,be.Fa!=null&&0<be.Fa.length&&$t<mn&&(xe.J=xd(be,xe,$t,mn-$t),xe.F=be.mb,xe.F==null&&xe.F.length==0)){Ue=Ln(be,3,"Could not decode alpha data.");break e}$t<xe.j&&(an=xe.j-$t,$t=xe.j,t(!(1&an)),xe.O+=be.R*an,xe.N+=be.B*(an>>1),xe.W+=be.B*(an>>1),xe.F!=null&&(xe.J+=xe.width*an)),$t<mn&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=$t-xe.j,xe.U=xe.va-xe.v,xe.T=mn-$t,Ue=xe.put(xe))}Le+1!=be.Ic||pn||(i(be.sa,be.ta-Xe,lt,kt+16*be.R,Xe),i(be.qa,be.ra-pt,rt,Ke+8*be.B,pt),i(be.Ha,be.Ia-pt,gn,Sn+8*be.B,pt))}if(!Ue)return Ln(Ae,6,"Output aborted.")}return 1}(b,R)),R.bc!=null&&R.bc(R),L&=1}return L?(b.cb=0,L):0}function hr(b,R,L,G,J){J=b[R+L+32*G]+(J>>3),b[R+L+32*G]=-256&J?0>J?0:255:J}function Rs(b,R,L,G,J,ne){hr(b,R,0,L,G+J),hr(b,R,1,L,G+ne),hr(b,R,2,L,G-ne),hr(b,R,3,L,G-J)}function tr(b){return(20091*b>>16)+b}function Oi(b,R,L,G){var J,ne=0,ie=s(16);for(J=0;4>J;++J){var se=b[R+0]+b[R+8],le=b[R+0]-b[R+8],he=(35468*b[R+4]>>16)-tr(b[R+12]),we=tr(b[R+4])+(35468*b[R+12]>>16);ie[ne+0]=se+we,ie[ne+1]=le+he,ie[ne+2]=le-he,ie[ne+3]=se-we,ne+=4,R++}for(J=ne=0;4>J;++J)se=(b=ie[ne+0]+4)+ie[ne+8],le=b-ie[ne+8],he=(35468*ie[ne+4]>>16)-tr(ie[ne+12]),hr(L,G,0,0,se+(we=tr(ie[ne+4])+(35468*ie[ne+12]>>16))),hr(L,G,1,0,le+he),hr(L,G,2,0,le-he),hr(L,G,3,0,se-we),ne++,G+=32}function ko(b,R,L,G){var J=b[R+0]+4,ne=35468*b[R+4]>>16,ie=tr(b[R+4]),se=35468*b[R+1]>>16;Rs(L,G,0,J+ie,b=tr(b[R+1]),se),Rs(L,G,1,J+ne,b,se),Rs(L,G,2,J-ne,b,se),Rs(L,G,3,J-ie,b,se)}function Io(b,R,L,G,J){Oi(b,R,L,G),J&&Oi(b,R+16,L,G+4)}function _o(b,R,L,G){Ds(b,R+0,L,G,1),Ds(b,R+32,L,G+128,1)}function Hs(b,R,L,G){var J;for(b=b[R+0]+4,J=0;4>J;++J)for(R=0;4>R;++R)hr(L,G,R,J,b)}function As(b,R,L,G){b[R+0]&&Si(b,R+0,L,G),b[R+16]&&Si(b,R+16,L,G+4),b[R+32]&&Si(b,R+32,L,G+128),b[R+48]&&Si(b,R+48,L,G+128+4)}function Sr(b,R,L,G){var J,ne=s(16);for(J=0;4>J;++J){var ie=b[R+0+J]+b[R+12+J],se=b[R+4+J]+b[R+8+J],le=b[R+4+J]-b[R+8+J],he=b[R+0+J]-b[R+12+J];ne[0+J]=ie+se,ne[8+J]=ie-se,ne[4+J]=he+le,ne[12+J]=he-le}for(J=0;4>J;++J)ie=(b=ne[0+4*J]+3)+ne[3+4*J],se=ne[1+4*J]+ne[2+4*J],le=ne[1+4*J]-ne[2+4*J],he=b-ne[3+4*J],L[G+0]=ie+se>>3,L[G+16]=he+le>>3,L[G+32]=ie-se>>3,L[G+48]=he-le>>3,G+=64}function ki(b,R,L){var G,J=R-32,ne=is,ie=255-b[J-1];for(G=0;G<L;++G){var se,le=ne,he=ie+b[R-1];for(se=0;se<L;++se)b[R+se]=le[he+b[J+se]];R+=32}}function Es(b,R){ki(b,R,4)}function cl(b,R){ki(b,R,8)}function Ir(b,R){ki(b,R,16)}function _r(b,R){var L;for(L=0;16>L;++L)i(b,R+32*L,b,R-32,16)}function Bo(b,R){var L;for(L=16;0<L;--L)r(b,R,b[R-1],16),R+=32}function Ho(b,R,L){var G;for(G=0;16>G;++G)r(R,L+32*G,b,16)}function so(b,R){var L,G=16;for(L=0;16>L;++L)G+=b[R-1+32*L]+b[R+L-32];Ho(G>>5,b,R)}function ii(b,R){var L,G=8;for(L=0;16>L;++L)G+=b[R-1+32*L];Ho(G>>4,b,R)}function bi(b,R){var L,G=8;for(L=0;16>L;++L)G+=b[R+L-32];Ho(G>>4,b,R)}function Zr(b,R){Ho(128,b,R)}function Ft(b,R,L){return b+2*R+L+2>>2}function oo(b,R){var L,G=R-32;for(G=new Uint8Array([Ft(b[G-1],b[G+0],b[G+1]),Ft(b[G+0],b[G+1],b[G+2]),Ft(b[G+1],b[G+2],b[G+3]),Ft(b[G+2],b[G+3],b[G+4])]),L=0;4>L;++L)i(b,R+32*L,G,0,G.length)}function ao(b,R){var L=b[R-1],G=b[R-1+32],J=b[R-1+64],ne=b[R-1+96];Oe(b,R+0,16843009*Ft(b[R-1-32],L,G)),Oe(b,R+32,16843009*Ft(L,G,J)),Oe(b,R+64,16843009*Ft(G,J,ne)),Oe(b,R+96,16843009*Ft(J,ne,ne))}function nr(b,R){var L,G=4;for(L=0;4>L;++L)G+=b[R+L-32]+b[R-1+32*L];for(G>>=3,L=0;4>L;++L)r(b,R+32*L,G,4)}function js(b,R){var L=b[R-1+0],G=b[R-1+32],J=b[R-1+64],ne=b[R-1-32],ie=b[R+0-32],se=b[R+1-32],le=b[R+2-32],he=b[R+3-32];b[R+0+96]=Ft(G,J,b[R-1+96]),b[R+1+96]=b[R+0+64]=Ft(L,G,J),b[R+2+96]=b[R+1+64]=b[R+0+32]=Ft(ne,L,G),b[R+3+96]=b[R+2+64]=b[R+1+32]=b[R+0+0]=Ft(ie,ne,L),b[R+3+64]=b[R+2+32]=b[R+1+0]=Ft(se,ie,ne),b[R+3+32]=b[R+2+0]=Ft(le,se,ie),b[R+3+0]=Ft(he,le,se)}function lo(b,R){var L=b[R+1-32],G=b[R+2-32],J=b[R+3-32],ne=b[R+4-32],ie=b[R+5-32],se=b[R+6-32],le=b[R+7-32];b[R+0+0]=Ft(b[R+0-32],L,G),b[R+1+0]=b[R+0+32]=Ft(L,G,J),b[R+2+0]=b[R+1+32]=b[R+0+64]=Ft(G,J,ne),b[R+3+0]=b[R+2+32]=b[R+1+64]=b[R+0+96]=Ft(J,ne,ie),b[R+3+32]=b[R+2+64]=b[R+1+96]=Ft(ne,ie,se),b[R+3+64]=b[R+2+96]=Ft(ie,se,le),b[R+3+96]=Ft(se,le,le)}function xr(b,R){var L=b[R-1+0],G=b[R-1+32],J=b[R-1+64],ne=b[R-1-32],ie=b[R+0-32],se=b[R+1-32],le=b[R+2-32],he=b[R+3-32];b[R+0+0]=b[R+1+64]=ne+ie+1>>1,b[R+1+0]=b[R+2+64]=ie+se+1>>1,b[R+2+0]=b[R+3+64]=se+le+1>>1,b[R+3+0]=le+he+1>>1,b[R+0+96]=Ft(J,G,L),b[R+0+64]=Ft(G,L,ne),b[R+0+32]=b[R+1+96]=Ft(L,ne,ie),b[R+1+32]=b[R+2+96]=Ft(ne,ie,se),b[R+2+32]=b[R+3+96]=Ft(ie,se,le),b[R+3+32]=Ft(se,le,he)}function fr(b,R){var L=b[R+0-32],G=b[R+1-32],J=b[R+2-32],ne=b[R+3-32],ie=b[R+4-32],se=b[R+5-32],le=b[R+6-32],he=b[R+7-32];b[R+0+0]=L+G+1>>1,b[R+1+0]=b[R+0+64]=G+J+1>>1,b[R+2+0]=b[R+1+64]=J+ne+1>>1,b[R+3+0]=b[R+2+64]=ne+ie+1>>1,b[R+0+32]=Ft(L,G,J),b[R+1+32]=b[R+0+96]=Ft(G,J,ne),b[R+2+32]=b[R+1+96]=Ft(J,ne,ie),b[R+3+32]=b[R+2+96]=Ft(ne,ie,se),b[R+3+64]=Ft(ie,se,le),b[R+3+96]=Ft(se,le,he)}function Rr(b,R){var L=b[R-1+0],G=b[R-1+32],J=b[R-1+64],ne=b[R-1+96];b[R+0+0]=L+G+1>>1,b[R+2+0]=b[R+0+32]=G+J+1>>1,b[R+2+32]=b[R+0+64]=J+ne+1>>1,b[R+1+0]=Ft(L,G,J),b[R+3+0]=b[R+1+32]=Ft(G,J,ne),b[R+3+32]=b[R+1+64]=Ft(J,ne,ne),b[R+3+64]=b[R+2+64]=b[R+0+96]=b[R+1+96]=b[R+2+96]=b[R+3+96]=ne}function uo(b,R){var L=b[R-1+0],G=b[R-1+32],J=b[R-1+64],ne=b[R-1+96],ie=b[R-1-32],se=b[R+0-32],le=b[R+1-32],he=b[R+2-32];b[R+0+0]=b[R+2+32]=L+ie+1>>1,b[R+0+32]=b[R+2+64]=G+L+1>>1,b[R+0+64]=b[R+2+96]=J+G+1>>1,b[R+0+96]=ne+J+1>>1,b[R+3+0]=Ft(se,le,he),b[R+2+0]=Ft(ie,se,le),b[R+1+0]=b[R+3+32]=Ft(L,ie,se),b[R+1+32]=b[R+3+64]=Ft(G,L,ie),b[R+1+64]=b[R+3+96]=Ft(J,G,L),b[R+1+96]=Ft(ne,J,G)}function jo(b,R){var L;for(L=0;8>L;++L)i(b,R+32*L,b,R-32,8)}function Gs(b,R){var L;for(L=0;8>L;++L)r(b,R,b[R-1],8),R+=32}function Jr(b,R,L){var G;for(G=0;8>G;++G)r(R,L+32*G,b,8)}function _(b,R){var L,G=8;for(L=0;8>L;++L)G+=b[R+L-32]+b[R-1+32*L];Jr(G>>4,b,R)}function oe(b,R){var L,G=4;for(L=0;8>L;++L)G+=b[R+L-32];Jr(G>>3,b,R)}function ve(b,R){var L,G=4;for(L=0;8>L;++L)G+=b[R-1+32*L];Jr(G>>3,b,R)}function He(b,R){Jr(128,b,R)}function Mt(b,R,L){var G=b[R-L],J=b[R+0],ne=3*(J-G)+mc[1020+b[R-2*L]-b[R+L]],ie=Sa[112+(ne+4>>3)];b[R-L]=is[255+G+Sa[112+(ne+3>>3)]],b[R+0]=is[255+J-ie]}function Rt(b,R,L,G){var J=b[R+0],ne=b[R+L];return ai[255+b[R-2*L]-b[R-L]]>G||ai[255+ne-J]>G}function tn(b,R,L,G){return 4*ai[255+b[R-L]-b[R+0]]+ai[255+b[R-2*L]-b[R+L]]<=G}function en(b,R,L,G,J){var ne=b[R-3*L],ie=b[R-2*L],se=b[R-L],le=b[R+0],he=b[R+L],we=b[R+2*L],Fe=b[R+3*L];return 4*ai[255+se-le]+ai[255+ie-he]>G?0:ai[255+b[R-4*L]-ne]<=J&&ai[255+ne-ie]<=J&&ai[255+ie-se]<=J&&ai[255+Fe-we]<=J&&ai[255+we-he]<=J&&ai[255+he-le]<=J}function Pn(b,R,L,G){var J=2*G+1;for(G=0;16>G;++G)tn(b,R+G,L,J)&&Mt(b,R+G,L)}function Wt(b,R,L,G){var J=2*G+1;for(G=0;16>G;++G)tn(b,R+G*L,1,J)&&Mt(b,R+G*L,1)}function Bn(b,R,L,G){var J;for(J=3;0<J;--J)Pn(b,R+=4*L,L,G)}function ir(b,R,L,G){var J;for(J=3;0<J;--J)Wt(b,R+=4,L,G)}function Mn(b,R,L,G,J,ne,ie,se){for(ne=2*ne+1;0<J--;){if(en(b,R,L,ne,ie))if(Rt(b,R,L,se))Mt(b,R,L);else{var le=b,he=R,we=L,Fe=le[he-2*we],Me=le[he-we],Ae=le[he+0],ke=le[he+we],Le=le[he+2*we],be=27*(Ue=mc[1020+3*(Ae-Me)+mc[1020+Fe-ke]])+63>>7,xe=18*Ue+63>>7,Ue=9*Ue+63>>7;le[he-3*we]=is[255+le[he-3*we]+Ue],le[he-2*we]=is[255+Fe+xe],le[he-we]=is[255+Me+be],le[he+0]=is[255+Ae-be],le[he+we]=is[255+ke-xe],le[he+2*we]=is[255+Le-Ue]}R+=G}}function Nn(b,R,L,G,J,ne,ie,se){for(ne=2*ne+1;0<J--;){if(en(b,R,L,ne,ie))if(Rt(b,R,L,se))Mt(b,R,L);else{var le=b,he=R,we=L,Fe=le[he-we],Me=le[he+0],Ae=le[he+we],ke=Sa[112+((Le=3*(Me-Fe))+4>>3)],Le=Sa[112+(Le+3>>3)],be=ke+1>>1;le[he-2*we]=is[255+le[he-2*we]+be],le[he-we]=is[255+Fe+Le],le[he+0]=is[255+Me-ke],le[he+we]=is[255+Ae-be]}R+=G}}function Wn(b,R,L,G,J,ne){Mn(b,R,L,1,16,G,J,ne)}function Ar(b,R,L,G,J,ne){Mn(b,R,1,L,16,G,J,ne)}function Ts(b,R,L,G,J,ne){var ie;for(ie=3;0<ie;--ie)Nn(b,R+=4*L,L,1,16,G,J,ne)}function es(b,R,L,G,J,ne){var ie;for(ie=3;0<ie;--ie)Nn(b,R+=4,1,L,16,G,J,ne)}function sc(b,R,L,G,J,ne,ie,se){Mn(b,R,J,1,8,ne,ie,se),Mn(L,G,J,1,8,ne,ie,se)}function Go(b,R,L,G,J,ne,ie,se){Mn(b,R,1,J,8,ne,ie,se),Mn(L,G,1,J,8,ne,ie,se)}function co(b,R,L,G,J,ne,ie,se){Nn(b,R+4*J,J,1,8,ne,ie,se),Nn(L,G+4*J,J,1,8,ne,ie,se)}function $h(b,R,L,G,J,ne,ie,se){Nn(b,R+4,1,J,8,ne,ie,se),Nn(L,G+4,1,J,8,ne,ie,se)}function oc(){this.ba=new Di,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ac(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new O}function Vp(){this.xb=this.a=0,this.l=new No,this.ca=new Di,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ac,this.ab=0,this.gc=o(4,Sd),this.Oc=0}function lc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new No,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function eu(b,R,L,G,J,ne,ie){for(b=b==null?0:b[R+0],R=0;R<ie;++R)J[ne+R]=b+L[G+R]&255,b=J[ne+R]}function uc(b,R,L,G,J,ne,ie){var se;if(b==null)eu(null,null,L,G,J,ne,ie);else for(se=0;se<ie;++se)J[ne+se]=b[R+se]+L[G+se]&255}function dl(b,R,L,G,J,ne,ie){if(b==null)eu(null,null,L,G,J,ne,ie);else{var se,le=b[R+0],he=le,we=le;for(se=0;se<ie;++se)he=we+(le=b[R+se])-he,we=L[G+se]+(-256&he?0>he?0:255:he)&255,he=le,J[ne+se]=we}}function xd(b,R,L,G){var J=R.width,ne=R.o;if(t(b!=null&&R!=null),0>L||0>=G||L+G>ne)return null;if(!b.Cc){if(b.ga==null){var ie;if(b.ga=new lc,(ie=b.ga==null)||(ie=R.width*R.o,t(b.Gb.length==0),b.Gb=s(ie),b.Uc=0,b.Gb==null?ie=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ie=1),ie=!ie),!ie){ie=b.ga;var se=b.Fa,le=b.P,he=b.qc,we=b.mb,Fe=b.nb,Me=le+1,Ae=he-1,ke=ie.l;if(t(se!=null&&we!=null&&R!=null),Us[0]=null,Us[1]=eu,Us[2]=uc,Us[3]=dl,ie.ca=we,ie.tb=Fe,ie.c=R.width,ie.i=R.height,t(0<ie.c&&0<ie.i),1>=he)R=0;else if(ie.$a=se[le+0]>>0&3,ie.Z=se[le+0]>>2&3,ie.Lc=se[le+0]>>4&3,le=se[le+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||le)R=0;else if(ke.put=Li,ke.ac=Yn,ke.bc=lr,ke.ma=ie,ke.width=R.width,ke.height=R.height,ke.Da=R.Da,ke.v=R.v,ke.va=R.va,ke.j=R.j,ke.o=R.o,ie.$a)e:{t(ie.$a==1),R=br();t:for(;;){if(R==null){R=0;break e}if(t(ie!=null),ie.mc=R,R.c=ie.c,R.i=ie.i,R.l=ie.l,R.l.ma=ie,R.l.width=ie.c,R.l.height=ie.i,R.a=0,Q(R.m,se,Me,Ae),!Or(ie.c,ie.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Dn(R.s)?(ie.ic=1,se=R.c*R.i,R.Ta=null,R.Ua=0,R.V=s(se),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(ie.ic=0,R=kr(R,ie.c)),!R))break t;R=1;break e}ie.mc=null,R=0}else R=Ae>=ie.c*ie.i;ie=!R}if(ie)return null;b.ga.Lc!=1?b.Ga=0:G=ne-L}t(b.ga!=null),t(L+G<=ne);e:{if(R=(se=b.ga).c,ne=se.l.o,se.$a==0){if(Me=b.rc,Ae=b.Vc,ke=b.Fa,le=b.P+1+L*R,he=b.mb,we=b.nb+L*R,t(le<=b.P+b.qc),se.Z!=0)for(t(Us[se.Z]!=null),ie=0;ie<G;++ie)Us[se.Z](Me,Ae,ke,le,he,we,R),Me=he,Ae=we,we+=R,le+=R;else for(ie=0;ie<G;++ie)i(he,we,ke,le,R),Me=he,Ae=we,we+=R,le+=R;b.rc=Me,b.Vc=Ae}else{if(t(se.mc!=null),R=L+G,t((ie=se.mc)!=null),t(R<=ie.i),ie.C>=R)R=1;else if(se.ic||Te(),se.ic){se=ie.V,Me=ie.Ba,Ae=ie.c;var Le=ie.i,be=(ke=1,le=ie.$/Ae,he=ie.$%Ae,we=ie.m,Fe=ie.s,ie.$),xe=Ae*Le,Ue=Ae*R,Xe=Fe.wc,Ke=be<Ue?In(Fe,he,le):null;t(be<=xe),t(R<=Le),t(Dn(Fe));t:for(;;){for(;!we.h&&be<Ue;){if(he&Xe||(Ke=In(Fe,he,le)),t(Ke!=null),ce(we),256>(Le=Ui(Ke.G[0],Ke.H[0],we)))se[Me+be]=Le,++be,++he>=Ae&&(he=0,++le<=R&&!(le%16)&&Mi(ie,le));else{if(!(280>Le)){ke=0;break t}Le=Mr(Le-256,we);var pt,lt=Ui(Ke.G[4],Ke.H[4],we);if(ce(we),!(be>=(lt=Nr(Ae,lt=Mr(lt,we)))&&xe-be>=Le)){ke=0;break t}for(pt=0;pt<Le;++pt)se[Me+be+pt]=se[Me+be+pt-lt];for(be+=Le,he+=Le;he>=Ae;)he-=Ae,++le<=R&&!(le%16)&&Mi(ie,le);be<Ue&&he&Xe&&(Ke=In(Fe,he,le))}t(we.h==Z(we))}Mi(ie,le>R?R:le);break t}!ke||we.h&&be<xe?(ke=0,ie.a=we.h?5:3):ie.$=be,R=ke}else R=cr(ie,ie.V,ie.Ba,ie.c,ie.i,R,Bs);if(!R){G=0;break e}}L+G>=ne&&(b.Cc=1),G=1}if(!G)return null;if(b.Cc&&((G=b.ga)!=null&&(G.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+L*J}function D(b,R,L,G,J,ne){for(;0<J--;){var ie,se=b,le=R+(L?1:0),he=b,we=R+(L?0:3);for(ie=0;ie<G;++ie){var Fe=he[we+4*ie];Fe!=255&&(Fe*=32897,se[le+4*ie+0]=se[le+4*ie+0]*Fe>>23,se[le+4*ie+1]=se[le+4*ie+1]*Fe>>23,se[le+4*ie+2]=se[le+4*ie+2]*Fe>>23)}R+=ne}}function te(b,R,L,G,J){for(;0<G--;){var ne;for(ne=0;ne<L;++ne){var ie=b[R+2*ne+0],se=15&(he=b[R+2*ne+1]),le=4369*se,he=(240&he|he>>4)*le>>16;b[R+2*ne+0]=(240&ie|ie>>4)*le>>16&240|(15&ie|ie<<4)*le>>16>>4&15,b[R+2*ne+1]=240&he|se}R+=J}}function pe(b,R,L,G,J,ne,ie,se){var le,he,we=255;for(he=0;he<J;++he){for(le=0;le<G;++le){var Fe=b[R+le];ne[ie+4*le]=Fe,we&=Fe}R+=L,ie+=se}return we!=255}function Ce(b,R,L,G,J){var ne;for(ne=0;ne<J;++ne)L[G+ne]=b[R+ne]>>8}function Te(){pi=D,on=te,wn=pe,oi=Ce}function Ge(b,R,L){k[b]=function(G,J,ne,ie,se,le,he,we,Fe,Me,Ae,ke,Le,be,xe,Ue,Xe){var Ke,pt=Xe-1>>1,lt=se[le+0]|he[we+0]<<16,kt=Fe[Me+0]|Ae[ke+0]<<16;t(G!=null);var rt=3*lt+kt+131074>>2;for(R(G[J+0],255&rt,rt>>16,Le,be),ne!=null&&(rt=3*kt+lt+131074>>2,R(ne[ie+0],255&rt,rt>>16,xe,Ue)),Ke=1;Ke<=pt;++Ke){var gn=se[le+Ke]|he[we+Ke]<<16,Sn=Fe[Me+Ke]|Ae[ke+Ke]<<16,pn=lt+gn+kt+Sn+524296,an=pn+2*(gn+kt)>>3;rt=an+lt>>1,lt=(pn=pn+2*(lt+Sn)>>3)+gn>>1,R(G[J+2*Ke-1],255&rt,rt>>16,Le,be+(2*Ke-1)*L),R(G[J+2*Ke-0],255&lt,lt>>16,Le,be+(2*Ke-0)*L),ne!=null&&(rt=pn+kt>>1,lt=an+Sn>>1,R(ne[ie+2*Ke-1],255&rt,rt>>16,xe,Ue+(2*Ke-1)*L),R(ne[ie+2*Ke+0],255&lt,lt>>16,xe,Ue+(2*Ke+0)*L)),lt=gn,kt=Sn}1&Xe||(rt=3*lt+kt+131074>>2,R(G[J+Xe-1],255&rt,rt>>16,Le,be+(Xe-1)*L),ne!=null&&(rt=3*kt+lt+131074>>2,R(ne[ie+Xe-1],255&rt,rt>>16,xe,Ue+(Xe-1)*L)))}}function et(){jr[xa]=Nd,jr[Ra]=Kp,jr[Dd]=Xh,jr[au]=Yp,jr[Hr]=Sl,jr[rs]=Qp,jr[wl]=bc,jr[go]=Kp,jr[mo]=Yp,jr[Vo]=Sl,jr[Yh]=Qp}function gt(b){return b&-16384?0>b?0:255:b>>Ws}function At(b,R){return gt((19077*b>>8)+(26149*R>>8)-14234)}function Kt(b,R,L){return gt((19077*b>>8)-(6419*R>>8)-(13320*L>>8)+8708)}function qt(b,R){return gt((19077*b>>8)+(33050*R>>8)-17685)}function cn(b,R,L,G,J){G[J+0]=At(b,L),G[J+1]=Kt(b,R,L),G[J+2]=qt(b,R)}function Xn(b,R,L,G,J){G[J+0]=qt(b,R),G[J+1]=Kt(b,R,L),G[J+2]=At(b,L)}function ri(b,R,L,G,J){var ne=Kt(b,R,L);R=ne<<3&224|qt(b,R)>>3,G[J+0]=248&At(b,L)|ne>>5,G[J+1]=R}function Ci(b,R,L,G,J){var ne=240&qt(b,R)|15;G[J+0]=240&At(b,L)|Kt(b,R,L)>>4,G[J+1]=ne}function wi(b,R,L,G,J){G[J+0]=255,cn(b,R,L,G,J+1)}function rr(b,R,L,G,J){Xn(b,R,L,G,J),G[J+3]=255}function ho(b,R,L,G,J){cn(b,R,L,G,J),G[J+3]=255}function Ps(b,R){return 0>b?0:b>R?R:b}function fo(b,R,L){k[b]=function(G,J,ne,ie,se,le,he,we,Fe){for(var Me=we+(-2&Fe)*L;we!=Me;)R(G[J+0],ne[ie+0],se[le+0],he,we),R(G[J+1],ne[ie+0],se[le+0],he,we+L),J+=2,++ie,++le,we+=2*L;1&Fe&&R(G[J+0],ne[ie+0],se[le+0],he,we)}}function Rd(b,R,L){return L==0?b==0?R==0?6:5:R==0?4:0:L}function ma(b,R,L,G,J){switch(b>>>30){case 3:Ds(R,L,G,J,0);break;case 2:si(R,L,G,J);break;case 1:Si(R,L,G,J)}}function va(b,R){var L,G,J=R.M,ne=R.Nb,ie=b.oc,se=b.pc+40,le=b.oc,he=b.pc+584,we=b.oc,Fe=b.pc+600;for(L=0;16>L;++L)ie[se+32*L-1]=129;for(L=0;8>L;++L)le[he+32*L-1]=129,we[Fe+32*L-1]=129;for(0<J?ie[se-1-32]=le[he-1-32]=we[Fe-1-32]=129:(r(ie,se-32-1,127,21),r(le,he-32-1,127,9),r(we,Fe-32-1,127,9)),G=0;G<b.za;++G){var Me=R.ya[R.aa+G];if(0<G){for(L=-1;16>L;++L)i(ie,se+32*L-4,ie,se+32*L+12,4);for(L=-1;8>L;++L)i(le,he+32*L-4,le,he+32*L+4,4),i(we,Fe+32*L-4,we,Fe+32*L+4,4)}var Ae=b.Gd,ke=b.Hd+G,Le=Me.ad,be=Me.Hc;if(0<J&&(i(ie,se-32,Ae[ke].y,0,16),i(le,he-32,Ae[ke].f,0,8),i(we,Fe-32,Ae[ke].ea,0,8)),Me.Za){var xe=ie,Ue=se-32+16;for(0<J&&(G>=b.za-1?r(xe,Ue,Ae[ke].y[15],4):i(xe,Ue,Ae[ke+1].y,0,4)),L=0;4>L;L++)xe[Ue+128+L]=xe[Ue+256+L]=xe[Ue+384+L]=xe[Ue+0+L];for(L=0;16>L;++L,be<<=2)xe=ie,Ue=se+Iv[L],qs[Me.Ob[L]](xe,Ue),ma(be,Le,16*+L,xe,Ue)}else if(xe=Rd(G,J,Me.Ob[0]),yo[xe](ie,se),be!=0)for(L=0;16>L;++L,be<<=2)ma(be,Le,16*+L,ie,se+Iv[L]);for(L=Me.Gc,xe=Rd(G,J,Me.Dd),Ms[xe](le,he),Ms[xe](we,Fe),be=Le,xe=le,Ue=he,255&(Me=L>>0)&&(170&Me?fc(be,256,xe,Ue):gr(be,256,xe,Ue)),Me=we,be=Fe,255&(L>>=8)&&(170&L?fc(Le,320,Me,be):gr(Le,320,Me,be)),J<b.Ub-1&&(i(Ae[ke].y,0,ie,se+480,16),i(Ae[ke].f,0,le,he+224,8),i(Ae[ke].ea,0,we,Fe+224,8)),L=8*ne*b.B,Ae=b.sa,ke=b.ta+16*G+16*ne*b.R,Le=b.qa,Me=b.ra+8*G+L,be=b.Ha,xe=b.Ia+8*G+L,L=0;16>L;++L)i(Ae,ke+L*b.R,ie,se+32*L,16);for(L=0;8>L;++L)i(Le,Me+L*b.B,le,he+32*L,8),i(be,xe+L*b.B,we,Fe+32*L,8)}}function cc(b,R,L,G,J,ne,ie,se,le){var he=[0],we=[0],Fe=0,Me=le!=null?le.kd:0,Ae=le??new wd;if(b==null||12>L)return 7;Ae.data=b,Ae.w=R,Ae.ha=L,R=[R],L=[L],Ae.gb=[Ae.gb];e:{var ke=R,Le=L,be=Ae.gb;if(t(b!=null),t(Le!=null),t(be!=null),be[0]=0,12<=Le[0]&&!n(b,ke[0],"RIFF")){if(n(b,ke[0]+8,"WEBP")){be=3;break e}var xe=Be(b,ke[0]+4);if(12>xe||4294967286<xe){be=3;break e}if(Me&&xe>Le[0]-8){be=7;break e}be[0]=xe,ke[0]+=12,Le[0]-=12}be=0}if(be!=0)return be;for(xe=0<Ae.gb[0],L=L[0];;){e:{var Ue=b;Le=R,be=L;var Xe=he,Ke=we,pt=ke=[0];if((rt=Fe=[Fe])[0]=0,8>be[0])be=7;else{if(!n(Ue,Le[0],"VP8X")){if(Be(Ue,Le[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var lt=Be(Ue,Le[0]+8),kt=1+$e(Ue,Le[0]+12);if(2147483648<=kt*(Ue=1+$e(Ue,Le[0]+15))){be=3;break e}pt!=null&&(pt[0]=lt),Xe!=null&&(Xe[0]=kt),Ke!=null&&(Ke[0]=Ue),Le[0]+=18,be[0]-=18,rt[0]=1}be=0}}if(Fe=Fe[0],ke=ke[0],be!=0)return be;if(Le=!!(2&ke),!xe&&Fe)return 3;if(ne!=null&&(ne[0]=!!(16&ke)),ie!=null&&(ie[0]=Le),se!=null&&(se[0]=0),ie=he[0],ke=we[0],Fe&&Le&&le==null){be=0;break}if(4>L){be=7;break}if(xe&&Fe||!xe&&!Fe&&!n(b,R[0],"ALPH")){L=[L],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{lt=b,be=R,xe=L;var rt=Ae.gb;Xe=Ae.na,Ke=Ae.P,pt=Ae.Sa,kt=22,t(lt!=null),t(xe!=null),Ue=be[0];var gn=xe[0];for(t(Xe!=null),t(pt!=null),Xe[0]=null,Ke[0]=null,pt[0]=0;;){if(be[0]=Ue,xe[0]=gn,8>gn){be=7;break e}var Sn=Be(lt,Ue+4);if(4294967286<Sn){be=3;break e}var pn=8+Sn+1&-2;if(kt+=pn,0<rt&&kt>rt){be=3;break e}if(!n(lt,Ue,"VP8 ")||!n(lt,Ue,"VP8L")){be=0;break e}if(gn[0]<pn){be=7;break e}n(lt,Ue,"ALPH")||(Xe[0]=lt,Ke[0]=Ue+8,pt[0]=Sn),Ue+=pn,gn-=pn}}if(L=L[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],be!=0)break}L=[L],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(rt=b,be=R,xe=L,Xe=Ae.gb[0],Ke=Ae.Ja,pt=Ae.xa,lt=be[0],Ue=!n(rt,lt,"VP8 "),kt=!n(rt,lt,"VP8L"),t(rt!=null),t(xe!=null),t(Ke!=null),t(pt!=null),8>xe[0])be=7;else{if(Ue||kt){if(rt=Be(rt,lt+4),12<=Xe&&rt>Xe-12){be=3;break e}if(Me&&rt>xe[0]-8){be=7;break e}Ke[0]=rt,be[0]+=8,xe[0]-=8,pt[0]=kt}else pt[0]=5<=xe[0]&&rt[lt+0]==47&&!(rt[lt+4]>>5),Ke[0]=xe[0];be=0}if(L=L[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],R=R[0],be!=0)break;if(4294967286<Ae.Ja)return 3;if(se==null||Le||(se[0]=Ae.xa?2:1),ie=[ie],ke=[ke],Ae.xa){if(5>L){be=7;break}se=ie,Me=ke,Le=ne,b==null||5>L?b=0:5<=L&&b[R+0]==47&&!(b[R+4]>>5)?(xe=[0],rt=[0],Xe=[0],Q(Ke=new j,b,R,L),bt(Ke,xe,rt,Xe)?(se!=null&&(se[0]=xe[0]),Me!=null&&(Me[0]=rt[0]),Le!=null&&(Le[0]=Xe[0]),b=1):b=0):b=0}else{if(10>L){be=7;break}se=ke,b==null||10>L||!wr(b,R+3,L-3)?b=0:(Me=b[R+0]|b[R+1]<<8|b[R+2]<<16,Le=16383&(b[R+7]<<8|b[R+6]),b=16383&(b[R+9]<<8|b[R+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Ae.Ja||!Le||!b?b=0:(ie&&(ie[0]=Le),se&&(se[0]=b),b=1))}if(!b||(ie=ie[0],ke=ke[0],Fe&&(he[0]!=ie||we[0]!=ke)))return 3;le!=null&&(le[0]=Ae,le.offset=R-le.w,t(4294967286>R-le.w),t(le.offset==le.ha-L));break}return be==0||be==7&&Fe&&le==null?(ne!=null&&(ne[0]|=Ae.na!=null&&0<Ae.na.length),G!=null&&(G[0]=ie),J!=null&&(J[0]=ke),0):be}function hl(b,R,L){var G=R.width,J=R.height,ne=0,ie=0,se=G,le=J;if(R.Da=b!=null&&0<b.Da,R.Da&&(se=b.cd,le=b.bd,ne=b.v,ie=b.j,11>L||(ne&=-2,ie&=-2),0>ne||0>ie||0>=se||0>=le||ne+se>G||ie+le>J))return 0;if(R.v=ne,R.j=ie,R.va=ne+se,R.o=ie+le,R.U=se,R.T=le,R.da=b!=null&&0<b.da,R.da){if(!ct(se,le,L=[b.ib],ne=[b.hb]))return 0;R.ib=L[0],R.hb=ne[0]}return R.ob=b!=null&&b.ob,R.Kb=b==null||!b.Sd,R.da&&(R.ob=R.ib<3*G/4&&R.hb<3*J/4,R.Kb=0),1}function dc(b){if(b==null)return 2;if(11>b.S){var R=b.f.RGBA;R.fb+=(b.height-1)*R.A,R.A=-R.A}else R=b.f.kb,b=b.height,R.O+=(b-1)*R.fa,R.fa=-R.fa,R.N+=(b-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(b-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(b-1)*R.lb,R.lb=-R.lb);return 0}function tu(b,R,L,G){if(G==null||0>=b||0>=R)return 2;if(L!=null){if(L.Da){var J=L.cd,ne=L.bd,ie=-2&L.v,se=-2&L.j;if(0>ie||0>se||0>=J||0>=ne||ie+J>b||se+ne>R)return 2;b=J,R=ne}if(L.da){if(!ct(b,R,J=[L.ib],ne=[L.hb]))return 2;b=J[0],R=ne[0]}}G.width=b,G.height=R;e:{var le=G.width,he=G.height;if(b=G.S,0>=le||0>=he||!(b>=xa&&13>b))b=2;else{if(0>=G.Rd&&G.sd==null){ie=ne=J=R=0;var we=(se=le*ef[b])*he;if(11>b||(ne=(he+1)/2*(R=(le+1)/2),b==12&&(ie=(J=le)*he)),(he=s(we+2*ne+ie))==null){b=1;break e}G.sd=he,11>b?((le=G.f.RGBA).eb=he,le.fb=0,le.A=se,le.size=we):((le=G.f.kb).y=he,le.O=0,le.fa=se,le.Fd=we,le.f=he,le.N=0+we,le.Ab=R,le.Cd=ne,le.ea=he,le.W=0+we+ne,le.Db=R,le.Ed=ne,b==12&&(le.F=he,le.J=0+we+2*ne),le.Tc=ie,le.lb=J)}if(R=1,J=G.S,ne=G.width,ie=G.height,J>=xa&&13>J)if(11>J)b=G.f.RGBA,R&=(se=Math.abs(b.A))*(ie-1)+ne<=b.size,R&=se>=ne*ef[J],R&=b.eb!=null;else{b=G.f.kb,se=(ne+1)/2,we=(ie+1)/2,le=Math.abs(b.fa),he=Math.abs(b.Ab);var Fe=Math.abs(b.Db),Me=Math.abs(b.lb),Ae=Me*(ie-1)+ne;R&=le*(ie-1)+ne<=b.Fd,R&=he*(we-1)+se<=b.Cd,R=(R&=Fe*(we-1)+se<=b.Ed)&le>=ne&he>=se&Fe>=se,R&=b.y!=null,R&=b.f!=null,R&=b.ea!=null,J==12&&(R&=Me>=ne,R&=Ae<=b.Tc,R&=b.F!=null)}else R=0;b=R?0:2}}return b!=0||L!=null&&L.fd&&(b=dc(G)),b}var Wi=64,fl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],nu=24,iu=32,hc=8,ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,R,L){return R[L+0]},k.Predictor3=function(b,R,L){return R[L+1]},k.Predictor4=function(b,R,L){return R[L-1]},k.Predictor5=function(b,R,L){return at(at(b,R[L+1]),R[L+0])},k.Predictor6=function(b,R,L){return at(b,R[L-1])},k.Predictor7=function(b,R,L){return at(b,R[L+0])},k.Predictor8=function(b,R,L){return at(R[L-1],R[L+0])},k.Predictor9=function(b,R,L){return at(R[L+0],R[L+1])},k.Predictor10=function(b,R,L){return at(at(b,R[L-1]),at(R[L+0],R[L+1]))},k.Predictor11=function(b,R,L){var G=R[L+0];return 0>=It(G>>24&255,b>>24&255,(R=R[L-1])>>24&255)+It(G>>16&255,b>>16&255,R>>16&255)+It(G>>8&255,b>>8&255,R>>8&255)+It(255&G,255&b,255&R)?G:b},k.Predictor12=function(b,R,L){var G=R[L+0];return(yt((b>>24&255)+(G>>24&255)-((R=R[L-1])>>24&255))<<24|yt((b>>16&255)+(G>>16&255)-(R>>16&255))<<16|yt((b>>8&255)+(G>>8&255)-(R>>8&255))<<8|yt((255&b)+(255&G)-(255&R)))>>>0},k.Predictor13=function(b,R,L){var G=R[L-1];return(mt((b=at(b,R[L+0]))>>24&255,G>>24&255)<<24|mt(b>>16&255,G>>16&255)<<16|mt(b>>8&255,G>>8&255)<<8|mt(b>>0&255,G>>0&255))>>>0};var zp=k.PredictorAdd0;k.PredictorAdd1=Vt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Ad=k.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Kh,Vs=k.ColorIndexInverseTransform,sr=k.MapARGB,pl=k.VP8LColorIndexInverseTransformAlpha,Ed=k.MapAlpha,ya=k.VP8LPredictorsAdd=[];ya.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var gl,Br,pr,ml,ba,ns,vl,Ds,si,fc,Si,gr,yl,Td,po,bl,Cl,Ca,ru,pc,su,wa,gc,Fs,pi,on,wn,oi,gi=s(511),zs=s(2041),ou=s(225),Ls=s(767),Pd=0,mc=zs,Sa=ou,is=Ls,ai=gi,xa=0,Ra=1,Dd=2,au=3,Hr=4,rs=5,wl=6,go=7,mo=8,Vo=9,Yh=10,qp=[2,3,7],Up=[3,3,11],Er=[280,256,256,256,40],mr=[0,1,1,1,0],yn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wp=8,Aa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vc=null,Fd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ld=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Md=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$p=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yo=[],qs=[],Ms=[],Ov=1,lu=2,Us=[],jr=[];Ge("UpsampleRgbLinePair",cn,3),Ge("UpsampleBgrLinePair",Xn,3),Ge("UpsampleRgbaLinePair",ho,4),Ge("UpsampleBgraLinePair",rr,4),Ge("UpsampleArgbLinePair",wi,4),Ge("UpsampleRgba4444LinePair",Ci,2),Ge("UpsampleRgb565LinePair",ri,2);var Nd=k.UpsampleRgbLinePair,Xh=k.UpsampleBgrLinePair,Kp=k.UpsampleRgbaLinePair,Yp=k.UpsampleBgraLinePair,Sl=k.UpsampleArgbLinePair,Qp=k.UpsampleRgba4444LinePair,bc=k.UpsampleRgb565LinePair,uu=16,Od=1<<uu-1,cu=-227,kd=482,Ws=6,bo=0,xl=s(256),kv=s(256),Rl=s(256),Ea=s(256),$i=s(kd-cu),Zh=s(kd-cu);fo("YuvToRgbRow",cn,3),fo("YuvToBgrRow",Xn,3),fo("YuvToRgbaRow",ho,4),fo("YuvToBgraRow",rr,4),fo("YuvToArgbRow",wi,4),fo("YuvToRgba4444Row",Ci,2),fo("YuvToRgb565Row",ri,2);var Iv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jh=[0,2,8],S0=[8,7,6,4,4,2,2,2,1,1,1,1],Ki=1;this.WebPDecodeRGBA=function(b,R,L,G,J){var ne=Ra,ie=new oc,se=new Di;ie.ba=se,se.S=ne,se.width=[se.width],se.height=[se.height];var le=se.width,he=se.height,we=new Fi;if(we==null||b==null)var Fe=2;else t(we!=null),Fe=cc(b,R,L,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Fe!=0?le=0:(le!=null&&(le[0]=we.width[0]),he!=null&&(he[0]=we.height[0]),le=1),le){se.width=se.width[0],se.height=se.height[0],G!=null&&(G[0]=se.width),J!=null&&(J[0]=se.height);e:{if(G=new No,(J=new wd).data=b,J.w=R,J.ha=L,J.kd=1,R=[0],t(J!=null),((b=cc(J.data,J.w,J.ha,null,null,null,R,null,J))==0||b==7)&&R[0]&&(b=4),(R=b)==0){if(t(ie!=null),G.data=J.data,G.w=J.w+J.offset,G.ha=J.ha-J.offset,G.put=Li,G.ac=Yn,G.bc=lr,G.ma=ie,J.xa){if((b=br())==null){ie=1;break e}if(function(Me,Ae){var ke=[0],Le=[0],be=[0];t:for(;;){if(Me==null)return 0;if(Ae==null)return Me.a=2,0;if(Me.l=Ae,Me.a=0,Q(Me.m,Ae.data,Ae.w,Ae.ha),!bt(Me.m,ke,Le,be)){Me.a=3;break t}if(Me.xb=lu,Ae.width=ke[0],Ae.height=Le[0],!Or(ke[0],Le[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(b,G)){if(G=(R=tu(G.width,G.height,ie.Oa,ie.ba))==0){t:{G=b;n:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((L=G.l)!=null),t((J=L.ma)!=null),G.xb!=0){if(G.ca=J.ba,G.tb=J.tb,t(G.ca!=null),!hl(J.Oa,L,au)){G.a=2;break n}if(!kr(G,L.width)||L.da)break n;if((L.da||sn(G.ca.S))&&Te(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Te()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!it(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!cr(G,G.V,G.Ba,G.c,G.i,L.o,ur))break n;J.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(R=b.a)}else R=b.a}else{if((b=new Oo)==null){ie=1;break e}if(b.Fa=J.na,b.P=J.P,b.qc=J.Sa,fi(b,G)){if((R=tu(G.width,G.height,ie.Oa,ie.ba))==0){if(b.Aa=0,L=ie.Oa,t((J=b)!=null),L!=null){if(0<(le=0>(le=L.Md)?0:100<le?255:255*le/100)){for(he=we=0;4>he;++he)12>(Fe=J.pb[he]).lc&&(Fe.ia=le*S0[0>Fe.lc?0:Fe.lc]>>3),we|=Fe.ia;we&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=L.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}ro(b,G)||(R=b.a)}}else R=b.a}R==0&&ie.Oa!=null&&ie.Oa.fd&&(R=dc(ie.ba))}ie=R}ne=ie!=0?null:11>ne?se.f.RGBA.eb:se.f.kb.y}else ne=null;return ne};var ef=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,V){for(var K="",T=0;T<4;T++)K+=String.fromCharCode(k[V++]);return K}function h(k,V){return(k[V+0]<<0|k[V+1]<<8|k[V+2]<<16)>>>0}function p(k,V){return(k[V+0]<<0|k[V+1]<<8|k[V+2]<<16|k[V+3]<<24)>>>0}new u;var g=[0],m=[0],y=[],w=new u,x=e,C=function(k,V){var K={},T=0,O=!1,H=0,q=0;if(K.frames=[],!function(X,Z,re,ce){for(var ye=0;ye<ce;ye++)if(X[Z+ye]!=re.charCodeAt(ye))return!0;return!1}(k,V,"RIFF",4)){var ee,$;for(p(k,V+=4),V+=8;V<k.length;){var W=d(k,V),Q=p(k,V+=4);V+=4;var ue=Q+(1&Q);switch(W){case"VP8 ":case"VP8L":K.frames[T]===void 0&&(K.frames[T]={}),(j=K.frames[T]).src_off=O?q:V-8,j.src_size=H+Q+8,T++,O&&(O=!1,H=0,q=0);break;case"VP8X":(j=K.header={}).feature_flags=k[V];var U=V+4;j.canvas_width=1+h(k,U),U+=3,j.canvas_height=1+h(k,U),U+=3;break;case"ALPH":O=!0,H=ue+8,q=V-8;break;case"ANIM":(j=K.header).bgcolor=p(k,V),U=V+4,j.loop_count=(ee=k)[($=U)+0]<<0|ee[$+1]<<8,U+=2;break;case"ANMF":var de,j;(j=K.frames[T]={}).offset_x=2*h(k,V),V+=3,j.offset_y=2*h(k,V),V+=3,j.width=1+h(k,V),V+=3,j.height=1+h(k,V),V+=3,j.duration=h(k,V),V+=3,de=k[V++],j.dispose=1&de,j.blend=de>>1&1}W!="ANMF"&&(V+=ue)}return K}}(x,0);C.response=x,C.rgbaoutput=!0,C.dataurl=!1;var A=C.header?C.header:null,E=C.frames?C.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],m=[A.canvas_width];for(var F=0;F<E.length&&E[F].blend!=0;F++);}var N=E[0],z=w.WebPDecodeRGBA(x,N.src_off,N.src_size,m,g);N.rgba=z,N.imgwidth=m[0],N.imgheight=g[0];for(var B=0;B<m[0]*g[0]*4;B++)y[B]=z[B];return this.width=m,this.height=g,this.data=y,this}(function(e){var t=function(){return typeof r5=="function"},n=function(g,m,y,w){var x=4,C=o;switch(w){case e.image_compression.FAST:x=1,C=s;break;case e.image_compression.MEDIUM:x=6,C=a;break;case e.image_compression.SLOW:x=9,C=u}g=i(g,m,y,C);var A=r5(g,{level:x});return e.__addimage__.arrayBufferToBinaryString(A)},i=function(g,m,y,w){for(var x,C,A,E=g.length/m,F=new Uint8Array(g.length+E),N=h(),z=0;z<E;z+=1){if(A=z*m,x=g.subarray(A,A+m),w)F.set(w(x,y,C),A+z);else{for(var B,k=N.length,V=[];B<k;B+=1)V[B]=N[B](x,y,C);var K=p(V.concat());F.set(V[K],A+z)}C=x}return F},r=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var y,w=[],x=g.length;w[0]=1;for(var C=0;C<x;C+=1)y=g[C-m]||0,w[C+1]=g[C]-y+256&255;return w},o=function(g,m,y){var w,x=[],C=g.length;x[0]=2;for(var A=0;A<C;A+=1)w=y&&y[A]||0,x[A+1]=g[A]-w+256&255;return x},a=function(g,m,y){var w,x,C=[],A=g.length;C[0]=3;for(var E=0;E<A;E+=1)w=g[E-m]||0,x=y&&y[E]||0,C[E+1]=g[E]+256-(w+x>>>1)&255;return C},u=function(g,m,y){var w,x,C,A,E=[],F=g.length;E[0]=4;for(var N=0;N<F;N+=1)w=g[N-m]||0,x=y&&y[N]||0,C=y&&y[N-m]||0,A=d(w,x,C),E[N+1]=g[N]-A+256&255;return E},d=function(g,m,y){if(g===m&&m===y)return g;var w=Math.abs(m-y),x=Math.abs(g-y),C=Math.abs(g+m-y-y);return w<=x&&w<=C?g:x<=C?m:y},h=function(){return[r,s,o,a,u]},p=function(g){var m=g.map(function(y){return y.reduce(function(w,x){return w+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(g,m,y,w){var x,C,A,E,F,N,z,B,k,V,K,T,O,H,q,ee=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(A=new Lne(g)).imgData,C=A.bits,x=A.colorSpace,F=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){k=(B=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,K=new Uint8Array(k*A.colors),V=new Uint8Array(k);var W,Q=A.pixelBitlength-A.bits;for(H=0,q=0;H<k;H++){for(O=B[H],W=0;W<Q;)K[q++]=O>>>W&255,W+=A.bits;V[H]=O>>>W&255}}if(A.bits===16){k=(B=new Uint32Array(A.decodePixels().buffer)).length,K=new Uint8Array(k*(32/A.pixelBitlength)*A.colors),V=new Uint8Array(k*(32/A.pixelBitlength)),T=A.colors>1,H=0,q=0;for(var ue=0;H<k;)O=B[H++],K[q++]=O>>>0&255,T&&(K[q++]=O>>>16&255,O=B[H++],K[q++]=O>>>0&255),V[ue++]=O>>>16&255;C=8}w!==e.image_compression.NONE&&t()?(g=n(K,A.width*A.colors,A.colors,w),z=n(V,A.width,1,w)):(g=K,z=V,ee=void 0)}if(A.colorType===3&&(x=this.color_spaces.INDEXED,N=A.palette,A.transparency.indexed)){var U=A.transparency.indexed,de=0;for(H=0,k=U.length;H<k;++H)de+=U[H];if((de/=255)===k-1&&U.indexOf(0)!==-1)E=[U.indexOf(0)];else if(de!==k){for(B=A.decodePixels(),V=new Uint8Array(B.length),H=0,k=B.length;H<k;H++)V[H]=U[B[H]];z=n(V,A.width,1)}}var j=function(X){var Z;switch(X){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(w);return ee===this.decode.FLATE_DECODE&&($="/Predictor "+j+" "),$+="/Colors "+F+" /BitsPerComponent "+C+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:y,data:g,index:m,filter:ee,decodeParameters:$,transparency:E,palette:N,sMask:z,predictor:j,width:A.width,height:A.height,bitsPerComponent:C,colorSpace:x}}}})(Bt.API),function(e){e.processGIF89A=function(t,n,i,r){var s=new Mne(t),o=s.width,a=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:a},h=new f2(100).encode(d,100);return e.processJPEG.call(this,h,n,i,r)},e.processGIF87A=e.processGIF89A}(Bt.API),_a.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_a.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Kn.log("bit decode error:"+n)}},_a.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var u=this.palette[s>>7-a&1];this.data[o+4*a]=u.blue,this.data[o+4*a+1]=u.green,this.data[o+4*a+2]=u.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},_a.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,u=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*r+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},_a.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},_a.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,d=s>>15?255:0,h=i*this.width*4+4*r;this.data[h]=u,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=d}this.pos+=e}},_a.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,d=(o>>11)/t*255|0,h=r*this.width*4+4*s;this.data[h]=d,this.data[h+1]=u,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},_a.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},_a.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},_a.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var s=new _a(t,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},d=new f2(100).encode(u,100);return e.processJPEG.call(this,d,n,i,r)}}(Bt.API),EN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var s=new EN(t),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},d=new f2(100).encode(u,100);return e.processJPEG.call(this,d,n,i,r)}}(Bt.API),Bt.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,u=0,d=0;d<r;d+=4){var h=i[d],p=i[d+1],g=i[d+2],m=i[d+3];s[a++]=h,s[a++]=p,s[a++]=g,o[u++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tf=Bt.API,$y=Tf.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,u=a.fof?a.fof:1,d=t.kerning?t.kerning:r.metadata.Unicode.kerning,h=d.fof?d.fof:1,p=t.doKerning!==!1,g=0,m=e.length,y=0,w=a[0]||u,x=[];for(n=0;n<m;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?x.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(g=p&&Gn(d[i])==="object"&&!isNaN(parseInt(d[i][y],10))?d[i][y]/h:0,x.push((a[i]||w)/u+g)),y=i;return x},SN=Tf.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Tf.processArabic&&(e=Tf.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:$y.apply(this,arguments).reduce(function(s,o){return s+o},0)},xN=function(e,t,n,i){for(var r=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;r.push(e.slice(0,s));var u=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(e.slice(u,s)),a=0,u=s),a+=t[s],s++;return u!==s&&r.push(e.slice(u,s)),r},RN=function(e,t,n){n||(n={});var i,r,s,o,a,u,d,h=[],p=[h],g=n.textIndent||0,m=0,y=0,w=e.split(" "),x=$y.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var C=Array(u).join(" "),A=[];w.map(function(F){(F=F.split(/\s*\n/)).length>1?A=A.concat(F.map(function(N,z){return(z&&N.length?`
`:"")+N})):A.push(F[0])}),w=A,u=SN.apply(this,[C,n])}for(s=0,o=w.length;s<o;s++){var E=0;if(i=w[s],u&&i[0]==`
`&&(i=i.substr(1),E=1),g+m+(y=(r=$y.apply(this,[i,n])).reduce(function(F,N){return F+N},0))>t||E){if(y>t){for(a=xN.apply(this,[i,r,t-(g+m),t]),h.push(a.shift()),h=[a.pop()];a.length;)p.push([a.shift()]);y=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(F,N){return F+N},0)}else h=[i];p.push(h),g=y+u,m=x}else h.push(i),g+=m+y,m=x}return d=u?function(F,N){return(N?C:"")+F.join(" ")}:function(F){return F.join(" ")},p.map(d)},Tf.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,u,d=[];for(a=0,u=i.length;a<u;a++)d=d.concat(RN.apply(this,[i[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,m,y,w,x=["{"];for(var C in p){if(g=p[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=s(C).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof g=="number")g<0?(y=s(g).slice(3),w="-"):(y=s(g).slice(2),w=""),y=w+y.slice(0,-1)+i[y.slice(-1)];else{if(Gn(g)!=="object")throw new Error("Don't know what to do with value type "+Gn(g)+".");y=o(g)}x.push(m+y)}return x.push("}"),x.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,y,w,x={},C=1,A=x,E=[],F="",N="",z=p.length-1,B=1;B<z;B+=1)(w=p[B])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(E.push([A,y]),A={},y=void 0):w=="}"?((m=E.pop())[0][m[1]]=A,y=void 0,A=m[0]):w=="-"?C=-1:y===void 0?n.hasOwnProperty(w)?(F+=n[w],y=parseInt(F,16)*C,C=1,F=""):F+=w:n.hasOwnProperty(w)?(N+=n[w],A[y]=parseInt(N,16)*C,C=1,y=void 0,N=""):N+=w;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var y=d.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(Bt.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(cm(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Bt),function(e){function t(){return(Gt.canvg?Promise.resolve(Gt.canvg):Jx(()=>import("./index.es-CLGrXEWP.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Bt.API.addSvgAsImage=function(n,i,r,s,o,a,u,d){if(isNaN(i)||isNaN(r))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(y){return y.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),i,r,s,o,u,d)})}}(),Bt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},Bt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),u=[],d=0,h=0,p=0;function g(y,w){var x,C=!1;for(x=0;x<y.length;x+=1)y[x]===w&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Gn(e)==="object"){for(r in e)if(s=e[r],g(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&g(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(d=0;d<s.length;d+=1)if(i=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(i=!1);i===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}n[r].value="["+u.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?w.push("/"+y+" /"+n[y].value):w.push("/"+y+" "+n[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Bt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),u.indexOf(a)==-1&&(u.push(a),u.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(d[4-a.length],a)}return h.join("")},i=function(s){var o,a,u,d,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,g=(a=Object.keys(s).sort(function(m,y){return m-y})).length;p<g;p++)o=a[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,d=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var w=d();h({data:m,addLength1:!0,objectId:w}),u("endobj");var x=d();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var C=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Bf(a.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var A=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Bf(a.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+x+" 0 R"),u("/BaseFont /"+Bf(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,d=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var y=d();h({data:g,addLength1:!0,objectId:y}),u("endobj");var w=d();h({data:i(a.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var x=d();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+Bf(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=d();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Bf(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",u=s.x,d=s.y,h=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,y=p.fonts,w=m,x="",C=0,A="",E=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:a,x:u,y:d,options:h,mutex:p};for(A=a,w=m,Array.isArray(a)&&(A=a[0]),C=0;C<A.length;C+=1)y[w].metadata.hasOwnProperty("cmap")&&(o=y[w].metadata.cmap.unicode.codeMap[A[C].charCodeAt(0)]),o||A[C].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?x+=A[C]:x+="";var F="";return parseInt(w.slice(1))<14||E==="WinAnsiEncoding"?F=g(x,w).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(F=n(x,y[w])),p.isHex=!0,{text:F,x:u,y:d,options:h,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([r(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(r(Object.assign({},u,{text:o[d]})).text);s.text=a}else s.text=r(Object.assign({},u,{text:o})).text}])}(Bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,s,o,a,u,d,h,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,E=0;this.__bidiEngine__={};var F=function(T){var O=T.charCodeAt(),H=O>>8,q=w[H];return q!==void 0?p[256*q+(255&O)]:H===252||H===253?"AL":C.test(H)?"L":H===8?"R":"N"},N=function(T){for(var O,H=0;H<T.length;H++){if((O=F(T.charAt(H)))==="L")return!1;if(O==="R")return!0}return!1},z=function(T,O,H,q){var ee,$,W,Q,ue=O[q];switch(ue){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(ue="AN");break;case"AL":A=!0,ue="R";break;case"WS":ue="N";break;case"CS":q<1||q+1>=O.length||(ee=H[q-1])!=="EN"&&ee!=="AN"||($=O[q+1])!=="EN"&&$!=="AN"?ue="N":A&&($="AN"),ue=$===ee?$:"N";break;case"ES":ue=(ee=q>0?H[q-1]:"B")==="EN"&&q+1<O.length&&O[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&H[q-1]==="EN"){ue="EN";break}if(A){ue="N";break}for(W=q+1,Q=O.length;W<Q&&O[W]==="ET";)W++;ue=W<Q&&O[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Q=O.length,W=q+1;W<Q&&O[W]==="NSM";)W++;if(W<Q){var U=T[q],de=U>=1425&&U<=2303||U===64286;if(ee=O[W],de&&(ee==="R"||ee==="AL")){ue="R";break}}}ue=q<1||(ee=O[q-1])==="B"?"N":H[q-1];break;case"B":A=!1,r=!0,ue=E;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":ue="N"}return ue},B=function(T,O,H){var q=T.split("");return H&&k(q,H,{hiLevel:E}),q.reverse(),O&&O.reverse(),q.join("")},k=function(T,O,H){var q,ee,$,W,Q,ue=-1,U=T.length,de=0,j=[],X=E?m:g,Z=[];for(A=!1,r=!1,s=!1,ee=0;ee<U;ee++)Z[ee]=F(T[ee]);for($=0;$<U;$++){if(Q=de,j[$]=z(T,Z,j,$),q=240&(de=X[Q][y[j[$]]]),de&=15,O[$]=W=X[de][5],q>0)if(q===16){for(ee=ue;ee<$;ee++)O[ee]=1;ue=-1}else ue=-1;if(X[de][6])ue===-1&&(ue=$);else if(ue>-1){for(ee=ue;ee<$;ee++)O[ee]=W;ue=-1}Z[$]==="B"&&(O[$]=0),H.hiLevel|=W}s&&function(re,ce,ye){for(var me=0;me<ye;me++)if(re[me]==="S"){ce[me]=E;for(var Se=me-1;Se>=0&&re[Se]==="WS";Se--)ce[Se]=E}}(Z,O,U)},V=function(T,O,H,q,ee){if(!(ee.hiLevel<T)){if(T===1&&E===1&&!r)return O.reverse(),void(H&&H.reverse());for(var $,W,Q,ue,U=O.length,de=0;de<U;){if(q[de]>=T){for(Q=de+1;Q<U&&q[Q]>=T;)Q++;for(ue=de,W=Q-1;ue<W;ue++,W--)$=O[ue],O[ue]=O[W],O[W]=$,H&&($=H[ue],H[ue]=H[W],H[W]=$);de=Q}de++}}},K=function(T,O,H){var q=T.split(""),ee={hiLevel:E};return H||(H=[]),k(q,H,ee),function($,W,Q){if(Q.hiLevel!==0&&h)for(var ue,U=0;U<$.length;U++)W[U]===1&&(ue=x.indexOf($[U]))>=0&&($[U]=x[ue+1])}(q,H,ee),V(2,q,O,H,ee),V(1,q,O,H,ee),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,H){if(function(ee,$){if($)for(var W=0;W<ee.length;W++)$[W]=W;a===void 0&&(a=N(ee)),d===void 0&&(d=N(ee))}(T,O),o||!u||d)if(o&&u&&a^d)E=a?1:0,T=B(T,O,H);else if(!o&&u&&d)E=a?1:0,T=K(T,O,H),T=B(T,O);else if(!o||a||u||d){if(o&&!u&&a^d)T=B(T,O),a?(E=0,T=K(T,O,H)):(E=1,T=K(T,O,H),T=B(T,O));else if(o&&a&&!u&&d)E=1,T=K(T,O,H),T=B(T,O);else if(!o&&!u&&a^d){var q=h;a?(E=1,T=K(T,O,H),E=0,h=!1,T=K(T,O,H),h=q):(E=0,T=K(T,O,H),T=B(T,O),E=1,h=!1,T=K(T,O,H),h=q,T=B(T,O))}}else E=0,T=K(T,O,H);else E=a?1:0,T=K(T,O,H);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,u=T.isOutputVisual,a=T.isInputRtl,d=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text,s=(i.x,i.y,i.options||{}),o=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(Bt),Bt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new cd(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $ne(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nne(this.contents),this.head=new kne(this),this.name=new jne(this),this.cmap=new i_(this),this.toUnicode={},this.hhea=new Ine(this),this.maxp=new Gne(this),this.hmtx=new Vne(this),this.post=new Bne(this),this.os2=new _ne(this),this.loca=new Wne(this),this.glyf=new zne(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,u,d;for(d=[],o=0,a=(u=this.bbox).length;o<a;o++)t=u[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(n=r>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var sl,cd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,s,o,a,u;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+u},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)n=t[i],s.push(this.writeByte(n));return s},e}(),Nne=function(){var e;function t(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,s,o,a,u,d,h,p,g,m,y,w;for(w in m=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(m)/u),o=Math.floor(p/u),h=16*m-p,(r=new cd).writeInt(this.scalarType),r.writeShort(m),r.writeShort(p),r.writeShort(o),r.writeShort(h),s=16*m,d=r.pos+s,a=null,y=[],n)for(g=n[w],r.writeString(w),r.writeInt(e(g)),r.writeInt(d),r.writeInt(g.length),y=y.concat(g),w==="head"&&(a=d),d+=g.length;d%4;)y.push(0),d++;return r.write(y),i=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(i),r.data},e=function(n){var i,r,s,o;for(n=r_.call(n);n.length%4;)n.push(0);for(s=new cd(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),One={}.hasOwnProperty,Zl=function(e,t){for(var n in t)One.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};sl=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var kne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new cd).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),TN=function(){function e(t,n){var i,r,s,o,a,u,d,h,p,g,m,y,w,x,C,A,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(m=t.readUInt16(),g=m/2,t.pos+=6,s=function(){var F,N;for(N=[],u=F=0;0<=g?F<g:F>g;u=0<=g?++F:--F)N.push(t.readUInt16());return N}(),t.pos+=2,w=function(){var F,N;for(N=[],u=F=0;0<=g?F<g:F>g;u=0<=g?++F:--F)N.push(t.readUInt16());return N}(),d=function(){var F,N;for(N=[],u=F=0;0<=g?F<g:F>g;u=0<=g?++F:--F)N.push(t.readUInt16());return N}(),h=function(){var F,N;for(N=[],u=F=0;0<=g?F<g:F>g;u=0<=g?++F:--F)N.push(t.readUInt16());return N}(),r=(this.length-t.pos+this.offset)/2,a=function(){var F,N;for(N=[],u=F=0;0<=r?F<r:F>r;u=0<=r?++F:--F)N.push(t.readUInt16());return N}(),u=C=0,E=s.length;C<E;u=++C)for(x=s[u],i=A=y=w[u];y<=x?A<=x:A>=x;i=y<=x?++A:--A)h[u]===0?o=i+d[u]:(o=a[h[u]/2+(i-y)-(g-u)]||0)!==0&&(o+=d[u]),this.codeMap[i]=65535&o}t.pos=p}return e.encode=function(t,n){var i,r,s,o,a,u,d,h,p,g,m,y,w,x,C,A,E,F,N,z,B,k,V,K,T,O,H,q,ee,$,W,Q,ue,U,de,j,X,Z,re,ce,ye,me,Se,Oe,_e,$e;switch(q=new cd,o=Object.keys(t).sort(function(Be,it){return Be-it}),n){case"macroman":for(w=0,x=function(){var Be=[];for(y=0;y<256;++y)Be.push(0);return Be}(),A={0:0},s={},ee=0,ue=o.length;ee<ue;ee++)A[Se=t[r=o[ee]]]==null&&(A[Se]=++w),s[r]={old:t[r],new:A[t[r]]},x[r]=A[t[r]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:s,subtable:q.data,maxGlyphID:w+1};case"unicode":for(O=[],p=[],E=0,A={},i={},C=d=null,$=0,U=o.length;$<U;$++)A[N=t[r=o[$]]]==null&&(A[N]=++E),i[r]={old:N,new:A[N]},a=A[N]-r,C!=null&&a===d||(C&&p.push(C),O.push(r),d=a),C=r;for(C&&p.push(C),p.push(65535),O.push(65535),K=2*(V=O.length),k=2*Math.pow(Math.log(V)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,B=2*V-k,u=[],z=[],m=[],y=W=0,de=O.length;W<de;y=++W){if(T=O[y],h=p[y],T===65535){u.push(0),z.push(0);break}if(T-(H=i[T].new)>=32768)for(u.push(0),z.push(2*(m.length+V-y)),r=Q=T;T<=h?Q<=h:Q>=h;r=T<=h?++Q:--Q)m.push(i[r].new);else u.push(H-T),z.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*V+2*m.length),q.writeUInt16(0),q.writeUInt16(K),q.writeUInt16(k),q.writeUInt16(g),q.writeUInt16(B),ye=0,j=p.length;ye<j;ye++)r=p[ye],q.writeUInt16(r);for(q.writeUInt16(0),me=0,X=O.length;me<X;me++)r=O[me],q.writeUInt16(r);for(Oe=0,Z=u.length;Oe<Z;Oe++)a=u[Oe],q.writeUInt16(a);for(_e=0,re=z.length;_e<re;_e++)F=z[_e],q.writeUInt16(F);for($e=0,ce=m.length;$e<ce;$e++)w=m[$e],q.writeUInt16(w);return{charMap:i,subtable:q.data,maxGlyphID:E+1}}},e}(),i_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,r,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new TN(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var r,s;return i==null&&(i="macroman"),r=TN.encode(n,i),(s=new cd).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Ine=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),_ne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Bne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="post",t.prototype.parse=function(n){var i,r,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)i=n.readByte(),s.push(this.names.push(n.readString(i)));return s;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var a,u,d;for(d=[],o=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;o=0<=u?++a:--a)d.push(n.readUInt32());return d}).call(this)}},t}(),Hne=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="name",t.prototype.parse=function(n){var i,r,s,o,a,u,d,h,p,g,m;for(n.pos=this.offset,n.readShort(),i=n.readShort(),u=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(d={},o=p=0,g=r.length;p<g;o=++p)s=r[o],n.pos=s.offset,h=n.readString(s.length),a=new Hne(h,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Gne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Vne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,r,s,o,a,u,d;for(n.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],i=h=0;0<=s?h<s:h>s;i=0<=s?++h:--h)p.push(n.readInt16());return p}(),this.widths=(function(){var h,p,g,m;for(m=[],h=0,p=(g=this.metrics).length;h<p;h++)o=g[h],m.push(o.advance);return m}).call(this),r=this.widths[this.widths.length-1],d=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)d.push(this.widths.push(r));return d},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),r_=[].slice,zne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,r,s,o,a,u,d,h,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,a=(u=new cd(i.read(s))).readShort(),h=u.readShort(),g=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[n]=a===-1?new Une(u,h,g,d,p):new qne(u,a,h,g,d,p),this.cache[n]))},t.prototype.encode=function(n,i,r){var s,o,a,u,d;for(a=[],o=[],u=0,d=i.length;u<d;u++)s=n[i[u]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},t}(),qne=function(){function e(t,n,i,r,s,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Une=function(){function e(t,n,i,r,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new cd(r_.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Wne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zl(t,sl),t.prototype.tag="loca",t.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var u=this.offsets[a],d=this.offsets[a+1]-u;d>0&&(s+=d)}for(var h=new Array(4*r.length),p=0;p<r.length;++p)h[4*p+3]=255&r[p],h[4*p+2]=(65280&r[p])>>8,h[4*p+1]=(16711680&r[p])>>16,h[4*p]=(4278190080&r[p])>>24;return h},t}(),$ne=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,s,o,a,u;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))i=u[s],r[s]=i;return r},e.prototype.encode=function(t,n){var i,r,s,o,a,u,d,h,p,g,m,y,w,x,C;for(r in i=i_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},C=i.charMap)m[(u=C[r]).old]=u.new;for(y in g=i.maxGlyphID,o)y in m||(m[y]=g++);return h=function(A){var E,F;for(E in F={},A)F[A[E]]=E;return F}(m),p=Object.keys(h).sort(function(A,E){return A-E}),w=function(){var A,E,F;for(F=[],A=0,E=p.length;A<E;A++)a=p[A],F.push(h[a]);return F}(),s=this.font.glyf.encode(o,w,m),d=this.font.loca.encode(s.offsets,w),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Bt.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,u,d;for(d=[],a=0,u=n.length;a<u;a++)i=n[a],d.push(t.convert(i));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();function s_(e,t,n,i,r){i=i||{};var s=1.15,o=r.internal.scaleFactor,a=r.internal.getFontSize()/o,u=r.getLineHeightFactor?r.getLineHeightFactor():s,d=a*u,h=/\r\n|\r|\n/g,p="",g=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(p=typeof e=="string"?e.split(h):e,g=p.length||1),n+=a*(2-s),i.valign==="middle"?n-=g/2*d:i.valign==="bottom"&&(n-=g*d),i.halign==="center"||i.halign==="right"){var m=a;if(i.halign==="center"&&(m*=.5),p&&g>=1){for(var y=0;y<p.length;y++)r.text(p[y],t-r.getStringUnitWidth(p[y])*m,n),n+=d;return r}t-=r.getStringUnitWidth(e)*m}return i.halign==="justify"?r.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(e,t,n),r}var PN={},rp=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:PN=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,r,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){a=t.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),a=d[0])}if(this.jsPDFDocument.setFont(u,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var h=e.unifyColor(t.fillColor);h&&(i=this.jsPDFDocument).setFillColor.apply(i,h),h=e.unifyColor(t.textColor),h&&(r=this.jsPDFDocument).setTextColor.apply(r,h),h=e.unifyColor(t.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,r,s){return this.jsPDFDocument.rect(t,n,i,r,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return PN||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),d5=function(e,t){return d5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},d5(e,t)};function o_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");d5(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var a_=function(e){o_(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t}(Array);function Kne(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Yne(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function sC(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],r=i.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return r}function l_(e,t,n,i){var r=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:r,lineColor:s});var o=u_(r,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,o)}function u_(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function u0(e,t){var n,i,r,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(r=e.right)!==null&&r!==void 0?r:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function c_(e,t){var n=u0(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Qne(e,t,n,i,r){var s={},o=1.3333333333333333,a=p2(t,function(E){return r.getComputedStyle(E).backgroundColor});a!=null&&(s.fillColor=a);var u=p2(t,function(E){return r.getComputedStyle(E).color});u!=null&&(s.textColor=u);var d=Zne(i,n);d&&(s.cellPadding=d);var h="borderTopColor",p=o*n,g=i.borderTopWidth;if(i.borderBottomWidth===g&&i.borderRightWidth===g&&i.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/p,right:(parseFloat(i.borderRightWidth)||0)/p,bottom:(parseFloat(i.borderBottomWidth)||0)/p,left:(parseFloat(i.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var y=p2(t,function(E){return r.getComputedStyle(E)[h]});y!=null&&(s.lineColor=y);var w=["left","right","center","justify"];w.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),w=["middle","bottom","top"],w.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var x=parseInt(i.fontSize||"");isNaN(x)||(s.fontSize=x/o);var C=Xne(i);C&&(s.fontStyle=C);var A=(i.fontFamily||"").toLowerCase();return e.indexOf(A)!==-1&&(s.font=A),s}function Xne(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function p2(e,t){var n=d_(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function d_(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:d_(e.parentElement,t):n}function Zne(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),r=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(a){return parseInt(a||"0")/i}),o=u0(s,0);return r>o.top&&(o.top=r),r>o.bottom&&(o.bottom=r),o}function h_(e,t,n,i,r){var s,o;i===void 0&&(i=!1),r===void 0&&(r=!1);var a;typeof t=="string"?a=n.document.querySelector(t):a=t;var u=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],p=[],g=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:h,body:p,foot:g};for(var m=0;m<a.rows.length;m++){var y=a.rows[m],w=(o=(s=y==null?void 0:y.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=Jne(u,d,n,y,i,r);x&&(w==="thead"?h.push(x):w==="tfoot"?g.push(x):p.push(x))}return{head:h,body:p,foot:g}}function Jne(e,t,n,i,r,s){for(var o=new a_(i),a=0;a<i.cells.length;a++){var u=i.cells[a],d=n.getComputedStyle(u);if(r||d.display!=="none"){var h=void 0;s&&(h=Qne(e,u,t,d,n)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:h,_element:u,content:eie(u)})}}var p=n.getComputedStyle(i);if(o.length>0&&(r||p.display!=="none"))return o}function eie(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function tie(e,t,n){for(var i=0,r=[e,t,n];i<r.length;i++){var s=r[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Mu(e,t,n,i,r){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s}function f_(e,t){var n=new rp(e),i=n.getDocumentOptions(),r=n.getGlobalOptions();tie(r,i,t);var s=Mu({},r,i,t),o;typeof window<"u"&&(o=window);var a=nie(r,i,t),u=iie(r,i,t),d=rie(n,s),h=oie(n,s,o);return{id:t.tableId,content:h,hooks:u,styles:a,settings:d}}function nie(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(u){if(u==="columnStyles"){var d=e[u],h=t[u],p=n[u];i.columnStyles=Mu({},d,h,p)}else{var g=[e,t,n],m=g.map(function(y){return y[u]||{}});i[u]=Mu({},m[0],m[1],m[2])}},s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];r(a)}return i}function iie(e,t,n){for(var i=[e,t,n],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=i;s<o.length;s++){var a=o[s];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}function rie(e,t){var n,i,r,s,o,a,u,d,h,p,g,m,y=u0(t.margin,40/e.scaleFactor()),w=(n=sie(e,t.startY))!==null&&n!==void 0?n:y.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var C;t.showHead===!0?C="everyPage":t.showHead===!1?C="never":C=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var A=(s=t.useCss)!==null&&s!==void 0?s:!1,E=t.theme||(A?"plain":"striped"),F=!!t.horizontalPageBreak,N=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:A,theme:E,startY:w,margin:y,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:C,showFoot:x,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:F,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function sie(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),r=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===r}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function oie(e,t,n){var i=t.head||[],r=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var a=h_(e,t.html,n,o,t.useCss)||{};i=a.head||i,r=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment")}var u=t.columns||aie(i,r,s);return{columns:u,head:i,body:r,foot:s}}function aie(e,t,n){var i=e[0]||t[0]||n[0]||[],r=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(i)?a=i[parseInt(s)]:a=i[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var u=0;u<o;u++){var d=void 0;Array.isArray(i)?d=r.length:d=s+(u>0?"_".concat(u):"");var h={dataKey:d};r.push(h)}}),r}var h5=function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e}(),lie=function(e){o_(t,e);function t(n,i,r,s,o,a){var u=e.call(this,n,i,a)||this;return u.cell=r,u.row=s,u.column=o,u.section=s.section,u}return t}(h5),uie=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,r,s,o){for(var a=0,u=n;a<u.length;a++){var d=u[a],h=new lie(t,this,i,r,s,o),p=d(h)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var s=r[i];s(new h5(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var s=r[i];s(new h5(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(r,s){return r+s.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e}(),p_=function(){function e(t,n,i,r,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof a_&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=r,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,r){var s;return Math.max(i,((s=n.cells[r.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var r=n.cells[i.index];return r?r.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(r,s){var o=i.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),d=u+a;return d>r?d:r},0)},e}(),g_=function(){function e(t,n,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*n,s=i*r+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=u0(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),cie=function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,r=t.allRows();i<r.length;i++){var s=r[i],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function die(e,t){hie(e,t);var n=[],i=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),i+=s.width});var r=t.getWidth(e.pageSize().width)-i;r&&(r=f5(n,r,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),r&&(r=f5(n,r,function(s){return s.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/e.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),pie(t),gie(t,e),fie(t)}function hie(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,r=c_(e,t);t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var u=a[o],d=s.cells[u.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,s,u,null);var p=d.padding("horizontal");d.contentWidth=sC(d.text,d.styles,e)+p;var g=sC(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||i===!0)d.contentWidth>r?(d.minWidth=r,d.wrappedWidth=r):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/n;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,a=t.columns;o<a.length;o++){var u=a[o],d=s.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(u.minWidth=p,u.wrappedWidth=p)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function f5(e,t,n){for(var i=t,r=e.reduce(function(m,y){return m+y.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],a=o.wrappedWidth/r,u=i*a,d=o.width+u,h=n(o),p=d<h?h:d;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(m){return t<0?m.width>n(m):!0});g.length&&(t=f5(g,t,n))}return t}function fie(e){for(var t={},n=1,i=e.allRows(),r=0;r<i.length;r++)for(var s=i[r],o=0,a=e.columns;o<a.length;o++){var u=a[o],d=t[u.index];if(n>1)n--,delete s.cells[u.index];else if(d)d.cell.height+=s.height,n=d.cell.colSpan,delete s.cells[u.index],d.left--,d.left<=1&&delete t[u.index];else{var h=s.cells[u.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=i.length-r,g=h.rowSpan>p?p:h.rowSpan;t[u.index]={cell:h,left:g,row:s}}}}}function pie(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],r=null,s=0,o=0,a=0;a<e.columns.length;a++){var u=e.columns[a];if(o-=1,o>1&&e.columns[a+1])s+=u.width,delete i.cells[u.index];else if(r){var d=r;delete i.cells[u.index],r=null,d.width=u.width+s}else{var d=i.cells[u.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){r=d,s+=u.width;continue}d.width=u.width+s}}}function gie(e,t){for(var n={count:0,height:0},i=0,r=e.allRows();i<r.length;i++){for(var s=r[i],o=0,a=e.columns;o<a.length;o++){var u=a[o],d=s.cells[u.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=DN(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=DN(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,h);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<g*d.rowSpan?n={height:g,count:d.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function DN(e,t,n,i,r){return e.map(function(s){return mie(s,t,n,i,r)})}function mie(e,t,n,i,r){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=sC(e,n,i))return e;for(;t<sC(e+r,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+r}function m_(e,t){var n=new rp(e),i=vie(t,n.scaleFactor()),r=new uie(t,i);return die(n,r),n.applyStyles(n.userStyles),r}function vie(e,t){var n=e.content,i=bie(n.columns);if(n.head.length===0){var r=FN(i,"head");r&&n.head.push(r)}if(n.foot.length===0){var r=FN(i,"foot");r&&n.foot.push(r)}var s=e.settings.theme,o=e.styles;return{columns:i,head:g2("head",n.head,i,o,s,t),body:g2("body",n.body,i,o,s,t),foot:g2("foot",n.foot,i,o,s,t)}}function g2(e,t,n,i,r,s){var o={},a=t.map(function(u,d){for(var h=0,p={},g=0,m=0,y=0,w=n;y<w.length;y++){var x=w[y];if(o[x.index]==null||o[x.index].left===0)if(m===0){var C=void 0;Array.isArray(u)?C=u[x.index-g-h]:C=u[x.dataKey];var A={};typeof C=="object"&&!Array.isArray(C)&&(A=(C==null?void 0:C.styles)||{});var E=Cie(e,x,d,r,i,s,A),F=new g_(C,E,e);p[x.dataKey]=F,p[x.index]=F,m=F.colSpan-1,o[x.index]={left:F.rowSpan-1,times:m}}else m--,g++;else o[x.index].left--,m=o[x.index].times,h++}return new p_(u,d,e,p)});return a}function FN(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var r=yie(t,i.raw);r!=null&&(n[i.dataKey]=r)}}),Object.keys(n).length>0?n:null}function yie(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function bie(e){return e.map(function(t,n){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:n:r=n,new cie(r,t,n)})}function Cie(e,t,n,i,r,s,o){var a=Yne(i),u;e==="head"?u=r.headStyles:e==="body"?u=r.bodyStyles:e==="foot"&&(u=r.footStyles);var d=Mu({},a.table,a[e],r.styles,u),h=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},p=e==="body"?h:{},g=e==="body"&&n%2===0?Mu({},a.alternateRow,r.alternateRowStyles):{},m=Kne(s),y=Mu({},m,d,g,p);return Mu(y,o)}function wie(e,t,n){var i;n===void 0&&(n={});var r=c_(e,t),s=new Map,o=[],a=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var m=t.columns.find(function(y){return y.dataKey===g||y.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),o.push(m.index),a.push(t.columns[m.index]),r-=m.wrappedWidth)});for(var d=!0,h=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;h<t.columns.length;){if(s.has(h)){h++;continue}var p=t.columns[h].wrappedWidth;if(d||r>=p)d=!1,o.push(h),a.push(t.columns[h]),r-=p;else break;h++}return{colIndexes:o,columns:a,lastIndex:h-1}}function Sie(e,t){for(var n=[],i=0;i<t.columns.length;i++){var r=wie(e,t,{start:i});r.columns.length&&(n.push(r),i=r.lastIndex)}return n}function v_(e,t){var n=t.settings,i=n.startY,r=n.margin,s={x:r.left,y:i},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=i+r.bottom+o;if(n.pageBreak==="avoid"){var u=t.body,d=u.reduce(function(g,m){return g+m.height},0);a+=d}var h=new rp(e);(n.pageBreak==="always"||n.startY!=null&&a>h.pageSize().height)&&(b_(h),s.y=r.top),t.callWillDrawPageHooks(h,s);var p=Mu({},s);t.startPageNumber=h.pageNumber(),n.horizontalPageBreak?xie(h,t,p,s):(h.applyStyles(h.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(g){return $u(h,t,g,s,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(g,m){var y=m===t.body.length-1;oC(h,t,g,y,p,s,t.columns)}),h.applyStyles(h.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(g){return $u(h,t,g,s,t.columns)})),l_(h,t,p,s),t.callEndPageHooks(h,s),t.finalY=s.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function xie(e,t,n,i){var r=Sie(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?dm(e,t,n,i,d.columns,!0):LN(e,t,i,d.columns),Rie(e,t,n,i,d.columns),m2(e,t,i,d.columns)});else for(var o=-1,a=r[0],u=function(){var d=o;if(a){e.applyStyles(e.userStyles);var h=a.columns;o>=0?dm(e,t,n,i,h,!0):LN(e,t,i,h),d=MN(e,t,o+1,i,h),m2(e,t,i,h)}var p=d-o;r.slice(1).forEach(function(g){e.applyStyles(e.userStyles),dm(e,t,n,i,g.columns,!0),MN(e,t,o+1,i,g.columns,p),m2(e,t,i,g.columns)}),o=d};o<t.body.length-1;)u()}function LN(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(s){return $u(e,t,s,n,i)})}function Rie(e,t,n,i,r){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var a=o===t.body.length-1;oC(e,t,s,a,n,i,r)})}function MN(e,t,n,i,r,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(n+s,t.body.length),a=-1;return t.body.slice(n,o).forEach(function(u,d){var h=n+d===t.body.length-1,p=y_(e,t,h,i);u.canEntireRowFit(p,r)&&($u(e,t,u,i,r),a=n+d)}),a}function m2(e,t,n,i){var r=t.settings;e.applyStyles(e.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(s){return $u(e,t,s,n,i)})}function Aie(e,t,n){var i=n.getLineHeight(e.styles.fontSize),r=e.padding("vertical"),s=Math.floor((t-r)/i);return Math.max(0,s)}function Eie(e,t,n,i){var r={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var u=a[o],d=e.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new g_(d.raw,d.styles,d.section);h=Mu(h,d),h.text=[];var p=Aie(d,t,i);d.text.length>p&&(h.text=d.text.splice(p,d.text.length));var g=i.scaleFactor(),m=i.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,m),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(g,m),h.contentHeight>s&&(s=h.contentHeight),r[u.index]=h}}var y=new p_(e.raw,-1,e.section,r,!0);y.height=s;for(var w=0,x=n.columns;w<x.length;w++){var u=x[w],h=y.cells[u.index];h&&(h.height=y.height);var d=e.cells[u.index];d&&(d.height=e.height)}return y}function Tie(e,t,n,i){var r=e.pageSize().height,s=i.settings.margin,o=s.top+s.bottom,a=r-o;t.section==="body"&&(a-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var u=t.getMinimumRowHeight(i.columns,e),d=u<n;if(u>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(i.columns),p=t.getMaxCellHeight(i.columns)>a;return p?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||i.settings.rowPageBreak==="avoid")}function oC(e,t,n,i,r,s,o){var a=y_(e,t,i,s);if(n.canEntireRowFit(a,o))$u(e,t,n,s,o);else if(Tie(e,n,a,t)){var u=Eie(n,a,t,e);$u(e,t,n,s,o),dm(e,t,r,s,o),oC(e,t,u,i,r,s,o)}else dm(e,t,r,s,o),oC(e,t,n,i,r,s,o)}function $u(e,t,n,i,r){i.x=t.settings.margin.left;for(var s=0,o=r;s<o.length;s++){var a=o[s],u=n.cells[a.index];if(!u){i.x+=a.width;continue}e.applyStyles(u.styles),u.x=i.x,u.y=i.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,u,n,a,i);if(d===!1){i.x+=a.width;continue}Pie(e,u,i);var h=u.getTextPos();s_(u.text,h.x,h.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,n,a,i),i.x+=a.width}i.y+=n.height}function Pie(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=u_(i.lineWidth,i.fillColor);r&&e.rect(t.x,n.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),Die(e,t,n,i.lineWidth))}function Die(e,t,n,i){var r,s,o,a;i.top&&(r=n.x,s=n.y,o=n.x+t.width,a=n.y,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.top,r,s,o,a)),i.bottom&&(r=n.x,s=n.y+t.height,o=n.x+t.width,a=n.y+t.height,i.right&&(o+=.5*i.right),i.left&&(r-=.5*i.left),u(i.bottom,r,s,o,a)),i.left&&(r=n.x,s=n.y,o=n.x,a=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),u(i.left,r,s,o,a)),i.right&&(r=n.x+t.width,s=n.y,o=n.x+t.width,a=n.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(a+=.5*i.bottom),u(i.right,r,s,o,a));function u(d,h,p,g,m){e.getDocument().setLineWidth(d),e.getDocument().line(h,p,g,m,"S")}}function y_(e,t,n,i){var r=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(r+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-r}function dm(e,t,n,i,r,s){r===void 0&&(r=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(a){return $u(e,t,a,i,r)}),t.callEndPageHooks(e,i);var o=t.settings.margin;l_(e,t,n,i),b_(e),t.pageNumber++,i.x=o.left,i.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return $u(e,t,a,i,r)}),e.applyStyles(e.userStyles))}function b_(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function Fie(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],r=f_(this,i),s=m_(this,r);return v_(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,r){s_(t,n,i,r,this)},e.API.autoTableSetDefaults=function(t){return rp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){rp.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new rp(this),s=h_(r,t,window,n,!1),o=s.head,a=s.body,u=((i=o[0])===null||i===void 0?void 0:i.map(function(d){return d.content}))||[];return{columns:u,rows:a,data:a}}}var v2;function C_(e,t){var n=f_(e,t),i=m_(e,n);v_(e,i)}try{if(typeof window<"u"&&window){var NN=window,ON=NN.jsPDF||((v2=NN.jspdf)===null||v2===void 0?void 0:v2.jsPDF);ON&&Fie(ON)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Lie="https://i.ibb.co.com/yGz1JpX/825159-preview.jpg",w_=({name:e,email:t,order:n,userPhone:i,address:r})=>{const s=new Bt("p","mm","a4");s.addImage(Lie,"PNG",10,10,40,20),s.setFontSize(20),s.text("MY SHOP",105,20,{align:"center"}),s.setFontSize(12),s.text(`Invoice #${n._id}`,14,40),s.setFontSize(12),s.text(`User: ${e||"Unknown"}`,14,50),s.text(`Email: ${t||"N/A"}`,14,60),s.text(`Phone: ${i||"N/A"}`,14,70);const u=(r==null?void 0:r.addressLine1)||"N/A",d=(r==null?void 0:r.addressLine2)||"",h=(r==null?void 0:r.city)||"N/A",p=(r==null?void 0:r.state)||"N/A",g=(r==null?void 0:r.zipCode)||"N/A";s.text(`Address: ${u}, ${d}, ${h}, ${p} - ${g}`,14,80),s.text(`Status: ${n.status}`,14,90);const m=["Product","Quantity","Price","Total"],y=n.products.map(E=>{var F,N,z,B;return[((F=E.productId)==null?void 0:F.name)||"Unknown",E.quantity,`${Xs()} ${((z=(N=E.productId)==null?void 0:N.price)==null?void 0:z.toFixed(2))||"0.00"}`,`${Xs()} ${(E.quantity*(((B=E.productId)==null?void 0:B.price)||0)).toFixed(2)}`]});let w=100;y.length>0&&(C_(s,{startY:w,head:[m],body:y,theme:"grid"}),w=s.lastAutoTable.finalY+10),s.setFontSize(14),s.text(`Total Amount:  ${Xs()} ${n.totalPrice.toFixed(2)}`,14,w);const C=s.internal.pageSize.height-40,A=new Date().toLocaleString();s.setFontSize(10),s.text("Thank you for your purchase!",105,C,{align:"center"}),s.text("MY SHOP",105,C+5,{align:"center"}),s.text("Contact: +91 9876543210",105,C+10,{align:"center"}),s.text("Email: support@myshop.com",105,C+15,{align:"center"}),s.text("Address: Dhaka, Bangladesh",105,C+20,{align:"center"}),s.text(`Generated on: ${A}`,105,C+30,{align:"center"}),s.text("Website: www.nayeemsofr.com",105,C+35,{align:"center"}),s.save(`Invoice_${n._id}.pdf`)},Mie=()=>{var d,h,p,g,m,y,w,x,C;const{id:e}=vR(),{data:t,isLoading:n,error:i}=RG(e),[r]=fR(),[s,o]=M.useState(""),a=async()=>{if(s)try{await r({id:e,status:s}).unwrap(),o("")}catch(A){console.error("Failed to update order status",A)}},u=()=>{var A,E,F;w_({name:(A=t.userId)==null?void 0:A.username,email:(E=t.userId)==null?void 0:E.email,userPhone:(F=t.userId)==null?void 0:F.mobileNumber,order:t,address:t.address})};return n?I.jsx("div",{className:"text-center p-5",children:"Loading..."}):i?I.jsx("div",{className:"text-center text-red-500 p-5",children:"Error loading order."}):I.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-5",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order Details"}),I.jsxs("div",{className:"border-b pb-4 mb-4",children:[I.jsxs("p",{className:"text-gray-600",children:["Order ID: ",I.jsx("span",{className:"font-medium",children:t._id})]}),I.jsxs("p",{className:"text-gray-600",children:["Status:"," ",I.jsx("span",{className:"font-medium text-green-600",children:t.status})]}),I.jsxs("p",{className:"text-gray-600",children:["Total Price:"," ",I.jsxs("span",{className:"font-medium",children:[" ",Xs()," ",t.totalPrice]})]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Update Order Status"}),I.jsxs("div",{className:"flex gap-3 items-center",children:[I.jsxs("select",{value:s,onChange:A=>o(A.target.value),className:"p-2 border rounded-md focus:ring focus:ring-blue-300",children:[I.jsx("option",{value:"",children:"Select Status"}),["pending","shipped","delivered","cancelled","returned","refunded","failed","completed","processing"].map(A=>I.jsx("option",{value:A,children:A},A))]}),I.jsx("button",{onClick:a,className:"bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 transition",children:"Update Status"})]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"User Information"}),I.jsxs("p",{children:["Name: ",(d=t.userId)==null?void 0:d.username]}),I.jsxs("p",{children:["Email: ",(h=t.userId)==null?void 0:h.email]}),I.jsxs("p",{children:["Phone: ",(p=t.userId)==null?void 0:p.mobileNumber]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Shipping Address"}),I.jsxs("p",{children:[(g=t.address)==null?void 0:g.addressLine1,", ",(m=t.address)==null?void 0:m.addressLine2]}),I.jsxs("p",{children:[(y=t.address)==null?void 0:y.city,", ",(w=t.address)==null?void 0:w.state," -"," ",(x=t.address)==null?void 0:x.zipCode]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-lg font-semibold",children:"Ordered Products"}),((C=t.products)==null?void 0:C.length)>0?I.jsx("ul",{className:"divide-y",children:t.products.map(A=>I.jsx("li",{className:"py-3",children:A.productId?I.jsxs("div",{children:[I.jsx("p",{className:"font-medium",children:A.productId.name}),I.jsxs("p",{children:["Price: ",Xs()," ",A.price," | Quantity:"," ",A.quantity]})]}):I.jsx("p",{className:"text-gray-500",children:"Product not found"})},A._id))}):I.jsx("p",{children:"No products found."})]}),I.jsx("div",{className:"mt-6",children:I.jsx("button",{onClick:u,className:"bg-green-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-600 transition",children:"Download Invoice"})})]})},S_=typeof document<"u"?ze.useLayoutEffect:()=>{};function Nie(e){const t=M.useRef(null);return S_(()=>{t.current=e},[e]),M.useCallback((...n)=>{const i=t.current;return i==null?void 0:i(...n)},[])}const vd=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},lh=e=>e&&"window"in e&&e.window===e?e:vd(e).defaultView||window;function Oie(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function kie(e){return Oie(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Iie=!1;function PA(){return Iie}function x_(e,t){if(!PA())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:kie(n)?n=n.host:n=n.parentNode}return!1}const p5=(e=document)=>{var t;if(!PA())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function R_(e){return PA()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function _ie(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Bie(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function A_(e){let t=null;return()=>(t==null&&(t=e()),t)}const Hie=A_(function(){return Bie(/^Mac/i)}),jie=A_(function(){return _ie(/Android/i)});function E_(){let e=M.useRef(new Map),t=M.useCallback((r,s,o,a)=>{let u=a!=null&&a.once?(...d)=>{e.current.delete(o),o(...d)}:o;e.current.set(o,{type:s,eventTarget:r,fn:u,options:a}),r.addEventListener(s,u,a)},[]),n=M.useCallback((r,s,o,a)=>{var u;let d=((u=e.current.get(o))===null||u===void 0?void 0:u.fn)||o;r.removeEventListener(s,d,a),e.current.delete(o)},[]),i=M.useCallback(()=>{e.current.forEach((r,s)=>{n(r.eventTarget,r.type,s,r.options)})},[n]);return M.useEffect(()=>i,[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function Gie(e){return e.mozInputSource===0&&e.isTrusted?!0:jie()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var DA=Z5();const Vie=fd(DA);class T_{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function P_(e){let t=M.useRef({isFocused:!1,observer:null});S_(()=>{const i=t.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=Nie(i=>{e==null||e(i)});return M.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=i.target,s=o=>{t.current.isFocused=!1,r.disabled&&n(new T_("blur",o)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let a=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let zie=!1,xv=null,g5=new Set,hm=new Map,Th=!1,m5=!1;const qie={Tab:!0,Escape:!0};function FA(e,t){for(let n of g5)n(e,t)}function Uie(e){return!(e.metaKey||!Hie()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function aC(e){Th=!0,Uie(e)&&(xv="keyboard",FA("keyboard",e))}function oa(e){xv="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Th=!0,FA("pointer",e))}function D_(e){Gie(e)&&(Th=!0,xv="virtual")}function F_(e){e.target===window||e.target===document||zie||!e.isTrusted||(!Th&&!m5&&(xv="virtual",FA("virtual",e)),Th=!1,m5=!1)}function L_(){Th=!1,m5=!0}function v5(e){if(typeof window>"u"||hm.get(lh(e)))return;const t=lh(e),n=vd(e);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Th=!0,i.apply(this,arguments)},n.addEventListener("keydown",aC,!0),n.addEventListener("keyup",aC,!0),n.addEventListener("click",D_,!0),t.addEventListener("focus",F_,!0),t.addEventListener("blur",L_,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",oa,!0),n.addEventListener("pointermove",oa,!0),n.addEventListener("pointerup",oa,!0)):(n.addEventListener("mousedown",oa,!0),n.addEventListener("mousemove",oa,!0),n.addEventListener("mouseup",oa,!0)),t.addEventListener("beforeunload",()=>{M_(e)},{once:!0}),hm.set(t,{focus:i})}const M_=(e,t)=>{const n=lh(e),i=vd(e);t&&i.removeEventListener("DOMContentLoaded",t),hm.has(n)&&(n.HTMLElement.prototype.focus=hm.get(n).focus,i.removeEventListener("keydown",aC,!0),i.removeEventListener("keyup",aC,!0),i.removeEventListener("click",D_,!0),n.removeEventListener("focus",F_,!0),n.removeEventListener("blur",L_,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",oa,!0),i.removeEventListener("pointermove",oa,!0),i.removeEventListener("pointerup",oa,!0)):(i.removeEventListener("mousedown",oa,!0),i.removeEventListener("mousemove",oa,!0),i.removeEventListener("mouseup",oa,!0)),hm.delete(n))};function Wie(e){const t=vd(e);let n;return t.readyState!=="loading"?v5(e):(n=()=>{v5(e)},t.addEventListener("DOMContentLoaded",n)),()=>M_(e,n)}typeof document<"u"&&Wie();function N_(){return xv!=="pointer"}const $ie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Kie(e,t,n){let i=vd(n==null?void 0:n.target);const r=typeof window<"u"?lh(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?lh(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?lh(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?lh(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||i.activeElement instanceof r&&!$ie.has(i.activeElement.type)||i.activeElement instanceof s||i.activeElement instanceof o&&i.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof a&&!qie[n.key])}function Yie(e,t,n){v5(),M.useEffect(()=>{let i=(r,s)=>{Kie(!!(n!=null&&n.isTextInput),r,s)&&e(N_())};return g5.add(i),()=>{g5.delete(i)}},t)}function Qie(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:r}=e;const s=M.useCallback(u=>{if(u.target===u.currentTarget)return i&&i(u),r&&r(!1),!0},[i,r]),o=P_(s),a=M.useCallback(u=>{const d=vd(u.target),h=d?p5(d):p5();u.target===u.currentTarget&&h===R_(u.nativeEvent)&&(n&&n(u),r&&r(!0),o(u))},[r,n,o]);return{focusProps:{onFocus:!t&&(n||r||i)?a:void 0,onBlur:!t&&(i||r)?s:void 0}}}function Xie(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:r}=e,s=M.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=E_(),u=M.useCallback(p=>{p.currentTarget.contains(p.target)&&s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(p),r&&r(!1))},[n,r,s,a]),d=P_(u),h=M.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const g=vd(p.target),m=p5(g);if(!s.current.isFocusWithin&&m===R_(p.nativeEvent)){i&&i(p),r&&r(!0),s.current.isFocusWithin=!0,d(p);let y=p.currentTarget;o(g,"focus",w=>{if(s.current.isFocusWithin&&!x_(y,w.target)){let x=new T_("blur",new g.defaultView.FocusEvent("blur",{relatedTarget:w.target}));x.target=y,x.currentTarget=y,u(x)}},{capture:!0})}},[i,r,d,o,u]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:u}}}let lC=!1,y2=0;function y5(){lC=!0,setTimeout(()=>{lC=!1},50)}function kN(e){e.pointerType==="touch"&&y5()}function Zie(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",kN):document.addEventListener("touchend",y5),y2++,()=>{y2--,!(y2>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",kN):document.removeEventListener("touchend",y5))}}function Jie(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:i,isDisabled:r}=e,[s,o]=M.useState(!1),a=M.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;M.useEffect(Zie,[]);let{addGlobalListener:u,removeAllGlobalListeners:d}=E_(),{hoverProps:h,triggerHoverEnd:p}=M.useMemo(()=>{let g=(w,x)=>{if(a.pointerType=x,r||x==="touch"||a.isHovered||!w.currentTarget.contains(w.target))return;a.isHovered=!0;let C=w.currentTarget;a.target=C,u(vd(w.target),"pointerover",A=>{a.isHovered&&a.target&&!x_(a.target,A.target)&&m(A,A.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:C,pointerType:x}),n&&n(!0),o(!0)},m=(w,x)=>{let C=a.target;a.pointerType="",a.target=null,!(x==="touch"||!a.isHovered||!C)&&(a.isHovered=!1,d(),i&&i({type:"hoverend",target:C,pointerType:x}),n&&n(!1),o(!1))},y={};return typeof PointerEvent<"u"?(y.onPointerEnter=w=>{lC&&w.pointerType==="mouse"||g(w,w.pointerType)},y.onPointerLeave=w=>{!r&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}):(y.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},y.onMouseEnter=w=>{!a.ignoreEmulatedMouseEvents&&!lC&&g(w,"mouse"),a.ignoreEmulatedMouseEvents=!1},y.onMouseLeave=w=>{!r&&w.currentTarget.contains(w.target)&&m(w,"mouse")}),{hoverProps:y,triggerHoverEnd:m}},[t,n,i,r,a,u,d]);return M.useEffect(()=>{r&&p({currentTarget:a.target},a.pointerType)},[r]),{hoverProps:h,isHovered:s}}function ere(e={}){let{autoFocus:t=!1,isTextInput:n,within:i}=e,r=M.useRef({isFocused:!1,isFocusVisible:t||N_()}),[s,o]=M.useState(!1),[a,u]=M.useState(()=>r.current.isFocused&&r.current.isFocusVisible),d=M.useCallback(()=>u(r.current.isFocused&&r.current.isFocusVisible),[]),h=M.useCallback(m=>{r.current.isFocused=m,o(m),d()},[d]);Yie(m=>{r.current.isFocusVisible=m,d()},[],{isTextInput:n});let{focusProps:p}=Qie({isDisabled:i,onFocusChange:h}),{focusWithinProps:g}=Xie({isDisabled:!i,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:a,focusProps:i?g:p}}var tre=Object.defineProperty,nre=(e,t,n)=>t in e?tre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b2=(e,t,n)=>(nre(e,typeof t!="symbol"?t+"":t,n),n);let ire=class{constructor(){b2(this,"current",this.detect()),b2(this,"handoffState","pending"),b2(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},O_=new ire;function k_(e){return O_.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function rre(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function c0(){let e=[],t={addEventListener(n,i,r,s){return n.addEventListener(i,r,s),t.add(()=>n.removeEventListener(i,r,s))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return t.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return rre(()=>{i.current&&n[0]()}),t.add(()=>{i.current=!1})},style(n,i,r){let s=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:r}),this.add(()=>{Object.assign(n.style,{[i]:s})})},group(n){let i=c0();return n(i),this.add(()=>i.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let i=e.indexOf(n);if(i>=0)for(let r of e.splice(i,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function I_(){let[e]=M.useState(c0);return M.useEffect(()=>()=>e.dispose(),[e]),e}let __=(e,t)=>{O_.isServer?M.useEffect(e,t):M.useLayoutEffect(e,t)};function sre(e){let t=M.useRef(e);return __(()=>{t.current=e},[e]),t}let Nu=function(e){let t=sre(e);return ze.useCallback((...n)=>t.current(...n),[t])};function ore(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function are(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function lre({disabled:e=!1}={}){let t=M.useRef(null),[n,i]=M.useState(!1),r=I_(),s=Nu(()=>{t.current=null,i(!1),r.dispose()}),o=Nu(a=>{if(r.dispose(),t.current===null){t.current=a.currentTarget,i(!0);{let u=k_(a.currentTarget);r.addEventListener(u,"pointerup",s,!1),r.addEventListener(u,"pointermove",d=>{if(t.current){let h=ore(d);i(are(h,t.current.getBoundingClientRect()))}},!1),r.addEventListener(u,"pointercancel",s,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function IN(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Rv(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Rv),i}var b5=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(b5||{}),ure=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ure||{});function LA(){let e=dre();return M.useCallback(t=>cre({mergeRefs:e,...t}),[e])}function cre({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:r,visible:s=!0,name:o,mergeRefs:a}){a=a??hre;let u=B_(t,e);if(s)return Ky(u,n,i,o,a);let d=r??0;if(d&2){let{static:h=!1,...p}=u;if(h)return Ky(p,n,i,o,a)}if(d&1){let{unmount:h=!0,...p}=u;return Rv(h?0:1,{0(){return null},1(){return Ky({...p,hidden:!0,style:{display:"none"}},n,i,o,a)}})}return Ky(u,n,i,o,a)}function Ky(e,t={},n,i,r){let{as:s=n,children:o,refName:a="ref",...u}=C2(e,["unmount","static"]),d=e.ref!==void 0?{[a]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let p={};if(t){let g=!1,m=[];for(let[y,w]of Object.entries(t))typeof w=="boolean"&&(g=!0),w===!0&&m.push(y.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(g){p["data-headlessui-state"]=m.join(" ");for(let y of m)p[`data-${y}`]=""}}if(s===M.Fragment&&(Object.keys(Pf(u)).length>0||Object.keys(Pf(p)).length>0))if(!M.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Pf(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Pf(u)).concat(Object.keys(Pf(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=h.props,m=g==null?void 0:g.className,y=typeof m=="function"?(...C)=>IN(m(...C),u.className):IN(m,u.className),w=y?{className:y}:{},x=B_(h.props,Pf(C2(u,["ref"])));for(let C in p)C in x&&delete p[C];return M.cloneElement(h,Object.assign({},x,p,d,{ref:r(fre(h),d.ref)},w))}return M.createElement(s,Object.assign({},C2(u,["ref"]),s!==M.Fragment&&d,s!==M.Fragment&&p),h)}function dre(){let e=M.useRef([]),t=M.useCallback(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return e.current=n,t}}function hre(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function B_(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):t[r]=i[r];if(t.disabled||t["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[r=>{var s;return(s=r==null?void 0:r.preventDefault)==null?void 0:s.call(r)}]);for(let i in n)Object.assign(t,{[i](r,...s){let o=n[i];for(let a of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...s)}}});return t}function _N(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):t[r]=i[r];for(let i in n)Object.assign(t,{[i](...r){let s=n[i];for(let o of s)o==null||o(...r)}});return t}function MA(e){var t;return Object.assign(M.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Pf(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function C2(e,t=[]){let n=Object.assign({},e);for(let i of t)i in n&&delete n[i];return n}function fre(e){return ze.version.split(".")[0]>="19"?e.props.ref:e.ref}function pre(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let i=(t==null?void 0:t.getAttribute("disabled"))==="";return i&&gre(n)?!1:i}function gre(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let H_=Symbol();function mre(e,t=!0){return Object.assign(e,{[H_]:t})}function NA(...e){let t=M.useRef(e);M.useEffect(()=>{t.current=e},[e]);let n=Nu(i=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return e.every(i=>i==null||(i==null?void 0:i[H_]))?void 0:n}var Hf=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Hf||{});let vre=M.createContext(()=>{});function yre({value:e,children:t}){return ze.createElement(vre.Provider,{value:e},t)}function bre(e,t){return M.useMemo(()=>{var n;if(e.type)return e.type;let i=(n=e.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Cre(e=0){let[t,n]=M.useState(e),i=M.useCallback(u=>n(u),[t]),r=M.useCallback(u=>n(d=>d|u),[t]),s=M.useCallback(u=>(t&u)===u,[t]),o=M.useCallback(u=>n(d=>d&~u),[n]),a=M.useCallback(u=>n(d=>d^u),[n]);return{flags:t,setFlag:i,addFlag:r,hasFlag:s,removeFlag:o,toggleFlag:a}}var wre={},BN,HN;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((BN=process==null?void 0:wre)==null?void 0:BN.NODE_ENV)==="test"&&typeof((HN=Element==null?void 0:Element.prototype)==null?void 0:HN.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Sre=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Sre||{});function xre(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Rre(e,t,n,i){let[r,s]=M.useState(n),{hasFlag:o,addFlag:a,removeFlag:u}=Cre(e&&r?3:0),d=M.useRef(!1),h=M.useRef(!1),p=I_();return __(()=>{var g;if(e){if(n&&s(!0),!t){n&&a(3);return}return(g=void 0)==null||g.call(i,n),Are(t,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(n?(a(3),u(4)):(a(4),u(2)))},run(){h.current?n?(u(3),a(4)):(u(4),a(3)):n?u(1):a(1)},done(){var m;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,u(7),n||s(!1),(m=void 0)==null||m.call(i,n))}})}},[e,n,t,p]),e?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Are(e,{prepare:t,run:n,done:i,inFlight:r}){let s=c0();return Tre(e,{prepare:t,inFlight:r}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Ere(e,i))})}),s.dispose}function Ere(e,t){var n,i;let r=c0();if(!e)return r.dispose;let s=!1;r.add(()=>{s=!0});let o=(i=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?i:[];return o.length===0?(t(),r.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),r.dispose)}function Tre(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}let d0=M.createContext(null);d0.displayName="OpenClosedContext";var $m=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($m||{});function Pre(){return M.useContext(d0)}function Dre({value:e,children:t}){return ze.createElement(d0.Provider,{value:e},t)}function Fre({children:e}){return ze.createElement(d0.Provider,{value:null},e)}var jN;let Lre=(jN=ze.startTransition)!=null?jN:function(e){e()};var Mre=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mre||{}),Nre=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Nre||{});let Ore={0:e=>({...e,disclosureState:Rv(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},OA=M.createContext(null);OA.displayName="DisclosureContext";function kA(e){let t=M.useContext(OA);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,kA),n}return t}let IA=M.createContext(null);IA.displayName="DisclosureAPIContext";function j_(e){let t=M.useContext(IA);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,j_),n}return t}let _A=M.createContext(null);_A.displayName="DisclosurePanelContext";function kre(){return M.useContext(_A)}function Ire(e,t){return Rv(t.type,Ore,e,t)}let _re=M.Fragment;function Bre(e,t){let{defaultOpen:n=!1,...i}=e,r=M.useRef(null),s=NA(t,mre(w=>{r.current=w},e.as===void 0||e.as===M.Fragment)),o=M.useReducer(Ire,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:u},d]=o,h=Nu(w=>{d({type:1});let x=k_(r);if(!x||!u)return;let C=w?w instanceof HTMLElement?w:w.current instanceof HTMLElement?w.current:x.getElementById(u):x.getElementById(u);C==null||C.focus()}),p=M.useMemo(()=>({close:h}),[h]),g=M.useMemo(()=>({open:a===0,close:h}),[a,h]),m={ref:s},y=LA();return ze.createElement(OA.Provider,{value:o},ze.createElement(IA.Provider,{value:p},ze.createElement(yre,{value:h},ze.createElement(Dre,{value:Rv(a,{0:$m.Open,1:$m.Closed})},y({ourProps:m,theirProps:i,slot:g,defaultTag:_re,name:"Disclosure"})))))}let Hre="button";function jre(e,t){let n=M.useId(),{id:i=`headlessui-disclosure-button-${n}`,disabled:r=!1,autoFocus:s=!1,...o}=e,[a,u]=kA("Disclosure.Button"),d=kre(),h=d===null?!1:d===a.panelId,p=M.useRef(null),g=NA(p,t,Nu(V=>{if(!h)return u({type:4,element:V})}));M.useEffect(()=>{if(!h)return u({type:2,buttonId:i}),()=>{u({type:2,buttonId:null})}},[i,u,h]);let m=Nu(V=>{var K;if(h){if(a.disclosureState===1)return;switch(V.key){case Hf.Space:case Hf.Enter:V.preventDefault(),V.stopPropagation(),u({type:0}),(K=a.buttonElement)==null||K.focus();break}}else switch(V.key){case Hf.Space:case Hf.Enter:V.preventDefault(),V.stopPropagation(),u({type:0});break}}),y=Nu(V=>{switch(V.key){case Hf.Space:V.preventDefault();break}}),w=Nu(V=>{var K;pre(V.currentTarget)||r||(h?(u({type:0}),(K=a.buttonElement)==null||K.focus()):u({type:0}))}),{isFocusVisible:x,focusProps:C}=ere({autoFocus:s}),{isHovered:A,hoverProps:E}=Jie({isDisabled:r}),{pressed:F,pressProps:N}=lre({disabled:r}),z=M.useMemo(()=>({open:a.disclosureState===0,hover:A,active:F,disabled:r,focus:x,autofocus:s}),[a,A,F,x,r,s]),B=bre(e,a.buttonElement),k=_N(h?{ref:g,type:B,disabled:r||void 0,autoFocus:s,onKeyDown:m,onClick:w}:{ref:g,id:i,type:B,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:r||void 0,autoFocus:s,onKeyDown:m,onKeyUp:y,onClick:w},C,E,N);return LA()({ourProps:k,theirProps:o,slot:z,defaultTag:Hre,name:"Disclosure.Button"})}let Gre="div",Vre=b5.RenderStrategy|b5.Static;function zre(e,t){let n=M.useId(),{id:i=`headlessui-disclosure-panel-${n}`,transition:r=!1,...s}=e,[o,a]=kA("Disclosure.Panel"),{close:u}=j_("Disclosure.Panel"),[d,h]=M.useState(null),p=NA(t,Nu(A=>{Lre(()=>a({type:5,element:A}))}),h);M.useEffect(()=>(a({type:3,panelId:i}),()=>{a({type:3,panelId:null})}),[i,a]);let g=Pre(),[m,y]=Rre(r,d,g!==null?(g&$m.Open)===$m.Open:o.disclosureState===0),w=M.useMemo(()=>({open:o.disclosureState===0,close:u}),[o.disclosureState,u]),x={ref:p,id:i,...xre(y)},C=LA();return ze.createElement(Fre,null,ze.createElement(_A.Provider,{value:o.panelId},C({ourProps:x,theirProps:s,slot:w,defaultTag:Gre,features:Vre,visible:m,name:"Disclosure.Panel"})))}let qre=MA(Bre),Ure=MA(jre),Wre=MA(zre),w2=Object.assign(qre,{Button:Ure,Panel:Wre});const G_=({orders:e})=>I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 w-full min-w-full max-w-3xl mx-auto",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Details"}),e.map(t=>I.jsx(w2,{as:"div",children:({open:n})=>I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"flex justify-between items-center p-4 cursor-pointer bg-gray-100 rounded-lg mb-2",children:I.jsx(w2.Button,{as:"div",className:"w-full text-left",children:I.jsxs("div",{className:"flex justify-between w-full",children:[I.jsxs("p",{className:"font-semibold",children:["Order ID: ",t._id]}),I.jsx("p",{className:"text-blue-600 font-medium",children:t.status}),I.jsxs("p",{className:"font-medium",children:[Xs()," ",t.totalPrice.toFixed(2)]})]})})}),n&&I.jsxs(w2.Panel,{className:"p-4 bg-gray-50 rounded-lg",children:[I.jsx("h3",{className:"font-semibold mb-2",children:"Products:"}),I.jsx("ul",{className:"list-disc list-inside ml-4",children:t.products.map(i=>I.jsx("li",{className:"mt-2 list-none flex flex-row justify-between items-center bg-white p-2 rounded-lg shadow-md border border-gray-200",children:i.productId?I.jsxs(I.Fragment,{children:[I.jsxs("p",{children:["Product ID: ",i.productId._id]}),I.jsx("p",{className:"font-semibold",children:i.productId.name}),I.jsxs("p",{children:["Quantity: ",i.quantity]}),I.jsxs("p",{children:["Buying Price: ",Xs(),i.productId.buyingPrice.toFixed(2)]}),I.jsxs("p",{children:["Selling Price: ",Xs(),i.price.toFixed(2)]})]}):I.jsx("p",{className:"text-gray-500",children:"Product information not available."})},i._id))})]})]})},t._id))]});G_.propTypes={orders:Yt.arrayOf(Yt.shape({_id:Yt.string.isRequired,status:Yt.string.isRequired,totalPrice:Yt.number.isRequired,products:Yt.arrayOf(Yt.shape({_id:Yt.string.isRequired,productId:Yt.shape({_id:Yt.string,name:Yt.string.isRequired,buyingPrice:Yt.number.isRequired}),quantity:Yt.number.isRequired,price:Yt.number.isRequired})).isRequired})).isRequired};const $re="https://i.ibb.co/yGz1JpX/825159-preview.jpg",Kre=({startDate:e,endDate:t,totalAmount:n,orderCount:i,totalProfit:r,totalLoss:s,orders:o})=>{const a=new Bt("p","mm","a4"),u=40,d=20,h=14;a.addImage($re,"PNG",10,10,u,d),a.setFontSize(20),a.text("MY SHOP - Sales Summary",105,15,{align:"center"}),a.setFontSize(12),a.text(`Total Orders: ${i}`,h,50),a.text(`Total Amount Spent: ${n.toLocaleString("en-BD")}`,h,60),a.text(`Total Profit: ${r.toLocaleString("en-BD")}`,h,70),a.text(`Total Loss: ${s.toLocaleString("en-BD")}`,h,80),e&&t?a.text(`Period: ${e} to ${t}`,h,90):a.text("Period: All Time",h,90),a.text("Order Details:",h,100);const g=new Date().toLocaleString("en-BD",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),m=[...o].sort((E,F)=>E._id.localeCompare(F._id)),y=["Order ID","Product Name","Status","Amount","Profit/Loss"],w=m.flatMap(E=>E.products.map(F=>{const N=F.productId||{},{name:z="Unknown Product",price:B=0,buyingPrice:k=0}=N,V=F.quantity||0,K=(B-k)*V;return[E._id,z,K<0?"Loss":"Profit",`${E.totalPrice.toLocaleString("en-BD")}`,`${Math.abs(K).toLocaleString("en-BD")}`]}));let x=0;C_(a,{startY:110,head:[y],body:w,theme:"grid",columnStyles:{4:{halign:"center"}},didDrawPage:function(){x++;const E=a.internal.pageSize.height,F=a.internal.pageSize.width;a.setFontSize(7),a.text(`Generated on: ${g}`,h,E-10),a.setFontSize(9),a.text(`Page ${x} of ${a.internal.getNumberOfPages()}`,F/2,E-10,{align:"center"}),a.setFontSize(7),a.text("nayeemsoft - www.nayeem.com",F-10,E-10,{align:"right"})}});const C=Math.round(Math.random()*1e5),A=e&&t?`${e}-${t}-${C}.pdf`:`all-time-${C}.pdf`;a.save(A)};function BA({startDate:e,setStartDate:t,endDate:n,setEndDate:i}){return I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 mb-6",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Filter Orders"}),I.jsxs("div",{className:"flex space-x-4 mb-4",children:[I.jsx("input",{type:"date",value:e,onChange:r=>t(r.target.value),className:"border p-2 rounded w-full"}),I.jsx("input",{type:"date",value:n,onChange:r=>i(r.target.value),className:"border p-2 rounded w-full"})]})]})}BA.propTypes={startDate:Yt.string.isRequired,setStartDate:Yt.func.isRequired,endDate:Yt.string.isRequired,setEndDate:Yt.func.isRequired};const Yre=()=>{const e=new Date().toISOString().split("T")[0],[t,n]=M.useState(e),[i,r]=M.useState(""),{data:s,isLoading:o,isError:a}=HC(t&&i?{startDate:t,endDate:i}:{}),u=h=>{if(!Array.isArray(h))return{totalSales:0,totalProfit:0,totalLoss:0};let p=0,g=0,m=0;return h.forEach(y=>{Array.isArray(y.products)&&y.products.forEach(w=>{if(w.productId){const x=w.productId.buyingPrice*w.quantity,C=w.price*w.quantity,A=C-x;p+=C,A>0?g+=A:m+=Math.abs(A)}})}),{totalSales:p,totalProfit:g,totalLoss:m}},d=()=>{const{totalSales:h,totalProfit:p,totalLoss:g}=u(s||[]),m={startDate:t,endDate:i,totalAmount:h,orderCount:s.length,totalProfit:p,totalLoss:g,orders:s};Kre(m)};return o?I.jsx(Xl,{}):a?I.jsx("p",{className:"text-center text-red-500",children:"Error loading orders."}):I.jsxs("div",{className:"container mx-auto p-6",children:[I.jsx(RA,{endDate:i,startDate:t}),I.jsx("div",{className:"flex justify-end mb-4",children:I.jsx("button",{onClick:d,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:"Generate Report"})}),I.jsx(BA,{endDate:i,setEndDate:r,startDate:t,setStartDate:n}),I.jsx("div",{className:"flex justify-end mb-4",children:I.jsxs("select",{value:i,onChange:h=>r(h.target.value),className:"p-2 border rounded-md focus:ring focus:ring-blue-300",children:[I.jsx("option",{value:"",children:"Select Date"}),I.jsx("option",{value:e,children:"Today"}),I.jsx("option",{value:new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],children:"Last 7 Days"}),I.jsx("option",{value:new Date(Date.now()-10*24*60*60*1e3).toISOString().split("T")[0],children:"Last 10 Days"}),I.jsx("option",{value:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],children:"Last 30 Days"})]})}),I.jsx("div",{"data-headlessui-state":s,children:I.jsx(G_,{orders:s})})]})};function Qre(){const[e,t]=M.useState(),[n,i]=M.useState(),r=Zu(),{data:s,isLoading:o,isError:a}=HC(e&&n?{startDate:e,endDate:n}:{}),[u]=fR(),[d,h]=M.useState(null),[p,g]=M.useState(""),[m,y]=M.useState(""),[w,x]=M.useState(""),C=async E=>{if(p)try{await u({id:E,status:p}).unwrap(),h(null),g("")}catch(F){console.error("Failed to update order",F)}};if(o)return I.jsx(Xl,{});if(a)return I.jsx("p",{className:"text-center text-red-500",children:"Failed to fetch orders."});const A=s==null?void 0:s.filter(E=>{const F=!m||E.status===m,N=!w||E._id.toLowerCase().includes(w.toLowerCase());return F&&N});return I.jsxs(ar.div,{className:"min-w-full max-w-5xl mx-auto mt-10 p-8 bg-white rounded-xl shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[I.jsx("h2",{className:"text-3xl font-bold text-gray-700 mb-6 text-center",children:"All Orders"}),I.jsxs("div",{className:"flex justify-between mb-4 ",children:[I.jsxs("select",{value:m,onChange:E=>y(E.target.value),className:"p-2 border rounded-md focus:ring focus:ring-blue-300",children:[I.jsx("option",{value:"",children:"All Orders"}),I.jsx("option",{value:"delivered",children:"Delivered"}),I.jsx("option",{value:"pending",children:"Pending"}),I.jsx("option",{value:"shipped",children:"Shipped"}),I.jsx("option",{value:"cancelled",children:"Cancelled"}),I.jsx("option",{value:"returned",children:"Returned"}),I.jsx("option",{value:"refunded",children:"Refunded"}),I.jsx("option",{value:"failed",children:"Failed"}),I.jsx("option",{value:"completed",children:"Completed"}),I.jsx("option",{value:"processing",children:"Processing"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("input",{type:"text",value:w,onChange:E=>x(E.target.value),placeholder:"Search by Order ID",className:"p-2 border rounded-md mr-2"}),I.jsx(ar.button,{className:"bg-gray-500 text-white px-3 py-2 rounded-lg shadow-md hover:bg-gray-600 transition",whileTap:{scale:.95},onClick:()=>x(""),children:"Clear Search"})]})]}),I.jsx(BA,{endDate:n,setEndDate:i,startDate:e,setStartDate:t}),I.jsx("div",{className:"overflow-x-auto",children:I.jsxs("table",{className:"w-full border-collapse rounded-lg shadow-md overflow-hidden",children:[I.jsx("thead",{children:I.jsxs("tr",{className:"bg-blue-500 text-white",children:[I.jsx("th",{className:"p-3 text-left",children:"Order ID"}),I.jsx("th",{className:"p-3",children:"User"}),I.jsx("th",{className:"p-3",children:"Products"}),I.jsx("th",{className:"p-3",children:"Amount"}),I.jsx("th",{className:"p-3",children:"Status"}),I.jsx("th",{className:"p-3",children:"Actions"})]})}),I.jsx("tbody",{children:A==null?void 0:A.map(E=>{var F;return I.jsxs(ar.tr,{className:"border-b transition hover:bg-gray-100",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[I.jsx("td",{className:"p-3 text-gray-700 font-semibold",children:E._id}),I.jsx("td",{className:"p-3 text-center",children:(F=E.userId)==null?void 0:F.username}),I.jsx("td",{className:"p-3 text-center",children:E.products.map(N=>{var z,B;return I.jsxs("div",{className:"text-sm text-gray-700",children:[(z=N.productId)==null?void 0:z.name," (",N.quantity,")"]},(B=N.productId)==null?void 0:B._id)})}),I.jsxs("td",{className:"p-3 text-center font-semibold",children:[Xs(),E.totalPrice.toFixed(3)]}),I.jsx("td",{className:"p-3 text-center text-blue-600 font-medium",children:E.status}),I.jsxs("td",{className:"p-3 text-center",children:[d===E._id?I.jsxs("div",{className:"flex justify-center items-center gap-2",children:[I.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"p-2 border rounded-md focus:ring focus:ring-blue-300",children:[I.jsx("option",{value:"",children:"Select Status"}),["pending","shipped","delivered","cancelled","returned","refunded","failed","completed","processing"].map(N=>I.jsx("option",{value:N,children:N},N))]}),I.jsx(ar.button,{onClick:()=>C(E._id),className:"bg-blue-500 text-white px-3 py-2 rounded-lg shadow-md hover:bg-blue-600 transition",whileTap:{scale:.95},children:"Update"})]}):I.jsx(ar.button,{onClick:()=>h(E._id),className:"bg-gray-500 text-white px-3 py-2 rounded-lg shadow-md hover:bg-gray-600 transition",whileTap:{scale:.95},children:"Change Status"}),I.jsx(ar.button,{className:"bg-green-500 text-white px-3 py-2 rounded-lg shadow-md hover:bg-green-600 transition ml-2",whileTap:{scale:.95},onClick:()=>r(`/dashboard/orders/${E._id}`),children:"See More"})]})]},E._id)})})]})})]})}var Ph=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const i=(a,u)=>a.forEach(d=>{if(!u.has(d))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(h):h()}),r=this.getListeners(n,t,!1)??new Set,s=new Set(r);s.size>0&&i(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(u):u()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Xre(e,t){return t}function V_(e){return(e==null?void 0:e.getLocaleTextFunc())??Xre}function nc(e,t,n){n==null||typeof n=="string"&&n==""?z_(e,t):ol(e,t,n)}function ol(e,t,n){e.setAttribute(q_(t),n.toString())}function z_(e,t){e.removeAttribute(q_(t))}function q_(e){return`aria-${e}`}function Za(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Zre(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Jre(e){return e.getAttribute("aria-label")}function h0(e,t){nc(e,"label",t)}function C5(e,t){nc(e,"labelledby",t)}function U_(e,t){nc(e,"live",t)}function ese(e,t){nc(e,"atomic",t)}function tse(e,t){nc(e,"relevant",t)}function nse(e,t){nc(e,"disabled",t)}function W_(e,t){nc(e,"hidden",t)}function w5(e,t){ol(e,"expanded",t)}function ise(e,t){ol(e,"setsize",t)}function rse(e,t){ol(e,"posinset",t)}function sse(e,t){ol(e,"rowcount",t)}function $_(e,t){ol(e,"rowindex",t)}function ose(e,t){ol(e,"rowspan",t)}function ase(e,t){ol(e,"colcount",t)}function K_(e,t){ol(e,"colindex",t)}function lse(e,t){ol(e,"colspan",t)}function use(e,t){ol(e,"sort",t)}function cse(e){z_(e,"sort")}function S5(e,t){nc(e,"selected",t)}function dse(e,t){nc(e,"controls",t.id),C5(t,e.id)}function HA(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var S2,x2,R2,A2,E2,x5,R5,T2;function yd(){return S2===void 0&&(S2=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),S2}function Y_(){if(x2===void 0){const e=window;x2=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return x2}function Q_(){return R2===void 0&&(R2=/(firefox)/i.test(navigator.userAgent)),R2}function X_(){return A2===void 0&&(A2=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),A2}function fh(){return E2===void 0&&(E2=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),E2}function A5(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!Q_())?null:t.toString()}function hse(){if(T2!==void 0)return T2;if(!document.body)return-1;let e=1e6;const t=Q_()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),T2=e,e}function fse(){return R5==null&&Z_(),R5}function Z_(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(R5=n,x5=n===0)}function J_(){return x5==null&&Z_(),x5}var Yy,pse="[tabindex], input, select, button, textarea, [href]",e6="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function jA(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,e6),s=Kl(e);return i&&!r&&s}function Ei(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||W_(e,!t)}function gse(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||W_(e,!t)}function Km(e,t){const n="disabled",i=t?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);i(e),r6(e.querySelectorAll("input"),r=>i(r))}function ph(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Gh(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:u,paddingBottom:d,paddingLeft:h,marginTop:p,marginRight:g,marginBottom:m,marginLeft:y,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:w}}function GA(e){const t=Gh(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ym(e){const t=Gh(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function t6(e){const{height:t,marginBottom:n,marginTop:i}=Gh(e);return Math.floor(t+n+i)}function uC(e){const{width:t,marginLeft:n,marginRight:i}=Gh(e);return Math.floor(t+n+i)}function n6(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=Gh(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function cC(){if(typeof Yy=="boolean")return Yy;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Yy=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Yy}function dC(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),Y_()&&!cC()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function hC(e,t,n){n&&(cC()?t*=-1:(yd()||Y_())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function Lo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Dh(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function i6(e){return!!e.offsetParent}function Kl(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!i6(e)||window.getComputedStyle(e).visibility!=="visible")}function Qm(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function mse(e){return e.clientWidth<e.scrollWidth}function vse(e){return e.clientHeight<e.scrollHeight}function fC(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ql(e,t)}function ql(e,t){t=VA(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function fm(e,t){t=VA(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function VA(e){return typeof e=="number"?`${e}px`:e}function zA(e){return e instanceof Node||e instanceof HTMLElement}function yse(e){if(e==null)return[];const t=[];return r6(e,n=>t.push(n)),t}function bse(e,t){if(e)for(let n=0;n<e.length;n++){const i=e[n];t(i.name,i.value)}}function ha(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function r6(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n])}function ic(e,t,n){const r=h6(e).ResizeObserver,s=r?new r(n):null;return s==null||s.observe(t),()=>s==null?void 0:s.disconnect()}function Bu(e){return e==null||e===""?null:e}function ut(e){return e!=null&&e!==""}function di(e){return!ut(e)}function E5(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Xm(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function Cse(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var s6="https://www.ag-grid.com",GN={};function o6(e,t){GN[t]||(e(),GN[t]=!0)}function Fh(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function pm(e,...t){o6(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function sp(e,...t){o6(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var P2=[],D2=!1;function VN(e){P2.push(e),!D2&&(D2=!0,window.setTimeout(()=>{const t=P2.slice();P2.length=0,D2=!1,t.forEach(n=>n())},0))}function $r(e,t,n){let i;return function(...r){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r)},n)}}function zN(e,t){let n=0;return function(...i){const r=this,s=new Date().getTime();s-n<t||(n=s,e.apply(r,i))}}function wse(e,t,n=100,i){const r=new Date().getTime();let s=null,o=!1;const a=()=>{const u=new Date().getTime()-r>n;(e()||u)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var ht="33.1.1",qN=2e3,UN=100,a6="_version_",Db=null,gh=`${s6}/javascript-data-grid`;function Sse(e){Db=e}function xse(e){gh=e}function l6(e,t,n){return(Db==null?void 0:Db.getConsoleMessage(e,t))??[Tse(e,t,n)]}function qA(e,t,n,i){e(`error #${t}`,...l6(t,n,i))}function Rse(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Ase(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Rse(e)),t}function pC(e){return e===void 0?"undefined":e===null?"null":e}function T5(e,t){return`${e}?${t.toString()}`}function Ese(e,t,n){const i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let r=T5(e,t);for(const[s,o]of i){if(s===a6)continue;const a=r.length-n;if(a<=0)break;const u="...",d=a+u.length,h=o.length-d>UN?o.slice(0,o.length-d)+u:o.slice(0,UN)+u;t.set(s,h),r=T5(e,t)}return r}function u6(e,t){const n=new URLSearchParams;if(n.append(a6,ht),t)for(const s of Object.keys(t))n.append(s,Ase(t[s]));const i=`${gh}/errors/${e}`,r=T5(i,n);return r.length<=qN?r:Ese(i,n,qN)}var Tse=(e,t,n)=>{const i=u6(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function st(...e){qA(pm,e[0],e[1])}function kn(...e){qA(sp,e[0],e[1])}function P5(e,t,n){qA(sp,e,t,n)}function Pse(e,t){const n=t[0];return`error #${n} `+l6(n,t[1],e).join(" ")}function td(...e){return Pse(void 0,e)}function c6(e,t){return e.get("rowModelType")===t}function fs(e,t){return c6(e,"clientSide")}function Vh(e,t){return c6(e,"serverSide")}function Yr(e,t){return e.get("domLayout")===t}function mh(e){return mC(e)!==void 0}function d6(e){return typeof e.get("getRowHeight")=="function"}function Dse(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function wp(e,t,n=!1,i){const{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),d6(r)){if(n)return{height:i,estimated:!0};const u={node:t,data:t.data},d=r.getCallback("getRowHeight")(u);if(D5(d))return d===0&&st(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&r.get("masterDetail"))return Fse(r);const o=r.get("rowHeight");return{height:o&&D5(o)?o:i,estimated:!1}}function Fse(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return D5(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function vh(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||di(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(st(24),t.getDefaultRowHeight())}function D5(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function gC(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function Lh(e,t,n,i){const r=e.getDomDataKey();let s=t[r];di(s)&&(s={},t[r]=s),s[n]=i}function zi(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&ut(r)?i=r():n&&(i=n.ownerDocument),i&&ut(i)?i:document}function h6(e){return zi(e).defaultView||window}function Zm(e){return e.eGridDiv.getRootNode()}function Pi(e){return Zm(e).activeElement}function UA(e){let t=null,n=null;try{t=zi(e).fullscreenElement}catch{}finally{t||(t=Zm(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function Lse(e){const t=UA(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function Mse(e){const t=UA(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function Nse(e,t,n){const r=e.getBoundingClientRect().height,s=Lse(n)-2,o=Mse(n)-2;if(!e.offsetParent)return;const u=n6(e.offsetParent),{clientY:d,clientX:h}=t;let p=d-u.top-r/2,g=h-u.left-10;const m=zi(n),y=m.defaultView||window,w=y.pageYOffset||m.documentElement.scrollTop,x=y.pageXOffset||m.documentElement.scrollLeft;s>0&&g+e.clientWidth>s+x&&(g=s+x-e.clientWidth),g<0&&(g=0),o>0&&p+e.clientHeight>o+w&&(p=o+w-e.clientHeight),p<0&&(p=0),e.style.left=`${g}px`,e.style.top=`${p}px`}function f6(e){const t=zi(e),n=Pi(e);return n===null||n===t.body}function op(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function p6(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Yr(e,"print"))}function _l(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function F5(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function Ose(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function WA(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Sp(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(st(25,{id:i}),i=String(i)),i}}function kse(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function Ise(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function ap(e){return(e==null?void 0:e.checkboxes)??!0}function Fb(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function L5(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function F2(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function _se(e){return typeof e.get("rowSelection")!="string"}function dd(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function g6(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Bse(e){const t=g6(e);return t===!0||t==="enableSelection"}function Hse(e){const t=g6(e);return t===!0||t==="enableDeselection"}function M5(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function mC(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function vC(e){return mC(e)==="multiRow"}function jse(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function yC(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function m6(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Jm(e){const t=yC(e);return t==="descendants"||t==="filteredDescendants"}function WN(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function L2(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function To(e){return e.get("columnMenu")==="legacy"}function Gse(e){return!To(e)}function v6(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Vse(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const s=t[r];typeof s<"u"&&(i[r]=s)}),i}function zse(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function _t(e,t){return e.addGridCommonParams(t)}var y6="__ag_Grid_Stop_Propagation",qse=["touchstart","touchend","touchmove","touchcancel","scroll"],Use=["wheel"],M2={};function xp(e){e[y6]=!0}function Hu(e){return e[y6]===!0}var b6=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof M2[n]=="boolean")return M2[n];const i=document.createElement(e[n]||"div");return n="on"+n,M2[n]=n in i}})();function C6(e,t,n){let i=t;for(;i;){const r=gC(e,i,n);if(r)return r;i=i.parentElement}return null}function Wse(e,t){return!t||!e?!1:Kse(t).indexOf(e)>=0}function $se(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Kse(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():$se(t)}function Yse(e,t,n,i){const r=w6(n);let s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s)}var w6=e=>{const t=qse.includes(e),n=Use.includes(e);if(t)return!0;if(n)return!1},Ve=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Ph),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return Qse(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Yse(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return V_(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Qse(e){return e.__addEventListener!==void 0}var S6=new Set(["__proto__","constructor","prototype"]);function Xse(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function Zs(e,t,n=!0,i=!1){ut(t)&&Xse(t,(r,s)=>{if(S6.has(r))return;let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),$N(s)&&$N(o)&&!Array.isArray(o)?Zs(o,s,n,i):(n||s!==void 0)&&(e[r]=s))})}function gm(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]]}return r}function $N(e){return typeof e=="object"&&e!==null}var Zse=/[&<>"']/g,Jse={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ju(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(Zse,i=>Jse[i])}var eoe={resizable:!0,sortable:!0},toe=0;function x6(){return toe++}function hd(e){return e instanceof $A}var $A=class extends Ve{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=x6(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Ph,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=ju(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t==null||t.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n==null||n.initCol(this),i==null||i.initCol(this)}setColDef(e,t,n){var r;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((r=this.beans.rowSpanSvc)==null||r.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ut(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ut(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,r,s;this.frameworkEventListenerService=(r=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(i,this.frameworkEventListenerService,this.colEventSvc);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return _t(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??eoe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return _t(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return di(this.sort)}isSorting(){return ut(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return st(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return _t(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(di(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(di(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&Zs(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ks(e){return e instanceof Lb}var Lb=class extends Ve{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=x6(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{hd(t)?e.push(t):ks(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){const a=i[s];if(!a.isVisible())continue;const u=a.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{ks(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},noe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ioe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=E5(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},KN=Object.freeze([]);function On(e){if(e!=null&&e.length)return e[e.length-1]}function zh(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function roe(e){return e.sort((t,n)=>t-n)}function Ja(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function YN(e,t,n){for(let i=0;i<t.length;i++)Ja(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var f0="ag-Grid-AutoColumn",R6="ag-Grid-SelectionColumn",soe="ag-Grid-RowNumbersColumn";function A6(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const s=i[r];hd(s)?t.push(s):ks(s)&&n(s.getChildren())}};return n(e),t}function Lu(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function bC(e,t,n){const i={};if(!t)return;Gu(null,t,s=>{i[s.getInstanceId()]=s}),n&&Gu(null,n,s=>{i[s.getInstanceId()]=null});const r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r)}function KA(e){return e.getId().startsWith(f0)}function Ku(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(R6))??!1}function Av(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(soe))??!1}function CC(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function ooe(e,t){return zh(e,t,(n,i)=>n.getColId()===i.getColId())}function aoe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function lp(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function E6(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var loe=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),ut(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),ut(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function uoe(e,t=null,n,i,r){const s=new ioe,{existingCols:o,existingGroups:a,existingColKeys:u}=coe(i);s.addExistingKeys(u);const d=T6(e,t,0,n,o,s,a,r),{colGroupSvc:h}=e,p=(h==null?void 0:h.findMaxDepth(d,0))??0,g=h?h.balanceColumnTree(d,0,p,s):d;return Gu(null,g,(y,w)=>{ks(y)&&y.setupExpandable(),y.originalParent=w}),{columnTree:g,treeDept:p}}function coe(e){const t=[],n=[],i=[];return e&&Gu(null,e,r=>{if(ks(r)){const s=r;n.push(s)}else{const s=r;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function T6(e,t,n,i,r,s,o,a){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let h=0;h<d.length;h++){const p=t[h];u&&moe(p)?d[h]=u.createProvidedColumnGroup(i,p,n,r,s,o,a):d[h]=doe(e,i,p,r,s,a)}return d}function doe(e,t,n,i,r,s){var u;const o=foe(n,i);o&&(i==null||i.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const d=N5(e,n,a.getColId());a.setColDef(d,n,s),hoe(e,a,d,s)}else{const d=r.getUniqueKey(n.colId,n.field),h=N5(e,n,d);a=new $A(h,n,d,t),e.context.createBean(a)}return(u=e.dataTypeSvc)==null||u.addColumnListeners(a),a}function P6(e,t,n,i,r,s,o,a){const{sortSvc:u,pinnedCols:d,colFlex:h}=e;n!==void 0&&t.setVisible(!n,a),u&&(u.updateColSort(t,i,a),r!==void 0&&u.setColSortIndex(t,r)),s!==void 0&&(d==null||d.setColPinned(t,s)),o!==void 0&&(h==null||h.setColFlex(t,o))}function hoe(e,t,n,i){P6(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function foe(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function N5(e,t,n,i){const{gos:r,dataTypeSvc:s,validation:o}=e,a={},u=r.get("defaultColDef");Zs(a,u,!1,!0);const d=poe(e,a,t,n);d&&goe(e,d,a),Zs(a,t,!1,!0);const h=r.get("autoGroupColumnDef"),p=_l(r);return t.rowGroup&&h&&p&&Zs(a,{sort:h.sort,initialSort:h.initialSort},!1,!0),s==null||s.validateColDef(a),o==null||o.validateColDef(a,n,i),a}function poe(e,t,n,i){var o;const r=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?CC(s):void 0}function goe(e,t,n){if(!t.length)return;const i=Object.assign({},noe),r=e.gos.get("columnTypes")||{};for(const s of Object.keys(r)){const o=r[s];s in i?st(34,{key:s}):(o.type&&st(35),i[s]=o)}t.forEach(s=>{const o=i[s.trim()];o?Zs(n,o,!1,!0):st(36,{t:s})})}function moe(e){return e.children!==void 0}function Gu(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];ks(r)&&Gu(r,r.getChildren(),n),n(r,e)}}function D6(e,t){const n=[],i=[],r=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?r.push(o):a==="left"||a===!0?n.push(o):i.push(o)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function F6(e,t){let n=!0;return Gu(null,t,i=>{if(!ks(i))return;const r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];r.getLeafColumns().forEach(g=>{const m=e.indexOf(g);a.push(m)});const u=Math.max.apply(Math,a),d=Math.min.apply(Math,a),h=u-d,p=r.getLeafColumns().length-1;h>p&&(n=!1)}),n}function L6(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function M6(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=L6(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function voe(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=L6(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function yoe(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function Rp(e,t,n,i,r=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function fa(e,t,n){var F;const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:u,visibleCols:d,pivotResultCols:h,environment:p,valueColsSvc:g,eventSvc:m,gos:y}=e,w=i.getColDefCols()||[];if(!(w!=null&&w.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return st(32),!1;const x=(N,z,B,k,V)=>{if(!N)return;const K=loe(z,t.defaultState),T=K("flex").value1;if(P6(e,N,K("hide").value1,K("sort").value1,K("sortIndex").value1,K("pinned").value1,T,n),T==null){const O=K("width").value1;if(O!=null){const H=N.getColDef().minWidth??p.getDefaultColumnMinWidth();H!=null&&O>=H&&N.setActualWidth(O,n)}}V||!N.isPrimary()||(g==null||g.syncColumnWithState(N,n,K),r==null||r.syncColumnWithState(N,n,K,B),s==null||s.syncColumnWithState(N,n,K,k))},C=(N,z,B)=>{var U,de;const k=N6(e,n),V=z.slice(),K={},T={},O=[],H=[],q=[];let ee=0;const $=(r==null?void 0:r.columns.slice())??[],W=(s==null?void 0:s.columns.slice())??[];N.forEach(j=>{const X=j.colId;if(X.startsWith(f0)){O.push(j),q.push(j);return}if(Ku(X)){H.push(j),q.push(j);return}const re=B(X);re?(x(re,j,K,T,!1),Ja(V,re)):(q.push(j),ee+=1)});const Q=j=>x(j,null,K,T,!1);V.forEach(Q),r==null||r.sortColumns(QN.bind(r,K,$)),s==null||s.sortColumns(QN.bind(s,T,W)),i.refreshCols(!1);const ue=(j,X,Z=[])=>{X.forEach(re=>{const ce=j(re.colId);Ja(Z,ce),x(ce,re,null,null,!0)}),Z.forEach(Q)};return ue(j=>(o==null?void 0:o.getColumn(j))??null,O,(U=o==null?void 0:o.getColumns())==null?void 0:U.slice()),ue(j=>(a==null?void 0:a.getColumn(j))??null,H,(de=a==null?void 0:a.getColumns())==null?void 0:de.slice()),Coe(t,i,y),d.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),k(),{unmatchedAndAutoStates:q,unmatchedCount:ee}};u==null||u.start();let{unmatchedAndAutoStates:A,unmatchedCount:E}=C(t.state||[],w,N=>i.getColDefCol(N));if(A.length>0||ut(t.defaultState)){const N=((F=h==null?void 0:h.getPivotResultCols())==null?void 0:F.list)??[];E=C(A,N,z=>(h==null?void 0:h.getPivotResultCol(z))??null).unmatchedCount}return u==null||u.finish(),E===0}function boe(e,t){const{colModel:n,autoColSvc:i}=e,r=n.getColDefCols();if(!(r!=null&&r.length))return;const s=n.getColDefColTree(),o=A6(s),a=[];let u=1e3,d=1e3,h=[];const p=i==null?void 0:i.getColumns();p&&(h=h.concat(p)),o&&(h=h.concat(o)),h.forEach(g=>{const m=O6(g);di(m.rowGroupIndex)&&m.rowGroup&&(m.rowGroupIndex=u++),di(m.pivotIndex)&&m.pivot&&(m.pivotIndex=d++),a.push(m)}),fa(e,{state:a,applyOrder:!0},t)}function N6(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:a}=e,u={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(r==null?void 0:r.columns.slice())??[]},d=ev(e),h={};return d.forEach(p=>{h[p.colId]=p}),()=>{const p=s.getAllCols(),g=(B,k,V,K)=>{const T=k.map(K),O=V.map(K);if(zh(T,O))return;const q=new Set(k);V.forEach($=>{q.delete($)||q.add($)});const ee=[...q];a.dispatchEvent({type:B,columns:ee,column:ee.length===1?ee[0]:null,source:t})},m=B=>{const k=[];return p.forEach(V=>{const K=h[V.getColId()];K&&B(K,V)&&k.push(V)}),k},y=B=>B.getColId();g("columnRowGroupChanged",u.rowGroupColumns,(n==null?void 0:n.columns)??[],y),g("columnPivotChanged",u.pivotColumns,(i==null?void 0:i.columns)??[],y);const x=m((B,k)=>{const V=B.aggFunc!=null,K=V!=k.isValueActive(),T=V&&B.aggFunc!=k.getAggFunc();return K||T});x.length>0&&yoe(a,"columnValueChanged",x,t),Rp(a,m((B,k)=>B.width!=k.getActualWidth()),!0,t),M6(a,m((B,k)=>B.pinned!=k.getPinned()),t),voe(a,m((B,k)=>B.hide==k.isVisible()),t);const N=m((B,k)=>B.sort!=k.getSort()||B.sortIndex!=k.getSortIndex());N.length>0&&(o==null||o.dispatchSortChangedEvents(t,N));const z=ev(e);Soe(d,z,t,s,a)}}function ev(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(di(r)||!t.isAlive())return[];const s=t.getAllCols(),o=n==null?void 0:n.columns,a=i==null?void 0:i.columns,u=p=>{const g=p.isRowGroupActive()&&o?o.indexOf(p):null,m=p.isPivotActive()&&a?a.indexOf(p):null,y=p.isValueActive()?p.getAggFunc():null,w=p.getSort()!=null?p.getSort():null,x=p.getSortIndex()!=null?p.getSortIndex():null;return{colId:p.getColId(),width:p.getActualWidth(),hide:!p.isVisible(),pinned:p.getPinned(),sort:w,sortIndex:x,aggFunc:y,rowGroup:p.isRowGroupActive(),rowGroupIndex:g,pivot:p.isPivotActive(),pivotIndex:m,flex:p.getFlex()??null}},d=s.map(p=>u(p)),h=new Map(t.getCols().map((p,g)=>[p.getColId(),g]));return d.sort((p,g)=>{const m=h.has(p.colId)?h.get(p.colId):-1,y=h.has(g.colId)?h.get(g.colId):-1;return m-y}),d}function O6(e){const t=(y,w)=>y??w??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),u=t(n.flex,n.initialFlex);let d=t(n.rowGroupIndex,n.initialRowGroupIndex),h=t(n.rowGroup,n.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);let p=t(n.pivotIndex,n.initialPivotIndex),g=t(n.pivot,n.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:a,flex:u,rowGroup:h,rowGroupIndex:d,pivot:g,pivotIndex:p,aggFunc:m}}function Coe(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),woe(t.cols,i,t,n)}function woe(e,t,n,i){if(e==null)return;let r=[];const s={};t.forEach(a=>{if(s[a])return;const u=e.map[a];u&&(r.push(u),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const u=a.getColId();if(s[u]!=null)return;u.startsWith(f0)?r.splice(o++,0,a):r.push(a)}),r=D6(r,i),!F6(r,n.getColTree())){st(39);return}e.list=r}function Soe(e,t,n,i,r){const s={};t.forEach(h=>s[h.colId]=h);const o={};e.forEach(h=>{s[h.colId]&&(o[h.colId]=!0)});const a=e.filter(h=>o[h.colId]),u=t.filter(h=>o[h.colId]),d=[];u.forEach((h,p)=>{const g=a&&a[p];if(g&&g.colId!==h.colId){const m=i.getCol(g.colId);m&&d.push(m)}}),d.length&&r.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var QN=(e,t,n,i)=>{const r=e[n.getId()],s=e[i.getId()],o=r!=null,a=s!=null;if(o&&a)return r-s;if(o)return-1;if(a)return 1;const u=t.indexOf(n),d=t.indexOf(i),h=u>=0,p=d>=0;return h&&p?u-d:h?-1:1},xoe=class extends Ve{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(lp(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),lp(e.source)))}createColsFromColDefs(e){var A,E,F;const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,colViewport:u,eventSvc:d}=t,h=this.colDefs?N6(t,e):void 0;n==null||n.expire();const p=(A=this.colDefCols)==null?void 0:A.list,g=(E=this.colDefCols)==null?void 0:E.tree,m=uoe(t,this.colDefs,!0,g,e);bC(t,(F=this.colDefCols)==null?void 0:F.tree,m.columnTree);const y=m.columnTree,w=m.treeDept,x=A6(y),C={};x.forEach(N=>C[N.getId()]=N),this.colDefCols={tree:y,treeDepth:w,list:x,map:C},r==null||r.extractCols(e,p),s==null||s.extractCols(e,p),o==null||o.extractCols(e,p),this.ready=!0,this.refreshCols(!0),a.refresh(e),u.checkViewportColumns(),d.dispatchEvent({type:"columnEverythingChanged",source:e}),h&&(this.changeEventsDispatching=!0,h(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var w;if(!this.colDefCols)return;const t=(w=this.cols)==null?void 0:w.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:u,visibleCols:d,colViewport:h,eventSvc:p}=this.beans,g=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,i,r],g);const m=Dse(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(g),this.positionLockedCols(g),a==null||a.refresh(),s==null||s.refreshCols(),this.setColSpanActive(),u==null||u.setAutoHeightActive(g),d.clear(),h.clear(),!zh(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:{...i},tree:s.slice(),treeDepth:o},n&&(n.list.some(u=>{var d;return((d=this.cols)==null?void 0:d.map[u.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(r=>{const s=KA(r);if(e){const o=t==null?void 0:t.includes(r);return s||o}else return s||r.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){fa(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=new Map(t.map((d,h)=>[d,h]));if(!e.list.some(d=>n.has(d)))return;const r=new Map(e.list.map(d=>[d,!0])),s=t.filter(d=>r.has(d)),o=new Map(s.map(d=>[d,!0])),a=e.list.filter(d=>!o.has(d)),u=s.slice();a.forEach(d=>{let h=d.getOriginalParent();if(!h){u.push(d);return}const p=[];for(;!p.length&&h;)h.getLeafColumns().forEach(w=>{const x=u.indexOf(w)>=0,C=p.indexOf(w)<0;x&&C&&p.push(w)}),h=h.getOriginalParent();if(!p.length){u.push(d);return}const g=p.map(y=>u.indexOf(y)),m=Math.max(...g);u.splice(m+1,0,d)}),e.list=u}positionLockedCols(e){e.list=D6(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=lp(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;bC(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var r,s,o,a;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:n}=this.beans,i=(r=e==null?void 0:e.getPivotResultCols())==null?void 0:r.list;return[((s=this.colDefCols)==null?void 0:s.list)??[],((o=t==null?void 0:t.columns)==null?void 0:o.list)??[],((a=n==null?void 0:n.columns)==null?void 0:a.list)??[],i??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var r,s;if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let o=0;o<i.length;o++)if(E6(i[o],e))return i[o];return((r=this.beans.autoColSvc)==null?void 0:r.getColumn(e))??((s=this.beans.selectionColSvc)==null?void 0:s.getColumn(e))??null}},k6=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Bp=class extends Ve{};function Ev(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Tv=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},Roe=0,Lt=null,hi=class extends Ve{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Roe++,this.cssClassManager=new Tv(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,i;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(i=this.css)==null||i.forEach(r=>this.beans.environment.addGlobalCSS(r,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===Lt)this[t]=i??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){yse(e.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,s=>{s.getGui()&&this.copyAttributesFromNode(i,s.getGui())},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);r.addItems(s)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null;let a=null;if(o){const u=n&&r?n[r]:void 0;a=new o.component(u),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}copyAttributesFromNode(e,t){bse(e.attributes,(n,i)=>t.setAttribute(n,i))}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){const i=Qm(e);this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const s=t[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),zA(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;gse(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ei(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},ci=class Xg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Xg(n=>{let i=t.length;const r=new Array(i);t.forEach((s,o)=>{s.then(a=>{r[o]=a,i--,i===0&&n(r)})})}):Xg.resolve()}static resolve(t=null){return new Xg(n=>n(t))}then(t){return new Xg(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function Aoe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function I6(e,t,n,i){const{name:r}=n;let s,o,a,u,d,h;if(t){const p=t,g=p[r+"Selector"],m=g?g(i):null,y=w=>{typeof w=="string"?s=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};m?(y(m.component),u=m.params,d=m.popup,h=m.popupPosition):y(p[r])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}}var Eoe=class extends Ve{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){var A;const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:u,fwComp:d,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:g}=I6(this.beans.frameworkOverrides,e,t,i),m;const y=E=>{const F=this.registry.getUserComponent(s,E);F&&(u=F.componentFromFramework?void 0:F.component,d=F.componentFromFramework?F.component:void 0,m=F.params)};if(a!=null&&y(a),u==null&&d==null&&n!=null&&y(n),u&&o&&!Aoe(u)&&(u=(A=this.agCompUtils)==null?void 0:A.adaptFunction(t,u)),!u&&!d){const{validation:E}=this.beans;r&&(a!==n||!n)?a?E!=null&&E.isProvidedUserComp(a)||kn(50,{compName:a}):n?E||kn(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):kn(216,{name:s}):n&&!E&&kn(146,{comp:n});return}const w=this.mergeParams(e,t,i,h,m),x=u==null,C=u??d;return{componentFromFramework:x,componentClass:C,params:w,type:t,popupFromSelector:p,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(C,x,w,t)}}newAgStackInstance(e,t,n,i){var a;const r=!t;let s;r?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const o=(a=s.init)==null?void 0:a.call(s,n);return o==null?ci.resolve(s):o.then(()=>s)}mergeParams(e,t,n,i=null,r){const s={...n,...r},o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){const u=a(n);Zs(s,u)}else typeof a=="object"&&Zs(s,a);return Zs(s,i),s}},Toe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Poe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Doe={name:"headerComponent",optionalMethods:["refresh"]},Foe={name:"innerHeaderComponent"},Loe={name:"innerHeaderGroupComponent"},Moe={name:"headerGroupComponent"},Noe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ooe={name:"loadingCellRenderer",cellRenderer:!0},koe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Ioe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},_oe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},Boe={name:"tooltipComponent"},YA={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Hoe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},joe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Goe={name:"loadingCellRenderer",cellRenderer:!0},Voe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},zoe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function qoe(e,t){return e.getCompDetailsFromGridOptions(Poe,"agDragAndDropImage",t,!0)}function Uoe(e,t,n){return e.getCompDetails(t,Doe,"agColumnHeader",n)}function Woe(e,t,n){return e.getCompDetails(t,Foe,void 0,n)}function $oe(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Moe,"agColumnGroupHeader",t)}function Koe(e,t,n){return e.getCompDetails(t,Loe,void 0,n)}function Yoe(e,t){return e.getCompDetailsFromGridOptions(joe,void 0,t,!0)}function Qoe(e,t){return e.getCompDetailsFromGridOptions(Goe,"agLoadingCellRenderer",t,!0)}function Xoe(e,t){return e.getCompDetailsFromGridOptions(Voe,"agGroupRowRenderer",t,!0)}function Zoe(e,t){return e.getCompDetailsFromGridOptions(zoe,"agDetailCellRenderer",t,!0)}function Joe(e,t,n){return e.getCompDetails(t,Noe,void 0,n)}function eae(e,t,n){return e.getCompDetails(t,Ooe,"agSkeletonCellRenderer",n,!0)}function XN(e,t,n){return e.getCompDetails(t,koe,"agCellEditor",n,!0)}function tae(e,t,n,i){return e.getCompDetails(t,YA,i,n,!0)}function nae(e,t){return e.getCompDetailsFromGridOptions(Toe,"agDateInput",t,!0)}function iae(e,t){return e.getCompDetailsFromGridOptions(Ioe,"agLoadingOverlay",t,!0)}function rae(e,t){return e.getCompDetailsFromGridOptions(_oe,"agNoRowsOverlay",t,!0)}function sae(e,t){return e.getCompDetails(t.colDef,Boe,"agTooltipComponent",t,!0)}function oae(e,t,n,i){return e.getCompDetails(t,Hoe,i,n)}function aae(e,t){return I6(e,t,YA)}function lae(e,t,n){return e.mergeParams(t,YA,n)}function tv(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var _6=new Set,wC={},yh={},Mb,B6=!1,uae=!1;function cae(e){const[t,n]=e.version.split(".")||[],[i,r]=Mb.split(".")||[];return t===i&&n===r}function dae(e){Mb||(Mb=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?cae(e)||sp(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Mb}.`)):sp(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||sp(`${n.message}`)}}function nv(e,t){dae(e);const n=e.rowModels??["all"];_6.add(e);let i;t!==void 0?(B6=!0,yh[t]===void 0&&(yh[t]={}),i=yh[t]):i=wC,n.forEach(r=>{i[r]===void 0&&(i[r]={}),i[r][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(r=>nv(r,t))}function hae(e){delete yh[e]}function H6(e,t,n){const i=r=>{var s,o,a;return!!((s=wC[r])!=null&&s[e])||!!((a=(o=yh[t])==null?void 0:o[r])!=null&&a[e])};return i(n)||i("all")}function QA(){return B6}function fae(e,t){const n=yh[e]??{};return[...Object.values(wC.all??{}),...Object.values(n.all??{}),...Object.values(wC[t]??{}),...Object.values(n[t]??{})]}function pae(){return new Set(_6)}function gae(e,t){const n=yh[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function mae(){return uae}var vae=class{static register(e){nv(e,void 0)}static registerModules(e){e.forEach(t=>nv(t,void 0))}},yae=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const i=new n;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:i,bean:r}=n(this);this.beans[i]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var i,r;(i=n.preWireBeans)==null||i.call(n,this.beans),(r=n.wireBeans)==null||r.call(n,this.beans)}),e.forEach(n=>{var i;return(i=n.preConstruct)==null?void 0:i.call(n)}),t&&e.forEach(t),e.forEach(n=>{var i;return(i=n.postConstruct)==null?void 0:i.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},bae=class extends yae{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),hae(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},Cae="ag-column-first",wae="ag-column-last";function j6(e,t,n,i){return di(e)?[]:xae(e.headerClass,e,t,n,i)}function G6(e,t,n){e.addOrRemoveCssClass(Cae,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(wae,n.isColAtEdge(t,"last"))}function Sae(e,t,n,i){return _t(t,{colDef:e,column:n,columnGroup:i})}function xae(e,t,n,i,r){if(di(e))return[];let s;if(typeof e=="function"){const o=Sae(t,n,i,r);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function rc(e,t){const n=h6(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var Rae=class extends Ve{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:n}=this.beans,i=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){const r=(n==null?void 0:n.getCurrentPage())??0;r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&st(92,{methodName:e})}createTask(e,t,n){this.verifyAnimationFrameOn(n);const i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,i=this.createTasksP2,r=i.list,s=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const u=e<=0,d=this.beans.ctrlsSvc.getScrollFeature();for(;u||a<e;){if(!d.scrollGridIfNeeded()){let p;if(n.length)this.sortTaskList(t),p=n.pop().task;else if(r.length)this.sortTaskList(i),p=r.pop().task;else if(s.length)p=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}a=new Date().getTime()-o}n.length||r.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);rc(this.beans,e)}isQueueEmpty(){return!this.ticking}},je={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},O5=!1,SC=0;function Aae(e){SC>0||(e.addEventListener("keydown",xC),e.addEventListener("mousedown",xC))}function Eae(e){SC>0||(e.removeEventListener("keydown",xC),e.removeEventListener("mousedown",xC))}function xC(e){const t=O5,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(O5=n)}function Tae(e){const t=zi(e);return Aae(t),SC++,()=>{SC--,Eae(t)}}function Pae(){return O5}function Dae(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===je.TAB){const r=i.shiftKey;qh(e,n,!1,r)||Ap(e,r)&&i.preventDefault()}}})}function up(e,t,n=!1){const i=pse;let r=e6;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>Kl(u)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((u,d)=>u.filter(h=>d.indexOf(h)===-1))(s,o):s}function Mh(e,t=!1,n=!1,i=!1){const r=up(e,i?".ag-tab-guard":null,n),s=t?On(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}function qh(e,t,n,i){const r=up(t,n?':not([tabindex="-1"])':null),s=Pi(e);let o;n?o=r.findIndex(u=>u.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}function V6(e,t=5){let n=0;for(;e&&A5(e)===null&&++n<=t;)e=e.parentElement;return A5(e)===null?null:e}function Fae(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function bh(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function p0(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Ap(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function Lae(e,t=!1){return e===je.DELETE?!0:!t&&e===je.BACKSPACE?X_():!1}var Mae=class extends Ve{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case je.ENTER:this.onEnterKeyDown(e);break;case je.F2:this.onF2KeyDown(e);break;case je.ESCAPE:this.onEscapeKeyDown(e);break;case je.TAB:this.onTabKeyDown(e);break;case je.BACKSPACE:case je.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case je.DOWN:case je.UP:case je.RIGHT:case je.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(n==null||n.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var u;const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:a}=i;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),Lae(e,s.get("enableCellEditingOnBackspace"))){if(o&&dd(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:d}=n,h=this.beans.valueSvc.getDeleteValue(d,r);r.setDataValue(d,h,"cellClear")}}else(u=i.editSvc)==null||u.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,r;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const s=e.shiftKey?je.UP:je.DOWN;(i=n.navigation)==null||i.navigateToNextCell(null,s,t.cellPosition,!1)}else(r=n.editSvc)==null||r.startRowOrCellEdit(t,je.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing||(i=n.editSvc)==null||i.startRowOrCellEdit(t,je.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing&&((i=n.editSvc)==null||i.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var r;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===je.SPACE?this.onSpaceKeyDown(e):(r=this.beans.editSvc)!=null&&r.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&mh(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},Nae=class extends Ve{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Hu(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var d;if((d=this.beans.touchSvc)!=null&&d.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:i,editSvc:r}=this.beans,s=e.ctrlKey||e.metaKey;n&&s&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(i.get("singleClickEdit")||a.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(r==null||r.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,gos:o,editSvc:a}=n,u=t.getColDef(),d=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(d),typeof u.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{u.onCellDoubleClicked(d)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:u,rowNumbersSvc:d,focusSvc:h,gos:p}=o;if(this.isRightClickInExistingRange(e))return;const g=u&&!u.isEmpty(),m=this.containsWidget(r),{cellPosition:y}=s,w=Av(y.column);if(d&&w&&!d.handleMouseDownOnCell(y,e)){u&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!g){const C=p.get("enableCellTextSelection")&&e.defaultPrevented,A=(yd()||C)&&!s.editing&&!jA(r)&&!m;s.focusCell(A)}if(i&&g&&!h.isCellFocused(y)){e.preventDefault();const x=h.getFocusedCell();if(x){const{column:C,rowIndex:A,rowPinned:E}=x,F=o.rowRenderer.getRowByPosition({rowIndex:A,rowPinned:E}),N=F==null?void 0:F.getCellCtrl(C);N!=null&&N.editing&&N.stopEditing(),h.setFocusedCell({column:C,rowIndex:A,rowPinned:E,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!m){if(u)if(w&&e.preventDefault(),i)u.extendLatestRangeToCell(y);else{const x=t||n;u.setRangeToCell(y,x)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return ph(e,"ag-selection-checkbox",3)||ph(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){super.destroy()}},Oae=class extends Ve{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();zh(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||di(r)||s!==r.getPinned()));o++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=On(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=vh(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},kae="ag-cell",Iae="ag-cell-auto-height",_ae="ag-cell-normal-height",Bae="ag-cell-focus",Hae="ag-cell-first-right-pinned",jae="ag-cell-last-left-pinned",Gae="ag-cell-not-inline-editing",Vae="ag-cell-wrap-text",RC="cellCtrl";function z6(e,t){return C6(e,t,RC)}var zae=0,mm=class extends Ve{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=n;const{colId:r,colIdSanitised:s}=e;this.instanceId=r+"-"+zae++,this.colIdSanitised=s,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new Oae(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new Nae(this,e,this.column),this.keyboardListener=new Mae(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&dd(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,i,r,s,o){var a,u,d,h,p,g;this.comp=e,this.eGui=t,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(u=this.customStyleFeature)==null||u.setComp(e),(d=this.tooltipFeature)==null||d.refreshTooltip(),(h=this.keyboardListener)==null||h.init(),(p=this.rangeFeature)==null||p.setComp(e),s&&this.isCellEditable()?(g=this.beans.editSvc)==null||g.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(m=>m()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var h;const{beans:n,column:i,rowNode:r,rangeFeature:s}=this,{userCompFactory:o}=n,a=this.getValueToDisplay();let u;if(r.stub&&((h=r.groupData)==null?void 0:h[i.getId()])==null){const p=this.createCellRendererParams();u=eae(o,i.getColDef(),p)}else if(this.isCellRenderer()){const p=this.createCellRendererParams();u=Joe(o,i.getColDef(),p)}this.comp.setRenderDetails(u,a,e),!t&&s&&rc(n,()=>s==null?void 0:s.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||Ku(this.column)&&t&&typeof t!="string"&&ap(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:a}}=this;return _t(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i),setValue:d=>o.setValue(i,n,d),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(d,h,p,g)=>this.registerRowDragger(d,h,g),setTooltip:(d,h)=>{var p;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,h),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var d,h,p,g,m,y;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,r=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,s=e&&e.forceRefresh||r||n,o=!!this.comp,a=this.updateAndFormatValue(o),u=s||a;if(o){if(u){this.showValue(n,!1);const w=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!i&&!w&&t.enableCellChangeFlash&&((h=this.beans.cellFlashSvc)==null||h.flashCell(this)),(p=this.customStyleFeature)==null||p.applyUserStyles(),(g=this.customStyleFeature)==null||g.applyClassesFromColDef()}(m=this.tooltipFeature)==null||m.refreshTooltip(),(y=this.customStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var n;(n=this.beans.editSvc)==null||n.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Lh(this.beans.gos,t,RC,this),e.addDestroyFunc(()=>Lh(this.beans.gos,t,RC,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:s}=this;return _t(s.gos,{type:t,node:n,data:n.data,value:r,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;G6(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);K_(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Av(this.column)&&(e=!0),ha(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(Hae,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(jae,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){var r;const{beans:t}=this;if(p0(t))return;const n=this.isCellFocused();if(!this.comp){n&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(Bae,n),n&&e&&e.forceBrowserFocus){let s=this.comp.getFocusableElement();if(this.editing){const o=up(s,null,!0);o.length&&(s=o[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&((r=t.editSvc)==null||r.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Bu(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(kae,!0),e.addOrRemoveCssClass(Gae,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(Iae,t),e.addOrRemoveCssClass(_ae,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(Vae,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var r;const i=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},q6="__ag_grid_instance";function U6(e,t){t[q6]=e.gridInstanceId}function AC(e,t){return W6(e,t.target)}function W6(e,t){let n=t;for(;n;){const i=n[q6];if(ut(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function qae(e,t){var n;return((n=z6(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function N2(e,t){const n=Yr(e.gos,"normal"),i=t;let r,s;if(i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y),n){const o=e.ctrlsSvc.getScrollFeature(),a=o.getVScrollPosition(),u=o.getHScrollPosition();r+=u.left,s+=a.top}return{x:r,y:s}}var Uae=class extends Ve{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),Ja(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,i;(i=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||i.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const r=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var h,p;const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(g=>this.isMouseOnDropTarget(e,g)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:u,dragItem:d}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&((h=a==null?void 0:a.onGridExit)==null||h.call(a,d)),o===null&&s!==null&&((p=a==null?void 0:a.onGridEnter)==null||p.call(a,d)),this.enterDragTargetIfExists(s,e,n,i,t),s&&u){const{comp:g,promise:m}=u;g?g.setIcon(s.getIconName?s.getIconName():null,!1):m.then(y=>{y&&y.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const g=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(g)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(a,u)=>{for(const d of u){const{width:h,height:p,left:g,right:m,top:y,bottom:w}=d.getBoundingClientRect();if(h===0||p===0)return!1;const x=a.clientX>=g&&a.clientX<m,C=a.clientY>=y&&a.clientY<w;if(!x||!C)return!1}return!0};for(const a of n)if(r(e,a)){i=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=Zm(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(u=>u).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:u,gos:d}=this,h=t.clientX-o.left,p=t.clientY-o.top;return _t(d,{event:t,x:h,y:p,vDirection:i,hDirection:n,dragSource:u,fromNudge:r,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Nse(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const i=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=qoe(n,_t(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),U6(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=UA(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):st(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},Wae=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function $ae(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function k5(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function Kae(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ut(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function Yae(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Qae(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i!=null&&i.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function Xae(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,s=i==null?void 0:i.getPinnedBottomRowCount(),o=i==null?void 0:i.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function EC(e,t){var n,i;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Kf(e,t){var r;const n=(r=e.spannedRowRenderer)==null?void 0:r.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}var Zae=class extends Ve{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;fs(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;this.autoScrollService=new Wae({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>r.scrollFeature.getVScrollPosition().top,setVerticalPosition:s=>r.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var i;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[]].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=N2(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e),s=i.get("rowDragManaged"),o=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(i.get("suppressMoveWhenRowDragging")||!r?n.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(On(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,n=t.getLastHighlightedRowNode(),i=n&&n.highlighted==="Below",r=N2(this.beans,e).y,s=e.dragItem.rowNodes;let o=i?1:0;if(this.isFromThisGrid(e))s.forEach(a=>{a.rowTop<r&&(o-=1)}),this.moveRows(s,r,o);else{const a=Sp(this.gos);let u=t.getRowIndexAtPixel(r)+1;t.getHighlightPosition(r)==="Above"&&u--,t.updateRowData({add:s.filter(d=>!t.getRowNode((a==null?void 0:a({data:d.data,level:0,rowPinned:d.rowPinned}))??d.data.id)).map(d=>d.data),addIndex:u})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){const i=this.beans.focusSvc,r=i.getFocusedCell(),s=r&&Kf(this.beans,r);this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(s?s.focusCell():i.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){st(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){st(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?u=>{n(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:n,onDragLeave:e.onDragLeave?u=>{i(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:i,onDragging:e.onDragging?u=>{r(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:r,onDragStop:e.onDragStop?u=>{s(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:s,onDragCancel:e.onDragCancel?u=>{o(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=N2(n,t).y,a=o>i.getCurrentPageHeight();let u=-1,d;return a||(u=r.getRowIndexAtPixel(o),d=r.getRow(u)),_t(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:u,overNode:d,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function $6(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}var Jae=class extends Ve{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),Ja(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");i&&!o&&(s=a=>{jA(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=u=>this.onTouchMove(u,e.eElement),r=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},o=t.target,a=[{target:Zm(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=d=>this.onMouseMove(d,e.eElement),r=d=>this.onMouseUp(d,e.eElement),s=d=>d.preventDefault(),o=d=>{d.key===je.ESCAPE&&this.cancelDrag(e.eElement)},a=Zm(this.beans),u=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=ut(n)?n:4;return $6(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;yd()&&((n=zi(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>{const o=s.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return n&&i&&e.cancelable&&AC(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function K6(e,t){return e+"_"+t}function Ai(e){return e instanceof Y6}var Y6=class extends Ve{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return K6(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Ai(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=On(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{hd(t)?e.push(t):Ai(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{hd(t)?e.push(t):Ai(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Ai(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},I5="row-group-",Q6="t-",X6="b-",ele=0,Ep=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=ele++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var a;const{valueCache:n,selectionSvc:i,rowSpanSvc:r}=this.beans,s=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,s,t);(a=this.__localEventService)==null||a.dispatchEvent(o),r==null||r.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(kn(13),null):this.rowPinned==="top"?Q6+this.rowIndex:this.rowPinned==="bottom"?X6+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,a;const{selectionSvc:n}=this.beans,i=(o=n==null?void 0:n.createDaemonNode)==null?void 0:o.call(n,this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,r,!1);(a=this.__localEventService)==null||a.dispatchEvent(s)}setId(e){var n;const t=Sp(this.beans.gos);if(t)if(this.data){const i=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(I5)&&kn(14,{groupPrefix:I5})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:s,selectionSvc:o,rowSpanSvc:a}=this.beans,u=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!u)return!1;const d=r.getValueForDisplay(u,this);if(s.get("readOnlyEdit")){const{beans:{eventSvc:p},data:g,rowIndex:m,rowPinned:y}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:u,colDef:u.colDef,data:g,node:this,oldValue:d,newValue:t,value:t,source:n}),!1}const h=r.setValue(this,u,t,n);return this.dispatchCellChangedEvent(u,t,d),o==null||o.updateRowSelectable(this),a==null||a.onRowDataUpdated(this),h}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var r;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(r=this.__localEventService)==null||r.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Ph),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,r,s,o;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Ph),this.frameworkEventListenerService=(s=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(r,this.frameworkEventListenerService,this.__localEventService);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,i;(n=this.__localEventService)==null||n.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(st(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function tle(e,t,n){return _t(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var nle=class extends hi{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??ci.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(i=>{var r;(r=i==null?void 0:i.afterGuiAttached)==null||r.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var i;(i=n==null?void 0:n.afterGuiDetached)==null||i.call(n)})}createFilter(e){var i,r;const{column:t,source:n}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const o=s.getGui();ut(o)||st(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Lo(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},Z6="ag-resizer-wrapper",zc=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,ile=`<div class="${Z6}">
        ${zc("eTopLeft","topLeft")}
        ${zc("eTop","top")}
        ${zc("eTopRight","topRight")}
        ${zc("eRight","right")}
        ${zc("eBottomRight","bottomRight")}
        ${zc("eBottom","bottom")}
        ${zc("eBottomLeft","bottomLeft")}
        ${zc("eLeft","left")}
    </div>`,rle=class extends Ve{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let u=0,d=0;const h=Kl(this.element);if(h){const p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){const m=p.offsetWidth-this.element.offsetWidth;d=parseInt(g.minWidth,10)-m}if(g.minHeight!=null){const m=p.offsetHeight-this.element.offsetHeight;u=parseInt(g.minHeight,10)-m}}if(this.minHeight=r||u,this.minWidth=n||d,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(h&&t){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){const m=parseFloat(p.style.top),y=parseFloat(p.style.left);g?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,r;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(n),this.moveElementDragListener=n):((r=this.dragSvc)==null||r.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?((o=this.dragSvc)==null||o.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)fm(n,e),e=t6(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?fm(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top;let a=0;if(t){const d=this.element.parentElement;if(d){const{bottom:h}=d.getBoundingClientRect();a=h-i.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ql(t,e),e=uC(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ql(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var r;const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&((r=this.popupSvc)==null||r.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=ic(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!r,o)?0:o,d=this.shouldSkipY(t,!!i,s,a)?0:a;return{movementX:u,movementY:d}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let u=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return u?!0:(t?u=i<0&&e.clientX>a+s.left||i>0&&e.clientX<a+s.left:n?u=i<0&&e.clientX>o.right||i>0&&e.clientX<a+s.left:u=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,u)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let u=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return u?!0:(t?u=i<0&&e.clientY>a+s.top+n||i>0&&e.clientY<a+s.top:u=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(ile,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Z6}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const u=window.getComputedStyle(r);u.minHeight&&(o=parseInt(u.minHeight,10)),u.minWidth&&(a=parseInt(u.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,u=s||i,{movementX:d,movementY:h}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),p=this.position.x,g=this.position.y;let m=0,y=0;if(a&&d){const w=o?-1:1,x=this.getWidth(),C=x+d*w;let A=!1;o&&(m=x-C,(p+m<=0||C<=this.minWidth)&&(A=!0,m=0)),A||this.setWidth(C)}if(u&&h){const w=i?-1:1,x=this.getHeight(),C=x+h*w;let A=!1;i?(y=x-C,(g+y<=0||C<=this.minHeight)&&(A=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&x<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(A=!0),A||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||y)&&this.offsetElement(p+m,g+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},sle="ag-focus-managed",Hp=class extends Ve{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=qh(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(sle),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Hu(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){xp(t);return}t.key===je.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},J6={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function XA(e,t){const{debounceMs:n}=e;return TC(e)?(n!=null&&st(71),0):n??t}function TC(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var ole=class extends hi{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Lt,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Hp(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new rle(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=TC(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=TC(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:i}=t??{},{buttons:r,readOnly:s}=e;if(i===s&&Xm(n,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Lo(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Dh(this.eButtonsPanel);return}const a=document.createDocumentFragment(),u=d=>{let h;const p=d?this.translate(`${d}Filter`):void 0;switch(d){case"apply":h=y=>this.onBtApply(!1,!1,y);break;case"clear":h=()=>this.onBtClear();break;case"reset":h=()=>this.onBtReset();break;case"cancel":h=y=>{this.onBtCancel(y)};break;default:st(75);return}const m=Qm(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(m,{click:h})),a.append(m)};r.forEach(d=>u(d)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=XA(this.params,this.defaultDebounceMs),t=$r(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&Km(i,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,J6[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function ale(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:s,fwComp:o}=aae(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i}var Nb={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ZA=class extends Ve{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Nb.AUTO_HEIGHT:t.print?Nb.PRINT:Nb.NORMAL;this.view.updateLayoutClasses(n,t)}},qc="Viewport",ZN="fakeVScrollComp",JN=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],eO=100,O2=150,lle=class extends Ve{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=$r(this,()=>this.lastScrollSource[1]=null,O2),this.resetLastVScrollDebounced=$r(this,()=>this.lastScrollSource[0]=null,O2)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,qc)});for(const e of JN){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?$r(this,this.onVScroll.bind(this,qc),eO):this.onVScroll.bind(this,qc),i=t?$r(this,this.onVScroll.bind(this,ZN),eO):this.onVScroll.bind(this,ZN);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...JN,qc]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);hC(n,e,this.enableRtl)}}getViewportForSource(e){return e===qc?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=dC(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===qc?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===qc?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!n||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):n.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},O2)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!fh()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=GA(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&cC()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(qc)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&cC()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),hC(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let s=0;s<i;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break}}else if(e===o||e===o.data){r=s;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t){if(Yr(this.gos,"print"))return;const{rowModel:n}=this.beans,i=n.getRowCount();if(typeof e!="number"||e<0||e>=i){st(88,{index:e});return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:o,pagination:a,pageBounds:u,rowContainerHeight:d,rowRenderer:h}=this.beans;o.wrapIncoming(()=>{var x;s||a==null||a.goToPageWithIndex(e);const p=this.ctrlsSvc.getGridBodyCtrl(),g=p.stickyTopHeight,m=p.stickyBottomHeight,y=n.getRow(e);let w;do{const C=y.rowTop,A=y.rowHeight,E=u.getPixelOffset(),F=y.rowTop-E,N=F+y.rowHeight,z=this.getVScrollPosition(),B=d.divStretchOffset,k=z.top+B,V=z.bottom+B,K=V-k,T=d.getScrollPositionForPixel(F),O=d.getScrollPositionForPixel(N-K),H=Math.min((T+O)/2,F),q=k+g>F,ee=V-m<N;let $=null;t==="top"?$=T:t==="bottom"?$=O:t==="middle"?$=H:q?$=T-g:ee&&($=O+m),$!==null&&(this.setVerticalScrollPosition($),h.redraw({afterScroll:!0})),w=C!==y.rowTop||A!==y.rowHeight}while(w);(x=this.animationFrameSvc)==null||x.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{var o;s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:i)||r,u=o?i:n;t!=="auto"&&(a=t==="start",u=t==="end");const d=t==="middle";if(a||u||d){const{colLeft:h,colMiddle:p,colRight:g}=this.getColumnBounds(e);return d?p-s/2:a?o?g:h:o?h-s:g-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,a=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,a=o+i*s,u=o+i/2*s;return{colLeft:o,colMiddle:u,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},JA=class extends Ve{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Yr(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},ule=class extends Ve{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{rc(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=GA(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function eE(e,t,n,i,r,s){if(n==null&&t==null)return;const o={},a={},u=(d,h)=>{d.split(" ").forEach(p=>{p.trim()!=""&&h(p)})};if(n){const d=Object.keys(n);for(let h=0;h<d.length;h++){const p=d[h],g=n[p];let m;typeof g=="string"?m=e?e.evaluate(g,i):!0:typeof g=="function"&&(m=g(i)),u(p,y=>{m?o[y]=!0:a[y]=!0})}}t&&s&&Object.keys(t).forEach(d=>u(d,h=>{o[h]||(a[h]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(r)}function tO(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var cle=class extends Ve{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,s=_t(i,{data:e.data,node:e,rowIndex:e.rowIndex});eE(r,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s)}if(r||n)return Object.assign({},n,r)}},dle=0,iv="renderedRow",PC=class extends Ve{constructor(e,t,n,i,r){var s;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((s=t.pagination)==null?void 0:s.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+dle++,this.rowId=ju(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=tO(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=ju(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){i=Ev(this,this.beans.context,i);const r={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(r),this.updateGui(n,r),this.initialiseRowComp(r),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),mh(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&w5(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Lh(t,e.element,iv,this),e.compBean.addDestroyFunc(()=>Lh(t,e.element,iv,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=ju(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(VN(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(VN(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&WA(this.gos,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new mm(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(o,a,u)=>{u!=null?i.list.splice(u,0,a):i.list.push(a),i.map[o]=a},s=[];for(const o of t){const a=o.getInstanceId();let u=e.map[a];u&&this.shouldRecreateCellCtrl(u)&&(u.destroy(),u=void 0),u||(u=this.getNewCellCtrl(o)),u&&r(a,u)}for(const o of e.list){const a=o.column.getInstanceId();if(i.map[a]!=null)continue;!this.isCellEligibleToBeRemoved(o,n)?s.push([a,o]):o.destroy()}if(s.length)for(const[o,a]of s){const u=i.list.findIndex(h=>h.column.getLeft()>a.column.getLeft()),d=u===-1?void 0:Math.max(u-1,0);r(o,a,d)}return i}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t)return!0;const{editing:s,cellPosition:o}=e,{focusSvc:a,visibleCols:u}=this.beans,d=a.isCellFocused(o);return s||d?!(u.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Yr(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ut(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",i=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Bu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:u}=this.beans,d=a.getFocusedCell(),h={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(d==null?void 0:d.column)??i};u==null||u.navigateToNextCell(e,e.key,h,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||Hu(e))return;const t=this.allRowGuis.find(u=>u.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=Pi(this.beans);let s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=qh(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Kl(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{ha(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var r;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,i=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)==null?void 0:r.element;i&&(i.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return _t(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Hu(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=ph(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n==null||n.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:s,column:o}=r,a=s.element,u=e.target;let d=e.defaultPrevented||yd();a&&a.contains(u)&&jA(u)&&(d=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(Hu(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=_t(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,u,d)=>this.addFullWidthRowDragging(o,a,u,d),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Zoe(s,r);case"FullWidthGroup":return Xoe(s,r);case"FullWidthLoading":return Qoe(s,r);default:return Yoe(s,r)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;const o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=tO(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&s.push("ag-row-pinned"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),(a=r.expansionSvc)==null||a.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{var o;!((o=r.dragSvc)!=null&&o.dragging)&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=d6(this.gos)?wp(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&op(this.gos)&&!t.sticky)if(t.rowTop!=null){const r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ut(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var s,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((s=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),$_(a.element,r)})}};function eB(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function _5(e,t,n,i,r){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=_t(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o))}function hle(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],s=i?null:"top";let o,a;r?(o=null,a=n.getRowCount()-1):(o="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:u,rangeSvc:d}=e,h=u.allCols;!d||!(h!=null&&h.length)||d.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var fle=65,ple=67,gle=86,mle=68,vle=90,yle=89;function ble(e){const{keyCode:t}=e;let n;switch(t){case fle:n=je.A;break;case ple:n=je.C;break;case gle:n=je.V;break;case mle:n=je.D;break;case vle:n=je.Z;break;case yle:n=je.Y;break;default:n=e.code}return n}var Cle=class extends Ve{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",b6("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){var r;if(!AC(this.gos,t)||Hu(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(r=this.beans.contextMenuSvc)==null||r.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:z6(t,e),rowCtrl:C6(t,e,iv)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){var a;const{rowNode:i,column:r,editing:s}=e;!_5(this.gos,n,i,r,s)&&t==="keydown"&&(!s&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),eB(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,o=r.getFocusedCell(),a=o&&o.column;if(!_5(this.gos,n,i,a,!1)){const d=n.key;if(t==="keydown")switch(d){case je.PAGE_HOME:case je.PAGE_END:case je.PAGE_UP:case je.PAGE_DOWN:s==null||s.handlePageScrollingKey(n,!0);break;case je.UP:case je.DOWN:e.onKeyboardNavigate(n);break;case je.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!AC(this.gos,e))return;const n=ble(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===je.A)return this.onCtrlAndA(e);if(n===je.C)return this.onCtrlAndC(i,e);if(n===je.D)return this.onCtrlAndD(i,e);if(n===je.V)return this.onCtrlAndV(i,e);if(n===je.X)return this.onCtrlAndX(i,e);if(n===je.Y)return this.onCtrlAndY(r);if(n===je.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&dd(r)&&t.isRowsToRender()?hle(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:m6(r)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},tB=class extends Ve{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Qy=e=>e.topRowCtrls,Xy=e=>e.getStickyTopRowCtrls(),Zy=e=>e.getStickyBottomRowCtrls(),Jy=e=>e.bottomRowCtrls,eb=e=>e.allRowCtrls,k2=e=>e.getCtrls("top"),I2=e=>e.getCtrls("center"),_2=e=>e.getCtrls("bottom"),wle={center:{type:"center",name:"center-cols",getRowCtrls:eb,getSpannedRowCtrls:I2},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:eb,getSpannedRowCtrls:I2},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:eb,getSpannedRowCtrls:I2},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:eb},topCenter:{type:"center",name:"floating-top",getRowCtrls:Qy,getSpannedRowCtrls:k2},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Qy,getSpannedRowCtrls:k2},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Qy,getSpannedRowCtrls:k2},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Qy},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Xy},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Xy},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Xy},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Xy},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Zy},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Zy},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Zy},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Zy},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Jy,getSpannedRowCtrls:_2},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Jy,getSpannedRowCtrls:_2},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Jy,getSpannedRowCtrls:_2},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Jy}};function nB(e){return`ag-${Pv(e).name}-viewport`}function Ob(e){const t=Pv(e);return t.container??`ag-${t.name}-container`}function Sle(e){return`ag-${Pv(e).name}-spanned-cells-container`}function Pv(e){return wle[e]}var xle=["topCenter","topLeft","topRight"],Rle=["bottomCenter","bottomLeft","bottomRight"],Ale=["center","left","right"],Ele=["center","left","right","fullWidth"],Tle=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Ple=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Dle=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],iB=["stickyTopCenter","stickyTopLeft","stickyTopRight"],rB=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Fle=[...iB,"stickyTopFullWidth",...rB,"stickyBottomFullWidth"],Lle=[...xle,...Rle,...Ale,...iB,...rB],Mle=class extends Ve{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Pv(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new ule(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new Cle(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(Ple,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Dle,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Ele,()=>this.createManagedBean(new tB(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers(Lle,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(Tle,()=>this.createManagedBean(new JA(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(Fle.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=Yr(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ym(this.eViewport)}getCenterViewportScrollLeft(){return dC(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=ic(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return i6(this.eViewport)}getViewportScrollLeft(){return dC(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||mse(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){hC(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Yr(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},Nle="ag-force-vertical-scroll",Ole="ag-selectable",kle="ag-column-moving",Ile=class extends Ve{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,s,o){var a,u;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${nB("center")}`),this.eFullWidthContainer=n.querySelector(`.${Ob("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Ob("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Ob("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new ZA(this.comp)),this.scrollFeature=this.createManagedBean(new lle(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(u=this.filterManager)==null||u.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=J_()?16:0,r=`calc(100% + ${n+i}px)`;rc(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=ph(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,s=t.contains(r),o=ph(r,"ag-root",t);ph(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(kle,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Ole,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var r,s;const e=(((r=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Nle:null,n=Yr(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&vse(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&op(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t==null||t.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&AC(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e,r=i||Math.abs(t)>Math.abs(n),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var r;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((r=this.beans.contextMenuSvc)==null||r.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var r,s;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),n=((s=this.pinnedRowModel)==null?void 0:s.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`)}},sB=class extends hi{constructor(e,t){super(),this.direction=t,this.eViewport=Lt,this.eContainer=Lt,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",X_()||fh())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=J_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),rc(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;wse(()=>Kl(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},_le=class extends sB{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Lt,this.eRightSpacer=Lt,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new JA(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),ql(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),ql(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),fm(this.getGui(),s),fm(this.eViewport,s),fm(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return dC(this.eViewport,this.enableRtl)}setScrollPosition(e){Kl(this.eViewport)||this.attemptSettingScrollPosition(e),hC(this.eViewport,e,this.enableRtl)}},Ble=class extends sB{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new tB(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),ql(this.getGui(),r),ql(this.eViewport,r),ql(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Kl(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Hle(e){return e.cols?e.cols.treeDepth+1:-1}function Ou(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function tE(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){const o=i.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const u=jle(e,o);(a==null||u>a)&&(t[s]=u)}}}return t}function jle(e,t){const n=e.colModel.isPivotMode()?Vle(e):aB(e);let i=0;const r=t.getHeaderCtrls();for(const s of r){const{column:o}=s;if(o.isAutoHeaderHeight()){const a=o.getAutoHeaderHeight();a!=null&&a>i&&(i=a)}}return Math.max(n,i)}function nE(e){const t=e.colModel.isPivotMode()?Gle(e):Dv(e),i=e.visibleCols.allCols.filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(t,...i)}function Dv(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function oB(e){return e.gos.get("floatingFiltersHeight")??Dv(e)}function aB(e){return e.gos.get("groupHeaderHeight")??Dv(e)}function Gle(e){return e.gos.get("pivotHeaderHeight")??Dv(e)}function Vle(e){return e.gos.get("pivotGroupHeaderHeight")??aB(e)}var zle=class extends Ve{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new Hp(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s==null||s.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>rc(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var s;const{beans:e}=this;let t=0;const n=tE(e).reduce((o,a)=>o+a,0),i=nE(e);if((s=e.filterManager)!=null&&s.hasFloatingFilters()&&(t+=oB(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||Ap(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case je.LEFT:t="LEFT";case je.RIGHT:{ut(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case je.UP:t="UP";case je.DOWN:{ut(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(Pi(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var o;const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:s}=e??t;(s===this.eGui||s===((o=r.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&i.showHeaderContextMenu(void 0,e,n)}},iE=class extends Ve{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?On(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=ut(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!Yr(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const o=i.bodyWidth;return s+o+t}return s+t}setLeft(e){if(ut(e)&&(this.eCell.style.left=`${e}px`),Ai(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&lse(this.ariaEl,t.length)}}},qle=0,lB="headerCtrl",rE=class extends Ve{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+qle++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!ut(r))return!1;const s=_t(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s)}getWrapperHasFocus(){return Pi(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:g,paddingBottom:m,borderBottomWidth:y,borderTopWidth:w}=Gh(this.eGui),x=g+m+y+w,A=t.offsetHeight+x;if(p<5){const E=zi(r),F=!E||!E.contains(t),N=A==0;if(F||N){rc(r,()=>s(p+1));return}}this.setColHeaderHeight(this.column,A)};let o=!1,a;const u=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&d(),!p&&o&&h()},d=()=>{o=!0,s(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=ic(this.beans,t,()=>s(0))},h=()=>{o=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};u(),i.addDestroyFunc(()=>h()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(G6(e,t,n.visibleCols),K_(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=bh(this.beans);this.eGui&&ha(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var s;const t=Pi(this.beans),n=e.key===je.LEFT||e.key===je.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===je.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(s=this.resizeFeature)==null||s.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===je.LEFT!==t.get("enableRtl");const r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case je.PAGE_DOWN:case je.PAGE_UP:case je.PAGE_HOME:case je.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=lB,{eGui:n,gos:i}=this;Lh(i,n,t,this),e.addDestroyFunc(()=>Lh(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r!=null&&r.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Ule=class extends rE{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:u,context:d,colHover:h,rangeSvc:p}=a,g=Ev(this,d,r);this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=g.createManagedBean(u.createResizeFeature(s.pinned,o,n,e,this)):Ei(n,!1),h==null||h.createHoverFeature(g,[o],t),p==null||p.createRangeHighlightFeature(g,o,e),g.createManagedBean(new iE(o,t,a)),g.createManagedBean(new Hp(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),g.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),g.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();g.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return _t(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Uoe(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return _t(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||To(this.gos)),showColumnMenu:(s,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e==null||e.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t==null||t.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t==null||t.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===je.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===je.ENTER&&this.onEnterKeyDown(e),e.key===je.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();nO(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Pae()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=j6(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=tE(this.beans),s=r.reduce((h,p)=>h+=p,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",o>0);const u=nE(i);if(o===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);let d=0;for(let h=0;h<o;h++)d+=r[r.length-1-h];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${u+d}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(Zre(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!To(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Pi(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>n==="filter"?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return nO(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function nO(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Wle=0,B2=class extends Ve{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=Wle++;const i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=Yr(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Ev(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=Yr(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=tE(this.beans),i=nE(this.beans);t.push(...n),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(oB(this.beans));let r=0;for(let o=0;o<this.rowIndex;o++)r+=t[o];const s=t[this.rowIndex];return{topOffset:r,rowHeight:s}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,e);const n=i=>{const{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.headerCellCtrls.set(i,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const n=e.getUniqueId();let i;if(t&&(i=t.get(n),t.delete(n)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new Ule(e,this));break}this.headerCellCtrls.set(n,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{const r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let n;return typeof e=="function"?n=t.find(e):n=t.find(i=>i.column==e),n}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},$le=class extends Ve{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s,filterManager:o}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const u=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(u,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:i}=this.beans;let r=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const h=Hle(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let p=0;p<h;p++){const g=this.createBean(new B2(r++,this.pinned,"group"));this.groupsRowCtrls.push(g)}},a=()=>{const h=r++,p=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==h);(p||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),p&&(this.columnsRowCtrl=this.createBean(new B2(h,this.pinned,"column")))},u=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}const p=r++;if(this.filtersRowCtrl){const g=this.filtersRowCtrl.rowIndex!==p;(!e||g)&&h()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new B2(p,this.pinned,"filter")))};o(),a(),u();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s)}getHeaderCtrlForColumn(e){var t;if(hd(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new JA(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Kle=class extends Ve{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&To(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(To(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&hd(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(fh()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!To(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!To(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return To(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:s}=t,o=t.column;if(r==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(o,a,n,s,i)}else if(r==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(o,a,n,s,i)}else if(o){const a=this.beans,u=a.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(o,"auto"),rc(a,()=>{var h;const d=(h=u.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:h.getHeaderCtrlForColumn(o);d&&(e==null||e.showMenuAfterButtonClick(o,d.getAnchorElementForMenu(i),n,s,!0))})}}};function iO(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var uB=class extends hi{constructor(){super()}},Yle=class extends uB{init(){var t;const e=Bu((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},Qle=class extends uB{init(){var t;const e=Bu((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function Xle(e,t,n){const i=ca(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i}const r=document.createElement("span");return r.appendChild(i),r}function ca(e,t,n){var s;let i=null;e==="smallDown"?st(262):e==="smallLeft"?st(263):e==="smallRight"&&st(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{st(38,{iconName:e});return}if(typeof o=="string")return Qm(o);if(zA(o))return o;st(133,{iconName:e});return}else{const o=document.createElement("span"),a=t.registry.getIcon(e);a||(s=t.validation)==null||s.validateIcon(e);const u=a??e;return o.setAttribute("class",`ag-icon ag-icon-${u}`),o.setAttribute("unselectable","on"),Za(o,"presentation"),o}}var Zle=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Jle=class extends hi{constructor(){super(),this.dragSource=null,this.eIcon=Lt,this.eLabel=Lt,this.registerCSS(Zle)}postConstruct(){const e=t=>Xle(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;Lo(n);let o=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},eue=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",tue=class extends hi{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(eue)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Lo(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ei(t,!1),Za(t,"presentation")):(Ei(t,!0),Za(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(fC(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Km(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},cB=class extends tue{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Jre(e)!==null?C5(e,""):C5(e,t??"")}setAriaLabel(e){return h0(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ql(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},uh=class extends cB{constructor(e,t,n="text",i="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} data-ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=Lt,this.eWrapper=Lt,this.eInput=Lt}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return fC(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return ha(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return h0(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Km(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)ha(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";ha(this.eInput,"autocomplete",t)}return this}},sE=class extends uh{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},oE={selector:"AG-CHECKBOX",component:sE},nue=".ag-checkbox-cell{height:100%}",iue=class extends hi{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[oE]),this.eCheckbox=Lt,this.registerCSS(nue)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),U_(i,"polite"),this.addManagedListeners(i,{click:r=>{if(xp(r),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:r=>{xp(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===je.SPACE&&!t.isDisabled()){e.eGridCell===Pi(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:s}=e;if(s.group&&r)if(typeof i=="boolean")t=i;else{const p=r.getColId();p.startsWith(f0)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[p]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!(r!=null&&r.isCellEditable(s));o.setDisabled(a);const u=this.getLocaleTextFunc(),d=HA(u,t),h=a?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;o.setInputAriaLabel(h)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:i,node:r,value:s}=n,o={column:i,colDef:i.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:s};t.dispatchEvent({type:"cellEditingStarted",...o});const a=r.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:s,newValue:e,valueChanged:a}),a||this.updateCheckbox(n)}},rue="ROOT_NODE_ID",sue=class extends Ve{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=rue,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){const n=Sp(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,u=a.length;let d=!1,h=!1,p=!1,g=!1;for(let y=0,w=-1,x=t.length;y<x;y++){const C=t[y];let A=this.getRowNode(n({data:C,level:0}));if(!A)d=!0,A=this.createRowNode(C,-1),r.add(A);else{if(i){const E=A.sourceRowIndex;g||(g=E<=w||d),w=E}A.data!==C&&(p=!0,A.updateData(C),r.update(A))}s.add(A)}const m=[];for(let y=0;y<u;y++){const w=a[y];s.has(w)||(h=!0,w.isSelected()&&m.push(w),this.rowNodeDeleted(w),r.remove(w))}if(d||h||g){const y=new Array(s.size);let w=0;if(!i)for(let C=0;C<u;++C){const A=a[C];s.delete(A)&&(A.sourceRowIndex=w,y[w++]=A)}for(const C of s)C.sourceRowIndex=w,y[w++]=C;o.allLeafChildren=y;const x=o.sibling;x&&(x.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=g)}(d||h||g||p)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=Sp(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let p=0;p<i.length;p++){const g=i[p];if((g==null?void 0:g.rowIndex)==r-1){r=p+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let h=0;h<s;h++){const p=this.createRowNode(n[h],r+h);o.add(p),a[h]=p}const u=this.rootNode;if(r<i.length){const h=i.slice(0,r),p=i.slice(r,i.length),g=h.length+a.length;for(let m=0,y=p.length;m<y;++m)p[m].sourceRowIndex=g+m;i=[...h,...a,...p],t.rowsInserted=!0}else i=i.concat(a);u.allLeafChildren=i;const d=u.sibling;d&&(d.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){var d,h;const{remove:s}=t;if(!(s!=null&&s.length))return;const o={};s.forEach(p=>{const g=this.lookupRowNode(e,p);g&&(g.isSelected()&&r.push(g),g.clearRowTopAndRowIndex(),o[g.id]=!0,delete this.allNodesMap[g.id],i.remove.push(g),n.remove(g))});const a=this.rootNode;a.allLeafChildren=((d=a.allLeafChildren)==null?void 0:d.filter(p=>!o[p.id]))??null,(h=a.allLeafChildren)==null||h.forEach((p,g)=>{p.sourceRowIndex=g});const u=a.sibling;u&&(u.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:s}=t;s!=null&&s.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var r;const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(r=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||r.call(n,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new Ep(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&st(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var i,r;let n;if(e){const s=e({data:t,level:0});if(n=this.allNodesMap[s],!n)return kn(4,{id:s}),null}else if(n=(r=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:r.find(s=>s.data===t),!n)return kn(5,{data:t}),null;return n||null}},oue=class extends hi{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[oE]),this.eCheckbox=Lt}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=HA(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:xp,click:i=>{var r;xp(i),(r=this.beans.selectionSvc)==null||r.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const s=typeof i=="object"?F2(i):void 0,o=typeof r=="object"?F2(r):void 0;s!==o&&this.onSelectableChanged()}),M5(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this;let r=t.selectable;const s=this.getIsVisible();if(r)if(typeof s=="function"){const u=n==null?void 0:n.callbackParams;if(!e)r=s({...u,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);r=s({...u,...d})}}else r=s??!1;const o=i.get("rowSelection");if(o&&typeof o!="string"?!F2(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(r);return}this.setVisible(r)}getIsVisible(){var n,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?ap(t):(i=(n=this.column)==null?void 0:n.getColDef())==null?void 0:i.checkboxSelection}},aue=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.rowModel.getNodesInRangeForSelection(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},lue=class extends Ve{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Pi(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new sE);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Za(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const r=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;r(n)!==r(i)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,o=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${o})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return vC(this.gos)?!0:(st(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return fs(t)||Vh(t)?!0:(st(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){var d;const{column:e,gos:t,beans:n}=this,i=t.get("rowSelection"),r=e.getColDef(),{headerCheckboxSelection:s}=r;let o=!1;const a=typeof i=="object";if(a){const h=Ku(e),p=KA(e);(L5(i)==="autoGroupColumn"&&p||h&&((d=n.selectionColSvc)!=null&&d.isSelectionColumnEnabled()))&&(o=Fb(i))}else typeof s=="function"?o=s(_t(t,{column:e,colDef:r})):o=!!s;const u=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(u)&&this.checkSelectionType(u)}getSelectAllMode(){const e=m6(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},uue=class extends Ve{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new aue(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=M5(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=M5(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new oue}createSelectAllFeature(e){return new lue(e)}isMultiSelect(){return vC(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",i);const s=r.element;S5(s,i),s.contains(Pi(this.beans))&&t(r)})}announceAriaRowSelection(e){var r;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(r=this.beans.ariaAnnounce)==null||r.announceValue(i,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!mh(this.gos)}updateRowSelectable(e,t){var i;const n=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Jm(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,n=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const s=e.childrenAfterGroup[r];let o=s.isSelected();if(!s.selectable){const a=this.calculateSelectedFromChildren(s);if(a===null)continue;o=a}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;return o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...tle(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=Ku(e)&&ap(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:s}=this,o=e.isSelected(),a=Jm(r),u=Bse(r),d=Hse(r),h=this.isMultiSelect(),p=i==="rowClicked";if(p&&a&&e.group||p&&!(u||d))return null;if(t&&n&&h){const g=s.getRoot();if(g)if(g.isSelected()){const m=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=s.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&h){const g=s.selectAll?this.beans.rowModel.getRow(0):void 0,m=s.getRoot(g),y=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(m&&!m.isSelected())}}else{if(n)return s.setRoot(e),p&&o&&!d?null:{node:e,newValue:!o,clearSelection:!h};{s.setRoot(e);const g=jse(r),m=yC(r)==="filteredDescendants",y=p&&(!g||!u);if(m&&o===void 0&&fs(r))return{node:e,newValue:!1,clearSelection:!h||y};if(p){const w=o?!g:u;return w===o&&!y||w&&!u||!w&&!d?null:{node:e,newValue:w,clearSelection:!h||y}}return{node:e,newValue:!o,clearSelection:!h||y}}}}},cue=class extends sE{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Uh=class extends uh{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ut(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{eB(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var r;const i=(r=n.clipboardData)==null?void 0:r.getData("text");i&&i.split("").some(s=>!e.test(s))&&n.preventDefault()}})}},g0={selector:"AG-INPUT-TEXT-FIELD",component:Uh},due=class extends uh{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},hue={selector:"AG-INPUT-TEXT-AREA",component:due},aE=class extends Uh{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){Pi(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:i}=this;return n!=null&&t<n?e=n.toString():i!=null&&t>i&&(e=i.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,ha(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,ha(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,ha(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ut(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},fue={selector:"AG-INPUT-NUMBER-FIELD",component:aE};function vm(e,t){return e.toString().padStart(t,"0")}function pa(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>vm(r,2)).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>vm(r,2)).join(":")),i}var H2=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ym(e,t="YYYY-MM-DD"){const n=vm(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>vm(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${H2(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${H2(e.getDate())}`,DD:()=>vm(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${H2(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function Qs(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const i=t.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[r,s,o]=i,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!n||n==="00:00:00")return a;const[u,d,h]=n.split(":").map(p=>parseInt(p,10));return u>=0&&u<24&&a.setHours(u),d>=0&&d<60&&a.setMinutes(d),h>=0&&h<60&&a.setSeconds(h),a}var pue=class extends Uh{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=yd();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Pi(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?pa(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,ha(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?pa(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,ha(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,ha(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Qs(this.getValue())??void 0}setDate(e,t){this.setValue(pa(e??null,!1),t)}},dB={selector:"AG-INPUT-DATE-FIELD",component:pue},gue=1e3,mue=1e3,rO=100,sO,tb=!1,vue=class extends Ve{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,i,r;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((r=(i=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:r.call(i))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!fh()&&(tb?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},rO):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var r;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(i!=null&&i.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||tb)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-sO<gue}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,a,u,d,h,p,g;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ut(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(o=t.getRowNode)==null?void 0:o.call(t),i=_t(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(u=t.getColDef)==null?void 0:u.call(t),column:(d=t.getColumn)==null?void 0:d.call(t),rowIndex:(h=t.getRowIndex)==null?void 0:h.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(p=t.getValueFormatted)==null?void 0:p.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((g=t.getAdditionalParams)==null?void 0:g.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),s=sae(this.userCompFactory,i);s==null||s.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),sO=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),s=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(zi(this.beans),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=Pi(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?mue:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){tb=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},rO)}unlockService(){tb=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function j2(e){return e.get("tooltipShowMode")==="whenTruncated"}function kb(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var yue=class extends Ve{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new vue(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},bue=class extends hi{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case je.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case je.DOWN:case je.UP:e.preventDefault(),this.navigate(t);break;case je.PAGE_DOWN:case je.PAGE_UP:case je.PAGE_HOME:case je.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===je.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===je.PAGE_HOME?a=0:e===je.PAGE_END?a=r:e===je.PAGE_DOWN?a=Math.min(i+o,r):e===je.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n||t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Dh(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{rse(t,n+1),ise(t,e.length)})}renderOption(e,t){const n=zi(this.beans),i=n.createElement("div");Za(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=n.createElement("span");i.appendChild(r),r.textContent=t,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(i)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Kl(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),S5(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Kl(e)||(e.classList.remove(this.activeClass),S5(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Cue=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",wue=class extends cB{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Lt,this.eWrapper=Lt,this.eDisplayField=Lt,this.eIcon=Lt,this.registerCSS(Cue),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=ca(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),w5(e,!1),this.ariaRole&&Za(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case je.UP:case je.DOWN:case je.ENTER:case je.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case je.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:u,beans:d,eWrapper:h}=this,p={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const w=f6(d);this.beforeHidePicker(),w&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:h};e.style.position="absolute";const g=d.popupSvc,m=g.addPopup(p);u?(o&&(e.style.minWidth=o),e.style.width=VA(uC(h)),a&&(e.style.maxWidth=a)):fC(e,a??uC(h));const y=s??`${GA(g.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();w5(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return fC(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Sue=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",lE=class extends wue{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Sue)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:kb(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new bue("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),dse(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i==null||i.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===je.TAB&&this.hidePicker(),t){case je.ENTER:case je.UP:case je.DOWN:case je.PAGE_UP:case je.PAGE_DOWN:case je.PAGE_HOME:case je.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case je.ESCAPE:super.onKeyDown(e);break;case je.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let u=i.getDisplayValue();return u==null&&r&&(u=r),s.textContent=u,o==null||o.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},xue={selector:"AG-SELECT",component:lE},cp={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},hB=class extends Ve{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:g,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new Hp(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():up(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var u;const t=zi(this.beans),n=up(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);const o=n.slice(r,s),a=this.gos.get("tabIndex");o.sort((d,h)=>{const p=parseInt(d.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return g===a?1:p===a?-1:p===0?1:g===0?-1:p-g}),(u=o[e?o.length-1:0])==null||u.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=up(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return qh(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Rue=class extends Ve{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:x=>{r.forEach(C=>x!=null?C.setAttribute("tabindex",x):C.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:u,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new hB({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:u,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=zi(this.beans).createElement("div"),n=e==="top"?cp.TAB_GUARD_TOP:cp.TAB_GUARD_BOTTOM;return t.classList.add(cp.TAB_GUARD,n),Za(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Lo(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){zA(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eFocusableElement:e,eTopGuard:t,eBottomGuard:n}=this;e.removeChild(t),e.removeChild(n),super.destroy()}},Aue=class extends hi{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Rue(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},jp=class extends hi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},jf=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Ph,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!$6(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},fB=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${s6}/${this.frameworkName}-data-grid`,xse(this.baseDocLink)}setInterval(e,t){return new ci(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const s=w6(t);s!=null&&(r.passive=s)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Eue(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Tue=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],oO=Object.fromEntries(Tue.map((e,t)=>[e,t]));function Pue(e,t){const n=(e.beanName?oO[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?oO[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function Due(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var Fue=class extends Ve{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),U6(this.gos,t),this.createManagedBean(new ZA(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=ic(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this)}isDetailGrid(){var t;const e=V6(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,i,r;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(r=e.licenseManager)==null?void 0:r.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,a=On(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(On(n),e);const o=On(s);if(i.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||bh(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(Mh(n[o].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];(s=r.setAllowFocus)==null||s.call(r,!0),setTimeout(()=>{var o;(o=r.setAllowFocus)==null||o.call(r,!1)})}isFocusable(){var t,n;const e=this.beans;return!p0(e)||!bh(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=Pi(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){var i,r;(i=e.setAllowFocus)==null||i.call(e,!0);const n=Mh(e.getGui(),t,!1,!0);return(r=e.setAllowFocus)==null||r.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ut=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},aO={dispatchEvent:"CommunityCore",...Ut("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...Ut("GridState",{getState:0}),...Ut("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ut("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ut("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ut("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ut("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ut("ValueCache",{expireValueCache:0}),...Ut("CellApi",{getCellValue:0}),...Ut("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ut("Sort",{onSortChanged:0}),...Ut("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...Ut("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ut("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ut("HighlightChanges",{flashCells:0}),...Ut("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Ut("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ut("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ut("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ut("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ut("ColumnResize",{setColumnWidths:0}),...Ut("ColumnHover",{isColumnHovered:0}),...Ut("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Ut("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ut("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ut("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Ut("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ut("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ut("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ut("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ut("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ut("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ut("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ut("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ut("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ut("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ut("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ut("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ut("ContextMenu",{showContextMenu:0}),...Ut("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ut("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ut("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ut("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ut("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ut("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ut("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ut("StatusBar",{getStatusPanel:0})},G2={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Lue=(e,t)=>e.eventSvc.dispatchEvent(t),pB=class{};Reflect.defineProperty(pB,"name",{value:"GridApi"});var Mue=class extends Ve{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new pB,this.fns={...G2,dispatchEvent:Lue},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(aO))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:n,beans:i}=this;n!==G2&&(n[e]=((r=i==null?void 0:i.validation)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)st(26,{fnName:e,preDestroyLink:i});else{const r=aO[e];n.assertModuleRegistered(r,`api.${e}`)&&st(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=G2,this.beans=null}};function Nue(e){return e.context.getGridId()}function Oue(e){e.gridDestroySvc.destroy()}function kue(e){return e.gridDestroySvc.destroyCalled}function Iue(e,t){return e.gos.get(t)}function _ue(e,t,n){gB(e,{[t]:n})}function gB(e,t){e.gos.updateGridOptions({options:t})}var Bue=class extends hi{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(ca("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){const a=_t(r,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Hue(e,t){var n,i;(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||i.addRowDropZone(t)}function jue(e,t){var i,r;const n=(i=e.dragAndDrop)==null?void 0:i.findExternalZone(t);n&&((r=e.dragAndDrop)==null||r.removeDropTarget(n))}function Gue(e,t){var n,i;return(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:i.getRowDropZone(t)}var Vue=class extends Ve{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},zue=class extends hi{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ca("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new Uue(this,t,n):new que(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var i;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const i=this.getDragItem(),r=((o=i.rowNodes)==null?void 0:o.length)||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},mB=class extends Ve{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;const{column:r,rowNode:s,parent:o}=this;r&&(n=r.isRowDrag(s)||o.isCustomGui(),i=typeof r.getColDef().rowDrag=="function"),i?(o.setDisplayed(!0,t),o.setVisible(n,t)):(o.setDisplayed(n,t),o.setVisible(!0,t))}}},que=class extends mB{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Uue=class extends mB{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=r&&!o||s;this.setDisplayedOrVisible(a)}},Wue=class extends Ve{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new Zae(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,s){return new zue(e,t,n,i,r,s)}createRowDragCompForRow(e,t){if(dd(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,s){const o=this.gos;return o.get("rowDragManaged")&&(!fs(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s)}},vB={moduleName:"Drag",version:ht,beans:[Jae]},$ue={moduleName:"DragAndDrop",version:ht,dynamicBeans:{dndSourceComp:Bue},icons:{rowDrag:"grip"}},yB={moduleName:"SharedDragAndDrop",version:ht,beans:[Uae],dependsOn:[vB],userComponents:{agDragAndDropImage:Jle},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Kue={moduleName:"RowDrag",version:ht,beans:[Wue],apiFunctions:{addRowDropZone:Hue,removeRowDropZone:jue,getRowDropZoneParams:Gue},dependsOn:[yB]},Yue={moduleName:"HorizontalResize",version:ht,beans:[Vue],dependsOn:[vB]},Que=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Xue=class extends Ve{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function Zue(e,t,n){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,n,"api")}function Jue(e,t,n){var i;(i=e.colMoves)==null||i.moveColumns(t,n,"api")}var ece=class extends Ve{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function tce(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const s=e.indexOf(i),o=e.indexOf(r);return s-o})}function bB(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:a,colModel:u,colMoves:d,visibleCols:h}=e;let{allMovingColumns:p}=e;if(t){const N=[];p.forEach(z=>{var V;let B=null,k=z.getParent();for(;k!=null&&k.getDisplayedLeafColumns().length===1;)B=k,k=k.getParent();B!=null?(!!((V=B.getColGroupDef())!=null&&V.marryChildren)?B.getProvidedColumnGroup().getLeafColumns():B.getLeafColumns()).forEach(O=>{N.includes(O)||N.push(O)}):N.includes(z)||N.push(z)}),p=N}const g=p.slice();tce(u.getCols(),g);const m=sce({movingCols:g,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:u,visibleCols:h}),y=nce(g,u);if(m.length===0)return;const w=m[0];let x=y!==null&&!r;if(t&&(x=y!==null),x&&!s&&(!n&&w>=y||n&&w<=y))return;const C=h.allCols,A=[];let E=null;for(let N=0;N<m.length;N++){const z=m[N],B=d.getProposedColumnOrder(g,z);if(!d.doesOrderPassRules(B))continue;const k=B.filter(K=>C.includes(K));if(E===null)E=k;else if(!zh(k,E))break;const V=ice(B);A.push({move:z,fragCount:V})}if(A.length===0)return;A.sort((N,z)=>N.fragCount-z.fragCount);const F=A[0].move;if(!(F>u.getCols().length-p.length))return{columns:p,toIndex:F}}function CB(e){const{columns:t,toIndex:n}=bB(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function nce(e,t){const n=t.getCols(),i=roe(e.map(u=>n.indexOf(u))),r=i[0];return On(i)-r!==i.length-1?null:r}function ice(e){function t(i){const r=[];let s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function rce(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function sce(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];const d=rce(a,r),h=o.getCols(),p=d.filter(E=>t.includes(E)),g=d.filter(E=>!t.includes(E)),m=h.filter(E=>!t.includes(E));let y=0,w=i;if(n){let E=0;p.forEach(F=>E+=F.getActualWidth()),w-=E}if(w>0){for(let E=0;E<g.length;E++){const F=g[E];if(w-=F.getActualWidth(),w<0)break;y++}n&&y++}let x;if(y>0){const E=g[y-1];x=m.indexOf(E)+1}else x=m.indexOf(g[0]),x===-1&&(x=0);const C=[x],A=(E,F)=>E-F;if(n){let E=x+1;const F=h.length-1;for(;E<=F;)C.push(E),E++;C.sort(A)}else{let E=x;const F=h.length-1;let N=h[E];for(;E<=F&&d.indexOf(N)<0;)E++,C.push(E),N=h[E];E=x-1;const z=0;for(;E>=z;)C.push(E),E--;C.sort(A).reverse()}return C}function B5(e){var d;const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e;let a=(d=r.getHeaderRowContainerCtrl(t))==null?void 0:d.eViewport,{x:u}=e;return a?(n&&(u-=a.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),u=a.clientWidth-u),t==null&&!o&&(u+=r.get("center").getCenterViewportScrollLeft()),u):0}function V2(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var lO=7,H5=100,nb=H5/2,oce=5,ace=100,lce=class extends Ve{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ut(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,n=(t==null?void 0:t.dragItem.columns)??[];for(const i of n){const r=i.getPinned();if(i.getColDef().lockPinned){if(r==e)return"move";continue}if(r===e||!e)return"move";if(!r&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&di(e.hDirection))return;const a=B5({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e,!0);if(r){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:u}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:u,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),d=CB({...u,finished:r});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:u,colMoves:d,visibleCols:h}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:u,colMoves:d,visibleCols:h}}highlightHoveredColumn(e,t){var h;const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,a=null,u=null;for(const p of s){if(a=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,r),o!=null){const g=o+a;if(o<=t&&g>=t){u=p;break}}o=null,a=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let p=s.length-1;p>=0;p--){const g=s[p],m=s[p].getParent();if(!m){u=g;break}const y=m==null?void 0:m.getDisplayedLeafColumns();if(y.length){u=On(y);break}}if(!u)return;o=this.getNormalisedColumnLeft(u,0,r),a=u.getActualWidth()}if(((h=this.lastHighlightedColumn)==null?void 0:h.column)!==u&&this.clearHighlighted(),u==null||o==null||a==null)return;let d;t-o<a/2!==r?d=0:d=1,uO(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||a==null)return;const u=i.allCols,d=u.indexOf(s),h=u.indexOf(o),p=a===0!==r,g=d<h||d===h&&!p;let m=0;if(p?g&&(m-=1):g||(m+=1),h+m===d)return;const y=u[h+m];if(!y)return;const w=this.getNormalisedColumnLeft(y,20,r);return{fromLeft:g,xPosition:w}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=uce(e);if(!r||!s||i.column||!t)return{firstMovingCol:r,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return B5({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>lO;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:u}=bB(o)||{};a&&u!=null&&(this.lastMovedInfo={columns:a,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(uO(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,s;this.gos.get("enableRtl")?(r=e<n+nb,s=e>i-nb):(s=e<n+nb,r=e>i-nb),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),ace),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,r;let e;this.intervalCount++,e=10+this.intervalCount*oce,e>H5&&(e=H5);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:s,dragAndDrop:o,gos:a}=this.beans;if(this.failedMoveAttempts<=lO+1||!s)return;if((i=o.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const u=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(u,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:s}=this.beans;return r==null||r.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function uO(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function uce(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const s=e[r];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-r];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var cce=class extends Ve{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new lce(n)),this.bodyDropPivotTarget=this.createManagedBean(new ece(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},dce=class extends Ve{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,u=r.getCols();if(!u)return;if(t>u.length-e.length){st(30,{toIndex:t});return}s==null||s.start();const d=r.getColsForKeys(e);this.doesMovePassRules(d,t)&&(YN(r.getCols(),d,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:n})),s==null||s.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!F6(e,t.getColTree())||!(r=>{const s=d=>d?d==="left"||d===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,u=!0;return r.forEach(d=>{const h=s(d.getColDef().lockPosition);o?h>a&&(u=!1):h<a&&(u=!1),a=h}),u})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return YN(i,e,t),i}createBodyDropTarget(e,t){return new cce(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:u,focusSvc:d}=this.beans,h=t.getBoundingClientRect(),p=h.left,g=Ai(n),m=g?h.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),w=B5({x:y?p-20:p+m+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),x=d.focusedHeader;CB({allMovingColumns:g?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:u,finished:!0});let C;if(g){const A=n.getDisplayedLeafColumns();C=y?A[0]:On(A)}else C=n;if(s.getScrollFeature().ensureColumnVisible(C,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&x){let A;if(g){const E=n.getGroupId(),F=n.getLeafColumns();if(!F.length)return;const N=F[0].getParent();if(!N)return;A=hce(N,E)}else A=n;A&&d.focusHeaderPosition({headerPosition:{...x,column:A}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const u=Ai(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:u?()=>pce(t,o.allCols):()=>fce(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),V2(d,!0)},onDragStopped:()=>V2(d,!1),onDragCancelled:()=>V2(d,!1),onGridEnter:g=>{if(a){const{columns:m=[],visibleState:y}=g??{},w=u?C=>!y||y[C.getColId()]:()=>!0,x=m.filter(C=>!C.getColDef().lockVisible&&w(C));r.setColsVisible(x,!0,"uiColumnMoved")}},onGridExit:g=>{var m;if(a){const y=((m=g==null?void 0:g.columns)==null?void 0:m.filter(w=>!w.getColDef().lockVisible))||[];r.setColsVisible(y,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function hce(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function fce(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function pce(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());const r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),Ja(n,a))}),n.forEach(a=>r.push(a));const s=[],o=e.getLeafColumns();for(const a of r)o.indexOf(a)!==-1&&s.push(a);return{columns:r,columnsInSplit:s,visibleState:i}}var gce={moduleName:"ColumnMove",version:ht,beans:[dce,Xue],apiFunctions:{moveColumnByIndex:Zue,moveColumns:Jue},dependsOn:[yB],css:[Que]},mce=class extends Ve{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(u=>o.classList.contains(u))){for(let u=0;u<o.classList.length;u++){const d=o.classList[u];d!="ag-row-position-absolute"&&r.add(d)}break}o=o.parentElement}i.appendChild(n),t.appendChild(i)}},wB={moduleName:"AutoWidth",version:ht,beans:[mce]};function vce(e,t,n=!0,i="api"){var r;(r=e.colResize)==null||r.setColumnWidths(t,!1,n,i)}var yce=class extends Ve{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){var u;const t=d=>d.reduce((h,p)=>h+p.getActualWidth(),0),n=(d,h)=>d.map(p=>p.getActualWidth()/h),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s};let a=null;if(e&&(a=((u=this.beans.colGroupSvc)==null?void 0:u.getGroupAtDirection(this.columnGroup,"After"))??null),a){const d=a.getDisplayedLeafColumns(),h=o.groupAfterColumns=d.filter(g=>g.isResizable()),p=o.groupAfterStartWidth=t(h);o.groupAfterRatios=n(h,p)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){var p;const{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:u,groupAfterRatios:d}=e,h=[];if(h.push({columns:r,ratios:o,width:t}),a){const g=t-s;h.push({columns:a,ratios:d,width:u-g})}(p=this.beans.colResize)==null||p.resizeColumnSets({resizeSets:h,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},bce=class extends Ve{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(Ei(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,u=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,r(),i())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),a=r+o,u=[{key:n,newWidth:a}],{pinnedCols:d,ctrlsSvc:h,colResize:p}=s;if(this.column.getPinned()){const g=(d==null?void 0:d.leftWidth)??0,m=(d==null?void 0:d.rightWidth)??0,y=Ym(h.getGridBodyCtrl().eBodyViewport)-50;if(g+m+(o-i)>y)return}this.lastResizeAmount=o,p==null||p.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},Cce=class extends Ve{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(u=>{const d=s.getColDefCol(u.key)||s.getCol(u.key);if(!d)return;if(r.push({width:u.newWidth,ratios:[1],columns:[d]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=a.getColAfter(d);if(!p)return;const g=d.getActualWidth()-u.newWidth,m=p.getActualWidth()+g;r.push({width:m,ratios:[1],columns:[p]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(h=>wce(h)))){if(n){const h=t&&t.length>0?t[0].columns:null;Rp(this.eventSvc,h,n,i)}return}const s=[],o=[];t.forEach(h=>{const{width:p,columns:g,ratios:m}=h,y={},w={};g.forEach(A=>o.push(A));let x=!0,C=0;for(;x;){if(C++,C>1e3){kn(31);break}x=!1;const A=[];let E=0,F=p;g.forEach((z,B)=>{if(w[z.getId()])F-=y[z.getId()];else{A.push(z);const V=m[B];E+=V}});const N=1/E;A.forEach((z,B)=>{const k=B===A.length-1;let V;k?V=F:(V=Math.round(m[B]*p*N),F-=V);const K=z.getMinWidth(),T=z.getMaxWidth();V<K?(V=K,w[z.getId()]=!0,x=!0):T>0&&V>T&&(V=T,w[z.getId()]=!0,x=!0),y[z.getId()]=V})}g.forEach(A=>{const E=y[A.getId()];A.getActualWidth()!==E&&(A.setActualWidth(E,i),s.push(A))})});const a=s.length>0;let u=[];if(a){const{colFlex:h,visibleCols:p,colViewport:g}=this.beans;u=(h==null?void 0:h.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],p.setLeftValues(i),p.updateBodyWidths(),g.checkViewportColumns()}const d=o.concat(u);(a||n)&&Rp(this.eventSvc,d,n,i,u)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new bce(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new yce(e,t,n,i)}};function wce(e){const{columns:t,width:n}=e;let i=0,r=0,s=!0;t.forEach(u=>{const d=u.getMinWidth();i+=d||0;const h=u.getMaxWidth();h>0?r+=h:s=!1});const o=n>=i,a=!s||n<=r;return o&&a}var Sce={moduleName:"ColumnResize",version:ht,beans:[Cce],apiFunctions:{setColumnWidths:vce},dependsOn:[Yue,wB]},xce=class extends Ve{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Rce=class extends rE{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:s,beans:o}=this,{context:a,colNames:u,colHover:d,rangeSvc:h,colResize:p}=o;this.comp=e,r=Ev(this,a,r),this.setGui(t,r),this.displayName=u.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.rowCtrl.pinned,m=s.getProvidedColumnGroup().getLeafColumns();d==null||d.createHoverFeature(r,m,t),h==null||h.createRangeHighlightFeature(r,s,e),r.createManagedBean(new iE(s,t,o)),r.createManagedBean(new xce(e,s)),p?this.resizeFeature=r.createManagedBean(p.createGroupResizeFeature(e,n,g,s)):e.setResizableDisplayed(!1),r.createManagedBean(new Hp(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,m),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return _t(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=On(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),s=!!this.rowCtrl.findHeaderCellCtrl(u=>u.column.isMoving());let o=!1,a=!1;if(s){const u=this.beans.gos.get("enableRtl"),d=r===1,h=r===0;n&&(u?a=d:o=h),i&&(u?o=h:a=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,i=_t(n,{displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}}),r=$oe(t,i);r&&this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=j6(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===je.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Ace(e,t,n){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,n,"api")}function Ece(e,t,n){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,n))??null}function Tce(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function Pce(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Dce(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function Fce(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function Lce(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function Mce(e){return e.visibleCols.treeLeft}function Nce(e){return e.visibleCols.treeCenter}function Oce(e){return e.visibleCols.treeRight}function kce(e){return e.visibleCols.getAllTrees()}function Ice(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var _ce=class extends Ve{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:n,colGroupSvc:i,colViewport:r}=this.beans;t||this.buildTrees(n,i),i==null||i.updateOpenClosedVisibility();const s=z2(this.treeLeft);this.leftCols=s,this.centerCols=z2(this.treeCenter);const o=z2(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(u=>u.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),r.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,s,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Lu(this.centerCols),t=Lu(this.leftCols),n=Lu(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?On(n):null):(r=t?On(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(u=>u.getPinned()=="left"),r=n.filter(u=>u.getPinned()=="right"),s=n.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),o=new k6,a=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return Ai(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Ai(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=Lu(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}Ice(i,s)}),i.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],u=t.length-o,d=Math.min(a.getColSpan(e),u),h=[a];if(d>1){const g=d-1;for(let m=1;m<=g;m++)h.push(t[o+m]);o+=g}let p;n?(p=!1,h.forEach(g=>{n(g)&&(p=!0)})):p=!0,p&&(r.length===0&&s&&(i&&i(a))&&r.push(s),r.push(a)),s=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ch(this.treeCenter,!1,e),Ch(this.treeLeft,!1,e),Ch(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?On(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Lu(this.leftCols)}getDisplayedColumnsRightWidth(){return Lu(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(Ai(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:On(s)}else r=e;return(i?n[0]:On(n))===r}};function Ch(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(Ai(r)){const s=t?r.getDisplayedChildren():r.getChildren();Ch(s,t,n)}n(r)}}function z2(e){const t=[];return Ch(e,!0,n=>{hd(n)&&t.push(n)}),t}var Bce=class extends Ve{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Gu(null,t,n=>{ks(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Gu(null,t,i=>{if(ks(i)){const r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i==null||i.start();const a=[];e.forEach(u=>{const d=u.groupId,h=u.open,p=this.getProvidedColGroup(d);p&&p.isExpanded()!==h&&(p.setExpanded(h),a.push(p))}),r.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i==null||i.finish()}setColumnGroupOpened(e,t,n){let i;ks(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return Gu(null,this.beans.colModel.getColTree(),n=>{ks(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?On(i):i[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](r);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Ch(e,!1,t=>{Ai(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Ai(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return Ch(n,!1,s=>{if(Ai(s)){const o=s;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[];let u=t;for(;u.length;){const d=u;u=[];let h=0;const p=g=>{const m=h;h=g;const y=d[m],x=(Ai(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(x==null){for(let A=m;A<g;A++)a.push(d[A]);return}const C=this.createColumnGroup(x,n,o,i,s);for(let A=m;A<g;A++)C.addChild(d[A]);u.push(C)};for(let g=1;g<d.length;g++){const m=d[g],w=(Ai(m)?m.getProvidedColumnGroup():m).getOriginalParent(),x=d[h],A=(Ai(x)?x.getProvidedColumnGroup():x).getOriginalParent();w!==A&&p(g)}h<d.length&&p(d.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,s,o){const a=r.getUniqueKey(t.groupId||null,null),u=this.createMergedColGroupDef(t,a),d=new Lb(u,a,!1,n);this.createBean(d);const h=this.findExistingGroup(t,s);h&&s.splice(h.idx,1);const p=h==null?void 0:h.group;p&&d.setExpanded(p.isExpanded());const g=T6(this.beans,u.children,n+1,e,i,r,s,o);return d.setChildren(g),d}balanceColumnTree(e,t,n,i){const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(ks(o)){const a=o,u=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(u),r.push(a)}else{let a,u;for(let d=n-1;d>=t;d--){const h=i.getUniqueKey(null,null),p=this.createMergedColGroupDef(null,h),g=new Lb(p,h,!0,t);this.createBean(g),u&&u.setChildren([g]),u=g,a||(a=u)}if(a&&u)if(r.push(a),e.some(h=>ks(h))){u.setChildren([o]);continue}else{u.setChildren(e);break}r.push(o)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&ks(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(ks(r)){const s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){const o=new Lb(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o}t===0&&(i.originalParent=null),n.push(r)}),n}createMergedColGroupDef(e,t){const n={},{gos:i,validation:r}=this.beans;return Object.assign(n,i.get("defaultColGroupDef")),Object.assign(n,e),r==null||r.validateColDef(n,t),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=K6(s,o);let u=n[a];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ut(u)?u.reset():(u=new Y6(e,s,o,i),r||this.createBean(u)),u}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(Ai(r)){const s=r;t[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,Ai(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},Hce={moduleName:"ColumnGroup",version:ht,dynamicBeans:{headerGroupCellCtrl:Rce},beans:[Bce],apiFunctions:{getAllDisplayedColumnGroups:kce,getCenterDisplayedColumnGroups:Nce,getColumnGroup:Ece,getColumnGroupState:Dce,getDisplayNameForColumnGroup:Pce,getLeftDisplayedColumnGroups:Mce,getProvidedColumnGroup:Tce,getRightDisplayedColumnGroups:Oce,resetColumnGroupState:Lce,setColumnGroupOpened:Ace,setColumnGroupState:Fce}},jce={moduleName:"CheckboxCellRenderer",version:ht,userComponents:{agCheckboxCellRenderer:iue}};function Gce(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Vce(e){return e.colModel.getColumnDefs()}function zce(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function qce(e,t){return e.colModel.getColDefCol(t)}function Uce(e){return e.colModel.getColDefCols()}function Wce(e,t){return fa(e,t,"api")}function $ce(e){return ev(e)}function Kce(e){boe(e,"api")}function Yce(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Qce(e){return e.visibleCols.isPinningLeft()}function Xce(e){return e.visibleCols.isPinningRight()}function Zce(e,t){return e.visibleCols.getColAfter(t)}function Jce(e,t){return e.visibleCols.getColBefore(t)}function ede(e,t,n){e.colModel.setColsVisible(t,n,"api")}function tde(e,t,n){var i;(i=e.pinnedCols)==null||i.setColsPinned(t,n,"api")}function nde(e){return e.colModel.getCols()}function ide(e){return e.visibleCols.leftCols}function rde(e){return e.visibleCols.centerCols}function sde(e){return e.visibleCols.rightCols}function ode(e){return e.visibleCols.allCols}function ade(e){return e.colViewport.getViewportColumns()}function j5(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||S6.has(r))return;const s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=j5(s):i[r]=s}),i}var lde=class extends Ve{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){var a,u;const r=e.slice();t?r.sort((d,h)=>n.indexOf(d)-n.indexOf(h)):n&&r.sort((d,h)=>i.indexOf(d)-i.indexOf(h));const s=(a=this.rowGroupColsSvc)==null?void 0:a.columns,o=(u=this.pivotColsSvc)==null?void 0:u.columns;return this.buildColumnDefs(r,s,o)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,u=o,d=s.getOriginalParent(),h=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const g=r[d.getGroupId()];if(g){g.children.push(u),a=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[u],r[p.groupId]=p,u=p,d=d.getOriginalParent()),d!=null&&h===d){a=!1;break}h=d}a&&i.push(u)}),i}createDefFromGroup(e){const t=j5(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=j5(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},ude=class extends Ve{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let w=r.length-1;w>=0;w--)if(y.has(r[w])){s=w;break}}let o=!1;const a=r.map((y,w)=>{const x=y.getFlex(),C=x!=null&&x>0&&w>s;return o||(o=C),{col:y,isFlex:C,flex:Math.max(0,x??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let u=a.length,d=a.reduce((y,w)=>y+w.flex,0),h=n;const p=(y,w)=>{y.frozenSize=w,y.col.setActualWidth(w,t),h-=w,d-=y.flex,u-=1},g=y=>y.frozenSize!=null;for(const y of a)y.isFlex||p(y,y.initialSize);for(;u>0;){const y=Math.round(d<1?h*d:h);let w,x=0,C=0;for(const F of a){if(g(F))continue;w=F,C+=y*(F.flex/d);const N=C-x,z=Math.round(N);F.targetSize=z,x+=z}w&&(w.targetSize+=y-x);let A=0;for(const F of a){if(g(F))continue;const N=F.targetSize,z=Math.min(Math.max(N,F.min),F.max);A+=z-N,F.violationType=z===N?void 0:z<N?"max":"min",F.targetSize=z}const E=A===0?"all":A>0?"min":"max";for(const F of a)g(F)||(E==="all"||F.violationType===E)&&p(F,F.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(x=>x.initialSize!==x.frozenSize).map(x=>x.col),w=a.filter(x=>x.flex).map(x=>x.col);Rp(this.eventSvc,y,!0,t,w)}return m}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},cde=class extends Ve{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const i=o=>a=>{const{column:u,node:d,value:h}=a;let p=u.getColDef().valueFormatter;return p===o.groupSafeValueFormatter&&(p=o.valueFormatter),this.beans.valueSvc.formatValue(u,d,h,p)};for(const o of Object.keys(e)){const a=e[o],u={...a,groupSafeValueFormatter:hO(a,this.gos)};t[o]=u,n[o]=i(u)}const r=this.gos.get("dataTypeDefinitions")??{},s={};this.dataTypeMatchers=s;for(const o of Object.keys(r)){const a=r[o],u=this.processDataTypeDefinition(a,r,[o],e);u&&(t[o]=u,a.dataTypeMatcher&&(s[o]=a.dataTypeMatcher),n[o]=i(u))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const a=s[o];a&&delete s[o],s[o]=a??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,n,i){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s];const a=t[s];if(o&&a&&(o=a),!dO(e,o,s))return;r=cO(o,e)}else{if(n.includes(s)){st(44);return}const o=t[s];if(!dO(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],i);if(!a)return;r=cO(a,e)}return{...r,groupSafeValueFormatter:hO(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){st(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!fs(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(q2(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const s=n.get("columnTypes")??{};if(CC(r).some(a=>{const u=s[a.trim()];return u&&q2(u,i)}))return!1}return!q2(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=gm(i,e,r)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(r==null||r(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const u=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const d=a.getColDef();if(t&&d.type&&d.type!==u.type){const h=hde(a,o);h.rowGroup&&h.rowGroupIndex==null&&(i[s]=h),h.pivot&&h.pivotIndex==null&&(r[s]=h),n.push(h)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&fa(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i==null||i.restoreColumnOrder(n,e),r==null||r.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=N5(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const n=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>st(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){var s;const r=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===je.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,a)=>{const u=this.colModel.getColDefCol(i),d=u==null?void 0:u.getColDef();if(!u||!d)return 0;const h=o==null?"":r({column:u,node:null,value:o}),p=a==null?"":r({column:u,node:null,value:a});return h===p?0:h>p?1:-1},e.keyCreator=r;break}}(s=this.beans.filterManager)==null||s.setColDefPropertiesForDataType(e,n,r)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,r;return((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:E5(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var i,r;return n.newValue==null?n.newValue:((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>Qs(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):pa(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>Qs(n)??void 0,dateFormatter:n=>pa(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>E5(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function cO(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...CC(e.columnTypes),...CC(t.columnTypes)]),n}function dO(e,t,n){return t?t.baseDataType!==e.baseDataType?(st(46),!1):!0:(st(45,{parentCellDataType:n}),!1)}function hO(e,t){if(e.valueFormatter)return n=>{var i,r;if((i=n.node)!=null&&i.group){const s=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&s!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((r=e.dataTypeMatcher)!=null&&r.call(e,n.value)))return;return e.valueFormatter(n)}}function dde(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function q2(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>dde(e,t,n,i))}function hde(e,t){const n=O6(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var fde={moduleName:"DataType",version:ht,beans:[cde],dependsOn:[jce]},pde={moduleName:"ColumnFlex",version:ht,beans:[ude]},gde={moduleName:"ColumnApi",version:ht,beans:[lde],apiFunctions:{getColumnDef:Gce,getDisplayNameForColumn:zce,getColumn:qce,getColumns:Uce,applyColumnState:Wce,getColumnState:$ce,resetColumnState:Kce,isPinning:Yce,isPinningLeft:Qce,isPinningRight:Xce,getDisplayedColAfter:Zce,getDisplayedColBefore:Jce,setColumnsVisible:ede,setColumnsPinned:tde,getAllGridColumns:nde,getDisplayedLeftColumns:ide,getDisplayedCenterColumns:rde,getDisplayedRightColumns:sde,getAllDisplayedColumns:ode,getAllDisplayedVirtualColumns:ade,getColumnDefs:Vce}};function mde(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var vde=class extends Ve{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){var o;const s=e.headerValueGetter;if(s){const a=_t(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(a):typeof s=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(s,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return mde(e.field)}return""}},yde=class extends Ve{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||bde(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return ut(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:s}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(u=>e[u.getId()]=!0);const a=(u,d,h)=>{let p=!1;for(let g=0;g<u.length;g++){const m=u[g];let y=!1;if(hd(m))y=e[m.getId()]===!0;else{const x=m.getDisplayedChildren();x&&(y=a(x,d,h+1))}y&&(p=!0,d[h]||(d[h]=[]),d[h].push(m))}return p};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(s,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function bde(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var Cde=class extends Ve{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Qm("<span>"+s+"</span>");return}if(s==null){this.eGui=Qm("<span></span>");return}this.eGui=s}}return n}},wde={moduleName:"CellRendererFunction",version:ht,beans:[Cde]},Sde=class extends Ve{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const s=(o,a,u)=>{this.agGridDefaults[o]=a,u&&(this.agGridDefaultParams[o]=u)};for(const o of Object.keys(n)){const a=n[o];typeof a=="object"?s(o,a.classImp,a.params):s(o,a)}}if(i)for(const s of Object.keys(i))this.dynamicBeans[s]=i[s];if(r==null||r.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){var a;const n=(u,d,h)=>({componentFromFramework:d,component:u,params:h}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const s=this.jsComps[t];if(s){const u=i.isFrameworkComponent(s);return n(s,u)}const o=this.agGridDefaults[t];return o?n(o,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(td(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},xde=23,Rde=class extends Ve{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===xde&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Ade=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',XO,ZO,uE=typeof window!="object"||!((ZO=(XO=window==null?void 0:window.document)==null?void 0:XO.fonts)!=null&&ZO.forEach),G5=new WeakMap,Tp=(e,t,n,i,r)=>{if(uE)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let s=G5.get(t);if(s||(s=[],G5.set(t,s)),s.find(d=>d.css===e))return;const o=document.createElement("style");o.dataset.agGlobalCss=n,o.textContent=e;const a={css:e,el:o,priority:r};let u;for(const d of s){if(d.priority>r)break;u=d}if(u){u.el.insertAdjacentElement("afterend",o);const d=s.indexOf(u);s.splice(d+1,0,a)}else t.insertBefore(o,t.querySelector(":not(title, meta)")),s.push(a)},SB=(e,t)=>{Tp(Ade,e,"core",t,0),Array.from(pae()).sort((n,i)=>n.moduleName.localeCompare(i.moduleName)).forEach(n=>{var i;return(i=n.css)==null?void 0:i.forEach(r=>Tp(r,e,`module-${n.moduleName}`,t,0))})},V5=new Set,Ede=e=>{V5.add(e)},Tde=e=>{if(V5.delete(e),V5.size===0){G5=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Yu=e=>new xB(e),Kc="$default",Pde=0,xB=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[Kc]:{...n[Kc]??{},...t??{}},...n}}use(e,t){let n=this._inject;if(n==null){let{css:i}=this;if(i){const r=`ag-theme-${this.feature??"part"}-${++Pde}`;typeof i=="function"&&(i=i()),i=`:where(.${r}) {
${i}
}
`;for(const s of this.cssImports??[])i=`@import url(${JSON.stringify(s)});
${i}`;n={css:i,class:r}}else n=!1;this._inject=n}return n&&e&&Tp(n.css,e,n.class,t,1),n?n.class:!1}},Dde=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),RB=e=>`--ag-${Dde(e)}`,Yl=e=>`var(${RB(e)})`,Fde=(e,t,n)=>Math.max(t,Math.min(n,e)),Lde=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Ol=e=>({ref:"accentColor",mix:e}),ea=e=>({ref:"foregroundColor",mix:e}),Ua=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Mde=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),qa={ref:"backgroundColor"},U2={ref:"foregroundColor"},Yc={ref:"accentColor"},DC={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:ea(.15),chromeBackgroundColor:Ua(.02),browserColorScheme:"light"},Nde={...DC,textColor:U2,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:qa,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Yc,rangeSelectionBackgroundColor:Ol(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Ol(.5),rangeHeaderHighlightColor:Mde(.08),rowNumbersSelectedColor:Ol(.5),rowHoverColor:Ol(.08),columnHoverColor:Ol(.05),selectedRowBackgroundColor:Ol(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:qa,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:qa,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:ea(.7),focusShadow:{spread:3,color:Ol(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:ea(.1),iconButtonActiveColor:Yc,iconButtonActiveBackgroundColor:Ol(.28),iconButtonActiveIndicatorColor:Yc,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Yc,toggleButtonOffBackgroundColor:Ua(.3),toggleButtonSwitchBackgroundColor:qa,toggleButtonSwitchInset:2,menuBorder:{color:ea(.2)},menuBackgroundColor:Ua(.03),menuTextColor:Ua(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:ea(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Yc},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:ea(.2)},panelBackgroundColor:qa,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:ea(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:ea(.13)},selectCellBackgroundColor:ea(.07),selectCellBorder:{color:ea(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:ea(.15),statusBarLabelColor:U2,statusBarLabelFontWeight:500,statusBarValueColor:U2,statusBarValueFontWeight:500},Ode=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",kde={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Ide=()=>Yu({feature:"buttonStyle",params:{...kde,buttonBackgroundColor:qa,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Yc}},css:Ode}),_de=Ide(),Bde=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Hde=()=>Yu({feature:"columnDropStyle",css:Bde}),AB=Hde(),jde=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Gde=Lde(e=>(e=e.toLowerCase(),jde.find(t=>e.endsWith(t.toLowerCase()))??"length")),m0=e=>typeof e=="object"&&(e!=null&&e.ref)?Yl(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,cE=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Yl(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Yl(e.onto):"transparent"}, ${t} ${Fde(e.mix*100,0,100)}%)`}return!1},Vde=m0,Yf=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Yl(n)} `)})`:e&&"ref"in e?Yl(e.ref):!1,zde=m0,qde=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Yl(e.ref):EB(e.style??"solid")+" "+Yf(e.width??1)+" "+cE(e.color??{ref:"borderColor"}),Ude=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Yl(e.ref):[Yf(e.offsetX??0),Yf(e.offsetY??0),Yf(e.radius??0),Yf(e.spread??0),cE(e.color??{ref:"foregroundColor"})].join(" "),EB=m0,TB=e=>typeof e=="string"?e:e&&"googleFont"in e?TB(e.googleFont):e&&"ref"in e?Yl(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),Wde(t))).join(", "):!1,Wde=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),$de=m0,PB=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?PB({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Yl(e.ref):!1,Kde=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&kn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Yl(e.ref):!1,Yde={color:cE,colorScheme:Vde,length:Yf,scale:zde,border:qde,borderStyle:EB,shadow:Ude,image:PB,fontFamily:TB,fontWeight:$de,duration:Kde},Qde=(e,t)=>{const n=Gde(e);return Yde[n](t,e)},Xde=()=>new DB().withPart(_de).withPart(AB),DB=class FB{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof xB?new FB([...this.parts,t]):(P5(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Yu({feature:t}))}withParams(t,n=Kc){return this.withPart(Yu({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,loadThemeGoogleFonts:i}){if(uE)return;Jde(),SB(t,n);const r=Zde(this);if(r.length>0)for(const s of r)i&&the(s);for(const s of this.parts)s.use(t,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=fO(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Kc]:{...Nde}};for(const i of fO(this.parts))for(const r of Object.keys(i.modeParams)){const s=i.modeParams[r];if(s){const o=n[r]??(n[r]={}),a=new Set;for(const u of Object.keys(s)){const d=s[u];d!==void 0&&(o[u]=d,a.add(u))}if(r===Kc)for(const u of Object.keys(n)){const d=n[u];if(u!==Kc)for(const h of a)delete d[h]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",s="";const o=this._getModeParams();for(const u of Object.keys(o)){const d=o[u];if(u!==Kc){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(u):u}"]) & {
`;r+=p,s+=p}for(const h of Object.keys(d).sort()){const p=d[h],g=Qde(h,p);if(g===!1)kn(107,{key:h,value:p});else{const m=RB(h),y=m.replace("--ag-","--ag-inherited-");r+=`	${m}: var(${y}, ${g});
`,s+=`	${y}: var(${m});
`}}u!==Kc&&(r+=`}
`,s+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},fO=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},Zde=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s==null?void 0:s.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},pO=!1,Jde=()=>{if(!pO){pO=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},ehe=new Set,the=async e=>{ehe.add(e);const t=`@import url('https://${nhe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Tp(t,document.head,`googleFont:${e}`,void 0,0)},nhe="fonts.googleapis.com",ihe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',rhe=()=>Yu({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:qa,checkboxUncheckedBorderColor:Ua(.3),checkboxCheckedBackgroundColor:Yc,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:qa,checkboxIndeterminateBackgroundColor:Ua(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:qa,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:ihe}),she=rhe(),LB=()=>({...DC,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Ua(.05),rowHoverColor:Ol(.15),selectedRowBackgroundColor:Ol(.2),menuBackgroundColor:Ua(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Ua(.4),toggleButtonOffBackgroundColor:Ua(.4)}),ohe=()=>({...LB(),backgroundColor:"#1f2836"}),ahe=()=>Yu({feature:"colorScheme",params:DC,modeParams:{light:DC,dark:LB(),"dark-blue":ohe()}}),lhe=ahe(),MB={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},NB={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},uhe=(e={})=>{let t="";for(const n of[...Object.keys(MB),...Object.keys(NB)]){const i=che(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},che=(e,t=1.5)=>{const n=NB[e];if(n)return n;const i=MB[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},dhe=(e={})=>Yu({feature:"iconSet",css:()=>uhe(e)}),hhe=dhe(),fhe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',phe=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",ghe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},mhe=()=>Yu({feature:"inputStyle",params:{...ghe,inputBackgroundColor:qa,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Yc},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Ua(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>fhe+phe}),vhe=mhe(),yhe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',bhe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Che=()=>Yu({feature:"tabStyle",params:{...bhe,tabBarBorder:!0,tabBarBackgroundColor:ea(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:qa},css:yhe}),whe=Che(),She=()=>Xde().withPart(she).withPart(lhe).withPart(hhe).withPart(whe).withPart(vhe).withPart(AB).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),xhe=She(),gO={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},mO={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},vO={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},W2={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Rhe=0,Ahe=class extends Ve{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Rhe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(gO),this.getSizeEl(mO),this.getSizeEl(vO),this.getSizeEl(W2),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Tde(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(gO)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(mO)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(vO)}getRowBorderWidth(){return this.getCSSVariablePixelValue(W2)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const s of Array.from(i.classList))s.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${s}`:s);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Tp(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===$2?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=document.createElement("div");const{border:i}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${$2}px`)):t.style.width=`var(${e.cssName}, ${$2}px)`,n.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&st(9,{variable:e});const s=ic(this.beans,t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==r&&(r=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(W2);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let s;if(r==="legacy")s=void 0;else{const o=r??xhe;o instanceof DB?s=o:kn(240,{theme:o})}if(s!==i){if(s){Ede(this),SB(this.eStyleContainer,this.cssLayer);for(const[a,u]of n)Tp(a,this.eStyleContainer,u,this.cssLayer,0);n.length=0}this.gridTheme=s,s==null||s._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let o=this.eParamsStyle;o||(o=this.eParamsStyle=document.createElement("style"),t.appendChild(o)),uE||(o.textContent=(s==null?void 0:s._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&kn(r?106:239)}},$2=15538,Ehe=class extends Ve{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Ph}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(_t(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(_t(this.gos,e))}};function OB(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function z5(e,t){let n;if(Ai(e)&&OB(e)&&e.isPadding()){const i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var The=class extends Ve{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=zi(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=(r==null?void 0:r.getColumnGroup(e))??null)):n=e,!n)return null;const o=s.getHeaderRowContainerCtrl(),a=o==null?void 0:o.getAllCtrls(),u=On(a||[]).type==="filter",d=Ou(this.beans)-1;let h=-1,p=n;for(;p;)h++,p=p.getParent();let g=h;return t&&u&&g===d-1&&g++,g===-1?null:{headerRowIndex:g,column:n}}navigateVertically(e,t,n){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:r}=t,s=t.column,o=Ou(this.beans),a=e==="UP",u=this.getHeaderRowType(r);let{headerRowIndex:d,column:h,headerRowIndexWithoutSpan:p}=a?Phe(u,s,r):Dhe(u,s,r),g=!1;return d<0&&(d=0,h=s,g=!0),d>=o?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!g&&!h?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:h},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,s=i.focusedHeader;let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a)),o||!t)return i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n});if(t){const u=r.getCallback("tabToNextHeader");if(u)return i.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let r=null,s;const o=this.beans;if(t==="Before"?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<Ou(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:a,headerRowIndex:u}=z5(r.column,r==null?void 0:r.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Ai(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?On(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i;const{colGroupSvc:r,visibleCols:s}=this.beans;if(Ai(e.column)?n=(r==null?void 0:r.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,n=s[i](e.column)),!n)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const d=[n];for(;n.getParent();)n=n.getParent(),d.push(n);n=d[Math.max(0,d.length-1-o)]}const{column:a,headerRowIndex:u}=z5(n,o);return{column:a,headerRowIndex:u}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,s=n.allCols,o=s[t==="start"?0:s.length-1];if(!o)return;const a=i.getHeaderRowContainerCtrl(o.getPinned()),u=a==null?void 0:a.getRowType(e);if(u=="group"){const d=r==null?void 0:r.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:d}}return{headerRowIndex:u==null?-1:e,column:o}}};function Phe(e,t,n){const i=e==="filter",r=e==="column";let s=i?t:t.getParent(),o=n-1,a=o;if(r&&OB(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=t,o=n,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}function Dhe(e,t,n,i="After"){let r=t,s=n+1;const o=s;if(e==="group"){const a=t.getDisplayedLeafColumns(),u=i==="After"?a[0]:On(a),d=[];let h=u;for(;h.getParent()!==t;)h=h.getParent(),d.push(h);if(r=u,u.isSpanHeaderHeight())for(let p=d.length-1;p>=0;p--){const g=d[p];if(!g.isPadding()){r=g;break}s++}else r=On(d),r||(r=u)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o}}var Fhe=class extends Ve{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Tae(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(Pi(this.beans),iv)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(Pi(this.beans),lB)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(gC(this.gos,n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):k5(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Bu(i),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:r,preventScrollOnBrowserFocus:s})}isCellFocused(e){return this.focusedCell==null?!1:k5(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned()}focusHeaderPosition(e){var u;if(bh(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&((u=this.filterManager)!=null&&u.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(i){const d=this.focusedHeader,h=Ou(this.beans);if(n){const p=this.gos.getCallback("tabToNextHeader");p&&(a=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:d,headerPosition:a,headerRowCount:h}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&r){const g={key:r.key,previousHeaderPosition:d,nextHeaderPosition:a,headerRowCount:h,event:r};a=p(g)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(bh(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=Ou(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:u,ctrlsSvc:d,headerNavigation:h}=this.beans;if(a===-1)return u!=null&&u.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});h==null||h.scrollToColumn(o,n);const p=d.getHeaderRowContainerCtrl(o.getPinned()),g=(p==null?void 0:p.focusHeader(t.headerRowIndex,o,s))||!1;return h&&g&&(r!=null||i)&&(h.currentHeaderRowWithoutSpan=r??-1),g}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=z5(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=Ou(this.beans)-1,n=On(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Bu(t)}focusOverlay(e){var n,i;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&Mh(t,e)}focusGridView(e){var s,o,a,u,d,h;const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if((s=this.overlays)!=null&&s.isExclusive())return n&&this.focusOverlay(t);if(p0(this.beans))return t&&!bh(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Ap(this.beans,t);const r=t?Xae(this.beans):Qae(this.beans);if(r){const p=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:g,rowPinned:m}=r,y=EC(this.beans,r);if(!p||!y||g==null)return!1;if(p.isSuppressNavigable(y)){const w=this.gos.get("enableRtl");let x;return!i||i.key===je.TAB?x=w?je.LEFT:je.RIGHT:x=i.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,x,{rowIndex:g,column:p,rowPinned:m||null},!0),!0}if((u=this.navigation)==null||u.ensureCellVisible({rowIndex:g,column:p,rowPinned:m}),t){const w=this.rowRenderer.getRowByPosition(r);if(w!=null&&w.isFullWidth()&&((d=this.navigation)!=null&&d.tryToFocusFullWidthRow(r,t)))return!0}return this.setFocusedCell({rowIndex:g,column:p,rowPinned:Bu(m),forceBrowserFocus:!0}),(h=this.beans.rangeSvc)==null||h.setRangeToCell({rowIndex:g,rowPinned:m,column:p}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const n=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Ou(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Lhe=class extends Ve{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:fse();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Mhe=class extends Ve{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),n.destroy(),super.destroy()}},Ib=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Nhe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},Ohe=0,khe=0,Ihe=class extends Ve{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=khe++,this.propEventSvc=new Ph,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=Ib.has(t);if(i&&!e||!i&&e)return;const r=v6(t),s=this.gridOptions[r];typeof s=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{s(n)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??Nhe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ut(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:Ohe++,properties:[]},r=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const u=e[a];o==null||o.warnOnInitialPropertyUpdate(n,a);const d=t||typeof u=="object"&&n==="api",h=s[a];if(d||h!==u){s[a]=u;const p={type:a,currentValue:u,previousValue:h,changeSet:i,source:n};r.push(p)}}o==null||o.processGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{Fh(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||kn(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:QA(),rowModelType:this.get("rowModelType"),isUmd:mae()}}isModuleRegistered(e){return H6(e,this.gridId,this.get("rowModelType"))}};function _he(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var Bhe=class extends hi{constructor(){super(...arguments),this.eFilter=Lt,this.eFilterButton=Lt,this.eSortIndicator=Lt,this.eMenu=Lt,this.eLabel=Lt,this.eText=Lt,this.eSortOrder=Lt,this.eSortAsc=Lt,this.eSortDesc=Lt,this.eSortMixed=Lt,this.eSortNone=Lt,this.isLoadingInnerComponent=!1}refresh(e){var n,i;const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?(i=(n=this.innerHeaderComponent).refresh)==null||i.call(n,e):this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,n=e.template??_he(!!t.sortSvc);return n!=null&&n.trim?n.trim():n}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Woe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const i=ju(t,!0);this.eText.textContent=i}addInIcon(e,t,n){if(t==null)return;const i=ca(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Dh(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=To(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var u;const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,a=To(n);if(e&&!a){if((u=i.menuSvc)!=null&&u.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:u}=this;i.attachCustomElements(r,s,o,a,u)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Dh(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ei(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Hhe=class extends hi{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Lt,this.agClosed=Lt,this.agLabel=Lt,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&st(89)}workOutInnerHeaderGroupComponent(e,t){const n=Koe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=u=>{if(Hu(u))return;const d=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const s=u=>{xp(u)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var i;(i=e.touchSvc)==null||i.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();Ei(e,i),Ei(t,!i)}else Ei(e,!1),Ei(t,!1)}addInIcon(e,t){const n=ca(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ei(t,!1),Ei(n,!1);return}}setupLabel(e){var r;const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ut(t)&&!i){const s=ju(t,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((r=n.getColGroupDef())!=null&&r.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},jhe={moduleName:"ColumnHeaderComp",version:ht,userComponents:{agColumnHeader:Bhe},icons:{menu:"menu",menuAlt:"menu-alt"}},Ghe={moduleName:"ColumnGroupHeaderComp",version:ht,userComponents:{agColumnGroupHeader:Hhe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Vhe={moduleName:"AnimationFrame",version:ht,beans:[Rae]},zhe=class extends Ve{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!fh())return;const t=(n,i,r)=>{var a;const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget((r==null?void 0:r.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(r??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,r,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!fh()||b6("dblclick"))return!1;const i=new Date().getTime(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:r,eFilterButton:s}=e,o=new jf(e.getGui(),!0),a=e.shouldSuppressMenuHide(),u=a&&ut(r),d=u?new jf(r,!0):o;if(i.enableMenu){const h=u?"tap":"longTap",p=g=>i.showColumnMenuAfterMouseClick(g.touchStart);e.addManagedListeners(d,{[h]:p})}if(i.enableSorting){const h=p=>{const g=p.touchStart.target;a&&(r!=null&&r.contains(g)||s!=null&&s.contains(g))||n==null||n.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:h})}if(i.enableFilterButton&&s){const h=new jf(s,!0);e.addManagedListeners(h,{tap:()=>i.showFilter(s)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>o.destroy()),u&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e,t,n){const i=new jf(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!fh())return;const i=new jf(t),r=s=>{n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},qhe={moduleName:"Touch",version:ht,beans:[zhe]},Uhe=class extends Ve{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===je.UP,i=e===je.DOWN,r=e===je.LEFT;let s,o;const{pageBounds:a,gos:u,visibleCols:d}=this.beans;if(n||i)o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const h=u.get("enableRtl");o=t.rowIndex,s=(r!==h?d.allCols:[...d.allCols].reverse()).find(g=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:g}))}return s?{rowIndex:o,rowPinned:null,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case je.UP:n=this.getCellAbove(n);break;case je.DOWN:n=this.getCellBelow(n);break;case je.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case je.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,st(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let i=!1;const{pageBounds:r,pinnedRowModel:s,rowModel:o}=this.beans;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s!=null&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return s!=null&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(i=!0);const a=o.getRow(e.rowIndex),u=i?void 0:this.getNextStickyPosition(a);return u||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){const{gos:n,rowRenderer:i}=this.beans;if(!p6(n)||!e||!e.sticky)return;const r=i.getStickyTopRowCtrls().some(d=>d.rowNode.rowIndex===e.rowIndex);let s=[];r?s=[...i.getStickyTopRowCtrls()].sort((d,h)=>d.rowNode.rowIndex-h.rowNode.rowIndex):s=[...i.getStickyBottomRowCtrls()].sort((d,h)=>h.rowNode.rowIndex-d.rowNode.rowIndex);const o=t?-1:1,a=s.findIndex(d=>d.rowNode.rowIndex===e.rowIndex),u=s[a+o];if(u)return{rowIndex:u.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex,{pinnedRowModel:i,pageBounds:r}=this.beans;return t==="top"?((i==null?void 0:i.getPinnedTopRowCount())??-1)<=n:t==="bottom"?((i==null?void 0:i.getPinnedBottomRowCount())??-1)<=n:r.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned,{pageBounds:i,pinnedRowModel:r,rowModel:s}=this.beans,o=n?t===0:t===i.getFirstRow();let a=!1;const u=()=>({rowIndex:(r==null?void 0:r.getPinnedTopRowCount())??-1,rowPinned:"top"});if(o)return n==="top"?null:n&&s.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:r!=null&&r.isRowsToRender("top")?u():null;n&&(a=!0);const d=s.getRow(e.rowIndex),h=a?void 0:this.getNextStickyPosition(d,!0);return h||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];const a=this.getRowBelow(e);if(di(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a))??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,s=e.rowPinned,o=t.getColBefore(e.column);if(!o){o=On(i);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(di(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a))??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:r,column:o,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function Whe(e){return e.focusSvc.getFocusedCell()}function $he(e){return e.focusSvc.clearFocusedCell()}function Khe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function Yhe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function Qhe(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function Xhe(e,t,n=!1){var r;const i=(r=e.headerNavigation)==null?void 0:r.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var Zhe=class extends Ve{constructor(){super(),this.beanName="navigation",this.onPageDown=zN(this.onPageDown,100),this.onPageUp=zN(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=qae(this.gos,e);let a=!1;switch(n){case je.PAGE_HOME:case je.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case je.LEFT:case je.RIGHT:case je.UP:case je.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case je.PAGE_DOWN:case je.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===je.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:s}=e,{scrollFeature:o}=this.gridBodyCon;ut(i)&&!i.isPinned()&&o.ensureColumnVisible(i),ut(t)&&o.ensureIndexVisible(t,n),e.isAsync||o.ensureIndexVisible(r);const{focusSvc:a,rangeSvc:u}=this.beans;a.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),u==null||u.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const t=this.beans,n=K2(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,a=r.getPixelOffset(),u=n.top+i,d=s.getRowIndexAtPixel(u+a);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=K2(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),a=n.top,u=r.getRowIndexAtPixel(a+o);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),u=i.getPixelOffset(),d=r.getRow(e.rowIndex),h=n?(d==null?void 0:d.rowHeight)-s-u:s-u,p=(d==null?void 0:d.rowTop)+h;let g=r.getRowIndexAtPixel(p+u);if(g===e.rowIndex){const y=n?-1:1;t=g=e.rowIndex+y}let m;n?(m="bottom",g<o&&(g=o),t<o&&(t=o)):(m="top",g>a&&(g=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(g))&&(t=g,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:g,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow();let a=0,u=e.rowIndex;for(;u>=0&&u<=o;){const d=s.getRow(u);if(d){const h=d.rowHeight??0;if(a+h>i)break;a+=h}u+=n}return Math.max(0,Math.min(u,o))}getViewportHeight(){const e=this.beans,t=K2(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){const t=e===je.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,s=n.allCols,o=t?i.getFirstRow():i.getLastRow(),a=r.getRow(o);if(!a)return;const u=(t?s:[...s].reverse()).find(d=>!d.isSuppressNavigable(a));u&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:u,focusIndex:o,focusColumn:u})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:u}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:h}=e.getRowPosition();(h?d===0:d===o.getFirstRow())&&(u.get("headerHeight")===0||bh(r)?Ap(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof mm&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||Ap(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=Kf(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,n){let i=e.editing;if(!i&&e instanceof mm){const o=e.rowCtrl;o&&(i=o.editing)}let r;return i?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,n):r=this.moveToNextEditingCell(e,t,n):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var s;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const r=this.findNextCellToFocusOn(i,t,!0);return r===!1?null:r==null?!1:((s=this.beans.editSvc)==null||s.startEditing(r,null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.cellPosition,r=this.findNextCellToFocusOn(i,t,!0);if(r===!1)return null;if(r==null)return!1;const s=r.cellPosition,o=this.isCellEditable(i),a=this.isCellEditable(s),u=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned,{editSvc:d,rowEditSvc:h}=this.beans;if(o&&(d==null||d.setFocusOutOnEditor(e)),!u){const p=e.rowCtrl;d==null||d.stopRowEditing(p);const g=r.rowCtrl;h==null||h.startEditing(g,void 0,void 0,n)}return a?(d==null||d.setFocusInOnEditor(r),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.beans.visibleCols.allCols;let i;e instanceof PC?i={...e.getRowPosition(),column:t?n[0]:On(n)}:i=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(i,t,!1);if(r===!1)return null;if(r instanceof mm)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return ut(r)}findNextCellToFocusOn(e,t,n){let i=e;const r=this.beans,{cellNavigation:s,gos:o,focusSvc:a,rowRenderer:u,rangeSvc:d}=r;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=s.getNextTabbedCell(i,t);const h=o.getCallback("tabToNextCell");if(ut(h)){const y=h({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(y===!0)i=e;else{if(y===!1)return!1;i={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const m=Ou(r);return a.focusHeaderPosition({headerPosition:{headerRowIndex:m+i.rowIndex,column:i.column},fromCell:!0}),null}const p=o.get("editType")==="fullRow";if(n&&!p&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const g=Kf(r,i);if(!g){const m=u.getRowByPosition(i);if(!m||!m.isFullWidth()||n)continue;return m}if(!s.isSuppressNavigable(g.column,g.rowNode))return g.setFocusedCellPosition(i),d==null||d.setRangeToCell(i),g}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:u,gos:d}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)d.get("enableRtl")?t===je.LEFT&&(r=this.getLastCellOfColSpan(r)):t===je.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),s=di(r);if(s&&e&&e.key===je.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const p=d.getCallback("navigateToNextCell");if(ut(p)){const m=p({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});ut(m)?r={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:r=null}}if(!r)return;if(r.rowIndex<0){const p=Ou(o);u.focusHeaderPosition({headerPosition:{headerRowIndex:p+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const h=this.getNormalisedPosition(r);h?this.focusPosition(h):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=Kf(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const u=r.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?On(o):o[0])};this.focusPosition(d);const h=t??(u!=null&&Kae(d,u));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:h}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!EC(this.beans,e)}getLastCellOfColSpan(e){const t=Kf(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:On(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=p6(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&(n==null?void 0:n.sticky),{scrollFeature:r}=this.gridBodyCon;!i&&di(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function K2(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Jhe={moduleName:"KeyboardNavigation",version:ht,beans:[Zhe,Uhe,The],apiFunctions:{getFocusedCell:Whe,clearFocusedCell:$he,setFocusedCell:Khe,setFocusedHeader:Xhe,tabToNextCell:Yhe,tabToPreviousCell:Qhe}},efe=class extends Ve{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},tfe=class extends Ve{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},nfe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",ife=class extends Ve{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ei(n,t),ql(n,e))}},rfe=class extends Ve{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Yr(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ym(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:s}=n;let o=r;!o.length&&!s||(i&&(o=i({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!Av(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new ife(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if(Yr(o,"print")){st(37);return}r==null||r.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const u=[];e.forEach(d=>{if(!d)return;const h=i.getCol(d);h&&h.getPinned()!==a&&(this.setColPinned(h,a),u.push(h))}),u.length&&(s.refresh(n),M6(this.eventSvc,u,n)),r==null||r.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(u&&n||!u&&i)?s+d:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,s=Ym(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let u=0,d=0;const h=0,p=[];let g=i-h-e;for(;(d<o.length||u<a.length)&&g>0;){if(u<a.length){const m=a[u++];if(m.colDef.lockPinned){r=!0;continue}g-=m.getActualWidth(),p.push(m)}if(d<o.length&&g>0){const m=o[d++];if(m.colDef.lockPinned){r=!0;continue}g-=m.getActualWidth(),p.push(m)}}return{columns:p,hasLockedPinned:r}}},sfe={moduleName:"PinnedColumn",version:ht,beans:[rfe],css:[nfe]},ofe=class extends Ve{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=$r(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=zi(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),U_(n,"polite"),tse(n,"additions text"),ese(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(Lo(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},afe={moduleName:"Aria",version:ht,beans:[ofe]};function lfe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function ufe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function cfe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var dfe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",kB=class extends hi{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Lt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(dfe)}handleKeyDown(e){if(e.key!==je.TAB||e.defaultPrevented||Hu(e))return;const t=this.beans;if(qh(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:On(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=Ap(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=Nb;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new ZA(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=Pi(this.beans);r&&!f6(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{var a;(a=s.refresh)==null||a.call(s,_t(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&Mh(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Lo(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Pi(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},hfe={selector:"AG-OVERLAY-WRAPPER",component:kB},ffe=class extends Ve{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=fs(this.gos),this.isServerSide=!this.isClientSide&&Vh(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){st(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return hfe}getOverlayWrapperCompClass(){return kB}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!i.get("suppressLoadingOverlay")&&(o=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(iae(this.beans.userCompFactory,_t(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(rae(this.beans.userCompFactory,_t(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var r;const i=(e==null?void 0:e.newAgStackInstance())??null;(r=this.eWrapper)==null||r.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},pfe={moduleName:"Overlay",version:ht,userComponents:{agLoadingOverlay:Yle,agNoRowsOverlay:Qle},apiFunctions:{showLoadingOverlay:lfe,showNoRowsOverlay:ufe,hideOverlay:cfe},beans:[ffe]},gfe=class extends Ve{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=hse(),Fh(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Fh(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},mfe=400,vfe=class extends Ve{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{dd(this.gos)?n():i()}),dd(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:i})=>{(!i&&n||i&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Yr(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new yfe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=u=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&u(d)})},i=()=>{n(u=>u.onLeftChanged())},r=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},o=()=>{n(u=>u.onLastLeftPinnedChanged())},a=()=>{n(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Yr(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var r;const i=(r=n.getCellCtrl(e,!0))==null?void 0:r.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:i,printLayout:r}=this,s=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));n==null||n.forEachPinnedRow(t,(a,u)=>{const d=e[u];d&&n.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),a.id in s?(e[u]=s[a.id],delete s[a.id]):e[u]=new PC(a,i,!1,!1,r)});const o=(t==="top"?n==null?void 0:n.getPinnedTopRowCount():n==null?void 0:n.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n,i;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=s=>{const o=s[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=Pi(this.beans),i=gC(this.gos,n,RC),r=gC(this.gos,n,iv);return i||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&op(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s}=this;if(s){s.checkStickyRows();const o=s.extraTopHeight+s.extraBottomHeight;o&&this.updateContainerHeights(o)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(td(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(_t(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=q5(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return U5(r,t)})}getCellCtrls(e,t){let n;ut(t)&&(n={},t.forEach(r=>{const s=this.colModel.getCol(r);ut(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||i.push(s)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var u;const{afterScroll:t}=e;let n;const i=this.stickyRowFeature;i&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const r=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(i){o=i.checkStickyRows();const d=i.extraTopHeight+i.extraBottomHeight;d&&this.updateContainerHeights(d)}const a=this.firstRenderedRow!==r||this.lastRenderedRow!==s;if(!(t&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),n!=null)){const d=this.getCellToRestoreFocusToAfterRefresh();n!=null&&d==null&&((u=this.beans.animationFrameSvc)==null||u.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=[];for(let r=this.firstRenderedRow;r<=this.lastRenderedRow;r++)t.push(r);const n=r=>{const s=r.rowNode.rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(s)};for(const r of Object.values(this.rowCtrlsByRowIndex))n(r);if(e)for(const r of Object.values(e))n(r);t.sort((r,s)=>r-s);const i=[];for(let r=0;r<t.length;r++){const s=t[r],o=this.rowModel.getRow(s);o&&!o.sticky&&i.push(s)}return i}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;r&&n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=q5(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!U5(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),ut(r)&&ut(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),ut(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),mfe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=vh(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const h=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),g=this.gos.get("suppressRowVirtualisation");let m=!1,y,w;do{const F=t.getPixelOffset(),{pageFirstPixel:N,pageLastPixel:z}=t.getCurrentPagePixelRange(),B=e.divStretchOffset,k=p.getVScrollPosition(),V=k.top,K=k.bottom;g?(y=N+B,w=z+B):(y=Math.max(V+F-h,N)+B,w=Math.min(K+F+h,z)+B),this.firstVisibleVPixel=Math.max(V+F,N)+B,this.lastVisibleVPixel=Math.min(K+F,z)+B,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,w)}while(m);let x=n.getRowIndexAtPixel(y),C=n.getRowIndexAtPixel(w);const A=t.getFirstRow(),E=t.getLastRow();x<A&&(x=A),C>E&&(C=E),i=x,r=C}const s=Yr(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>a&&(r=i+a);const u=i!==this.firstRenderedRow,d=r!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,rc(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,u;const n=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),i=(u=this.stickyRowFeature)==null?void 0:u.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowNodeFocused(i),s=e.editing,o=i.detail;return r||s||o?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,n){var a;const i=((a=this.cachedRowCtrls)==null?void 0:a.getRow(e))??null;if(i)return i;const r=this.gos.get("suppressAnimationFrame"),s=n&&!r&&!this.printLayout&&!!this.beans.animationFrameSvc;return new PC(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},yfe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Ja(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ja(this.entriesList,e)}getEntries(){return this.entriesList}};function q5(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function U5(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var bfe=class extends Ve{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=_l(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=_l(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],u=a.sort==="desc",d=this.getValue(i,a.column),h=this.getValue(r,a.column);let p;const g=this.getComparator(a,i);if(g?p=g(d,h,i,r,u):p=Cse(d,h,this.isAccentedSort),!isNaN(p)&&p!==0)return a.sort==="asc"?p:p*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){var a,u;const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(WA(s,i.isPivotActive())){const p=(a=e.allLeafChildren)==null?void 0:a[0];return p?n.getValue(t,p,!1):void 0}const h=r==null?void 0:r.getShowRowGroupCol(t.getId());return h?(u=e.groupData)==null?void 0:u[h.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function Cfe(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function Hg(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var wfe=`<span class="ag-sort-indicator-container">
        ${Hg("Order","order")}
        ${Hg("Asc","ascending-icon")}
        ${Hg("Desc","descending-icon")}
        ${Hg("Mixed","mixed-icon")}
        ${Hg("None","none-icon")}
    </span>`,dE=class extends hi{constructor(e){super(),this.eSortOrder=Lt,this.eSortAsc=Lt,this.eSortDesc=Lt,this.eSortMixed=Lt,this.eSortNone=Lt,e||this.setTemplate(wfe)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=ca(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&Ei(e,o==="asc",{skipAriaHidden:!0}),t&&Ei(t,o==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),u=o==null;Ei(n,!a&&u,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;_l(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ei(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=r>=0&&s;Ei(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():Lo(e)}},Sfe={selector:"AG-SORT-INDICATOR",component:dE},rv=["asc","desc",null],xfe=class extends Ve{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){var h;t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:s}=this.beans,o=_l(r);let a=[e];if(o&&e.getColDef().showRowGroup){const p=(h=s==null?void 0:s.getSourceColumnsForGroupColumn)==null?void 0:h.call(s,e),g=p==null?void 0:p.filter(m=>m.isSortable());g&&(a=[e,...g])}a.forEach(p=>this.setColSort(p,t,i));const u=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),d=[];if(!u){const p=this.clearSortBarTheseColumns(a,i);d.push(...p)}this.updateSortIndex(e),d.push(...a),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=_l(t),s=i==null?void 0:i.getShowRowGroupCol(e.getId()),o=r&&s||e,a=this.getColumnsWithSortingOrdered();n.getAllCols().forEach(h=>this.setColSortIndex(h,null));const u=a.filter(h=>r&&h.getColDef().showRowGroup?!1:h!==o);(o.getSort()?[...u,o]:u).forEach((h,p)=>this.setColSortIndex(h,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.getAllCols().forEach(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??rv,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=t.getAllCols().filter(d=>!!d.getSort());if(t.isPivotMode()){const d=_l(e);r=r.filter(h=>{const p=!!h.getAggFunc(),g=!h.isPrimary(),m=d?n==null?void 0:n.getShowRowGroupCol(h.getId()):h.getColDef().showRowGroup;return p||g||m})}const s=(i==null?void 0:i.columns.filter(d=>!!d.getSort()))??[],o={};r.forEach((d,h)=>o[d.getId()]=h),r.sort((d,h)=>{const p=d.getSortIndex(),g=h.getSortIndex();if(p!=null&&g!=null)return p-g;if(p==null&&g==null){const m=o[d.getId()],y=o[h.getId()];return m>y?1:-1}else return g==null?-1:1});const a=_l(e)&&!!s.length;a&&(r=[...new Set(r.map(d=>(n==null?void 0:n.getShowRowGroupCol(d.getId()))??d))]);const u=new Map;return r.forEach((d,h)=>u.set(d,h)),a&&s.forEach(d=>{const h=n.getShowRowGroupCol(d.getId());u.set(d,u.get(h))}),u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,i])=>t-i).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=_l(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=new Date().getTime()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),u=new Date().getTime()-i<50;o||u||this.progressSortFromEvent(t,s)}});const r=()=>{var o;const s=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",s==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",s==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const a=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),d=!(a==null?void 0:a.every(h=>t.getSort()==h.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new dE(e)}getSortIndicatorSelector(){return Sfe}},IB={moduleName:"Sort",version:ht,beans:[xfe,bfe],apiFunctions:{onSortChanged:Cfe},userComponents:{agSortIndicator:dE},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Rfe=class extends Ve{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Fh(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,lp(e.source))}}};function Afe(e){var t;(t=e.valueCache)==null||t.expire()}function Efe(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(di(s))return null;const o=e.valueSvc.getValueForDisplay(s,i);return r?e.valueSvc.formatValue(s,i,o)??ju(o,!0):o}var FC=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){const o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},Tfe="paste",Pfe=class extends Ve{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;fs(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Tfe||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],s=this.clientSideRowModel,o=s==null?void 0:s.rootNode;if(o&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),u=new FC(a,o);u.addParentNode(i.parent,[e.column]),s.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{r.push(d)})}n.refreshCells({rowNodes:r})}},Dfe=class extends Ve{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);kn(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return kn(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Ffe=class extends Ve{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Lfe={moduleName:"ValueCache",version:ht,beans:[Ffe],apiFunctions:{expireValueCache:Afe}},Mfe={moduleName:"Expression",version:ht,beans:[Dfe]},Nfe={moduleName:"ChangeDetection",version:ht,beans:[Pfe]},Ofe={moduleName:"CellApi",version:ht,apiFunctions:{getCellValue:Efe}},kfe=class extends Ve{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Vh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const n=t.leafGroup&&this.colModel.isPivotMode(),i=t.group&&t.expanded&&!t.footer&&!n,r=this.gos.get("groupSuppressBlankHeader");if(!i||r)return this.getValue(e,t);let s=!1;const o=this.gos.get("groupTotalRow");typeof o!="function"?s=!!o:s=!!this.gos.getCallback("groupTotalRow")({node:this});const a=i&&s;return this.getValue(e,t,a)}getValue(e,t,n=!1){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),r=i.field,s=e.getColId(),o=t.data;let a;const u=t.groupData&&t.groupData[s]!==void 0,d=!n&&t.aggData&&t.aggData[s]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&d?a=t.aggData[s]:this.isTreeData&&i.valueGetter?a=this.executeValueGetter(i.valueGetter,o,e,t):this.isTreeData&&r&&o?a=gm(o,r,e.isFieldContainsDots()):u?a=t.groupData[s]:d?a=t.aggData[s]:i.valueGetter?a=this.executeValueGetter(i.valueGetter,o,e,t):p?a=gm(o,t.field,e.isFieldContainsDots()):r&&o&&!h&&(a=gm(o,r,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const g=a.substring(1);a=this.executeValueGetter(g,o,e,t)}if(a==null){const g=this.getOpenedGroup(t,e);if(g!=null)return g}return a}parseValue(e,t,n,i){var o;const r=e.getColDef(),s=r.valueParser;if(ut(s)){const a=_t(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(a):(o=this.expressionSvc)==null?void 0:o.evaluate(s,a)}return n}getDeleteValue(e,t){return ut(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,i,r=!0){let s=null,o;const a=e.getColDef();if(i?o=i:r&&(o=a.valueFormatter),o){const u=_t(this.gos,{value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?s=o(u):s=this.expressionSvc?this.expressionSvc.evaluate(o,u):null}else if(a.refData)return a.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(i===!0||i===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,n,i){var h,p;const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;di(e.data)&&(e.data={});const{field:s,valueSetter:o}=r.getColDef();if(di(s)&&di(o))return st(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return st(135),!1;const a=_t(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let u;if(ut(o)?typeof o=="function"?u=o(a):u=(h=this.expressionSvc)==null?void 0:h.evaluate(o,a):u=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),(p=this.valueCache)==null||p.onDataChanged();const d=this.getValue(r,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:d,value:d,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(r=o[a]===n,r||(o[a]=n)):o=o[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o}executeValueGetterWithoutValueCache(e,t,n,i){var o;const r=_t(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let s;return typeof e=="function"?s=e(r):s=(o=this.expressionSvc)==null?void 0:o.evaluate(e,r),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const s=_t(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&st(121)),r}},Ife={moduleName:"CommunityCore",version:ht,beans:[Mhe,Mue,Sde,Eoe,gfe,_ce,Ehe,Ihe,xoe,tfe,efe,vfe,kfe,Fhe,Ahe,Lhe,Rde,Rfe,vde,yde],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Nue,destroy:Oue,isDestroyed:kue,getGridOption:Iue,setGridOption:_ue,updateGridOptions:gB},dependsOn:[fde,gce,Sce,IB,jhe,Hce,Ghe,pfe,Nfe,Vhe,Jhe,sfe,afe,qhe,wde,pde,Mfe]},hE=class rh{static applyGlobalGridOptions(t){if(!rh.gridOptions)return{...t};let n={};return Zs(n,rh.gridOptions,!0,!0),rh.mergeStrategy==="deep"?Zs(n,t,!0,!0):n={...n,...t},rh.gridOptions.context&&(n.context=rh.gridOptions.context),t.context&&(rh.mergeStrategy==="deep"&&n.context&&Zs(t.context,n.context,!0,!0),n.context=t.context),n}};hE.gridOptions=void 0;hE.mergeStrategy="shallow";var _B=hE;function _fe(e){var t;return(t=_B.gridOptions)==null?void 0:t[e]}var Bfe=1,Hfe=class{create(e,t,n,i,r,s){const o=_B.applyGlobalGridOptions(t),a=o.gridId??String(Bfe++),u=o.rowModelType??"clientSide",d=this.getRegisteredModules(r,a,u),h=this.createBeansList(u,d,a),p=this.createProvidedBeans(e,o,r);if(!h)return;const g={providedBeanInstances:p,beanClasses:h,gridId:a,beanInitComparator:Pue,beanDestroyComparator:Due,derivedBeans:[Eue],destroyCallback:s},m=new bae(g);return this.registerModuleFeatures(m,d),n(m),m.getBean("syncSvc").start(),i&&i(m),m.getBean("gridApi")}getRegisteredModules(e,t,n){var i;return nv(Ife,void 0),(i=e==null?void 0:e.modules)==null||i.forEach(r=>nv(r,t)),fae(t,n)}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const s=r.apiFunctions;s&&Object.keys(s).forEach(a=>{i==null||i.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;di(i)&&(i=new fB);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!r){P5(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!H6(r,n,e)){P5(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:r,gridScoped:QA(),gridId:n,rowModelType:e},`Missing module ${r}Module for rowModelType ${e}. 
If upgrading from before v33, see ${gh}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const s=new Set;return t.forEach(o=>{var a;return(a=o.beans)==null?void 0:a.forEach(u=>s.add(u))}),Array.from(s)}};function Jl(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function v0(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function BB(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var jfe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Gfe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],Vfe=[...jfe,...Gfe],zfe=class extends Ve{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});const n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??r}}},qfe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],Ufe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],Wfe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],HB=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],$fe=["theme","rowSelection"],Kfe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],jB=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],Yfe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],Qfe=[...Wfe,...Ufe,...qfe,...HB,...Yfe,...jB,...Kfe,...$fe],Xfe=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t==null||t.forEach(s=>{this.createMethod(r,s,!0)}),n==null||n.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&st(49,{methodName:t}),null)}}},Zfe=class extends jp{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=ju(t,!0)}};function GB(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r,addSequentialWeight:s}=e;let o=n.map((d,h)=>({value:d,relevance:epe(t.toLowerCase(),d.toLocaleLowerCase(),s),idx:h}));if(o.sort((d,h)=>h.relevance-d.relevance),i&&(o=o.filter(d=>d.relevance!==0)),o.length>0&&r&&r>0){const h=o[0].relevance*r;o=o.filter(p=>h-p.relevance<0)}const a=[],u=[];for(const d of o)a.push(d.value),u.push(d.idx);return{values:a,indices:u}}function Jfe(e){const t=[],n=e.length;for(let i=1;i<=n;i++)for(let r=0;r<=n-i;r++){const s=r+i-1;t.push(e.slice(r,s+1))}return t}function epe(e,t,n=!1){const i=e.replace(/\s/g,""),r=t.replace(/\s/g,""),s=i.length,o=r.length,a=new Array(s+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=s;p+=1)a[p][0]=p;for(let p=0;p<=o;p+=1)a[0][p]=p;for(let p=1;p<=s;p++)for(let g=1;g<=o;g++)i[p-1]===r[g-1]?a[p][g]=a[p-1][g-1]:a[p][g]=1+Math.min(a[p][g-1],Math.min(a[p-1][g],a[p-1][g-1]));const u=a[s][o];let h=Math.max(s,o)-u;if(n){const p=Jfe(i);for(let g=0;g<p.length;g++){const m=p[g];r.indexOf(m)!==-1&&(h+=1,h*=m.length)}}return h}function tpe(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var npe=class extends Ve{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},ipe=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const o=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueSvc.getValue(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(e,t,n){var o,a;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((o=e.groupData)==null?void 0:o[t.getId()])!==void 0||Vh(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const u=t.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===((a=this.rowGroupColsSvc)==null?void 0:a.columns[0].getId())}}const s=WA(this.gos,this.colModel.isPivotMode());return n===0&&s}getHeaderName(e,t){return e?e(_t(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(_t(this.gos,{column:e,node:t}));const n=this.gos.get("treeData"),i=a=>{var d;if(n)return a.key;const u=(d=a.groupData)==null?void 0:d[e.getId()];return!u||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueSvc.formatValue(a.rowGroupColumn,a,u)??u},r=t.footer,s=[i(t)];if(!Ose(this.gos))for(;t.parent;)t=t.parent,s.push(i(t));const o=s.reverse().join(" -> ");return r?`Total ${o}`:o}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:i,value:r,processCellCallback:s,type:o}=e;return s?{value:s(_t(this.gos,{accumulatedRowIndex:t,column:i,node:n,value:r,type:o,parseValue:a=>this.valueSvc.parseValue(i,n,a,this.valueSvc.getValue(i,n)),formatValue:a=>this.valueSvc.formatValue(i,n,a)??a}))??""}:i.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueSvc.formatValue(i,n,r)}:{value:r??""}}};function rpe(e,t){const n=document.defaultView||window;if(!n){st(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var spe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Ys="clientSide",Os="serverSide",Df="infinite",ope={onGroupExpandedOrCollapsed:[Ys],refreshClientSideRowModel:[Ys],isRowDataEmpty:[Ys],forEachLeafNode:[Ys],forEachNodeAfterFilter:[Ys],forEachNodeAfterFilterAndSort:[Ys],resetRowHeights:[Ys],applyTransaction:[Ys],applyTransactionAsync:[Ys],flushAsyncTransactions:[Ys],getBestCostNodeSelection:[Ys],getServerSideSelectionState:[Os],setServerSideSelectionState:[Os],applyServerSideTransaction:[Os],applyServerSideTransactionAsync:[Os],applyServerSideRowData:[Os],retryServerSideLoads:[Os],flushServerSideAsyncTransactions:[Os],refreshServerSide:[Os],getServerSideGroupLevelState:[Os],refreshInfiniteCache:[Df],purgeInfiniteCache:[Df],getInfiniteRowCount:[Df],isLastRowIndexKnown:[Df,Os],expandAll:[Ys,Os],collapseAll:[Ys,Os],onRowHeightChanged:[Ys,Os],setRowCount:[Df,Os],getCacheBlockState:[Df,Os]},ape={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function lpe(e,t,n){const i=ape[e];if(i){const{version:s,new:o,old:a,message:u}=i,d=a??e;return(...h)=>{const p=o?`Please use ${o} instead. `:"";return pm(`Since ${s} api.${d} is deprecated. ${p}${u??""}`),t.apply(t,h)}}const r=ope[e];return r?(...s)=>{const o=n.rowModel.getType();if(!r.includes(o)){sp(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var VB={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Y2=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],upe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Y2,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Y2,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Y2,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},cpe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function dpe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=upe[i];r?r.forEach(s=>{const o=cpe[s];(!o||o===t)&&n.push(s)}):n.push(i)}),n}var dp={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},hpe=e=>{const t=e.map(i=>`import { ${bm(i)} } from '${VB[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>bm(i,!0)).join(", ")} ]); 

For more info see: ${gh}/modules/`};function bm(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function fpe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>VB[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}var yO=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s,isUmd:o})=>{const a=dpe(t,r),u=typeof e=="string"?e:vpe[e];if(o)return fpe(u,a);const d=a.filter(g=>g==="IntegratedCharts"||g==="Sparklines"),h=d.length>0?`${d.map(g=>bm(g)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${a.length>1?"one of "+a.map(g=>bm(g)).join(", "):bm(a[0])} is not registered${n?" for gridId: "+i:""}. ${h} Check if you have registered the module:
`}
${hpe(a)}`+(s?` 

${s}`:"")},bO=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,ppe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,gpe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${ppe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],o=GB({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${gh}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:yO,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${gh}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>bO("IntegratedChartsModule"),258:()=>bO("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>yO({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:dp[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${gh}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function mpe(e,t){const n=gpe[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${u6(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var vpe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},ype=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),bpe=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const n=dp[e];if(n)return{module:n}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=dp[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>zB(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=dp[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return td(262);if(e.smallLeft)return td(263);if(e.smallRight)return td(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(i=>t.includes(i))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const n=t.filter(i=>!rv.includes(i));if(n.length>0)return`sortingOrder must be an array with elements from [${rv.map(pC).join()}], currently it includes [${n.map(pC).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:i,enableCellSpan:r,pagination:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":r?s?"colDef.spanRows is not supported with pagination.":o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),Cpe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},wpe=()=>Object.keys(Cpe),zB=()=>({objectName:"colDef",allProperties:wpe(),docsUrl:"column-properties/",deprecations:ype(),validations:bpe()}),Spe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Ll(e,t,n,i=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=n&&t<=i?null:i===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${n}`:`${e}: value should be between ${n} and ${i}`:`${e}: value should be a number`}var xpe=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:n}){return Ll("autoSizePadding",n,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Ll("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Ll("cacheOverflowSize",n,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return td(262);if(n.smallLeft)return td(263);if(n.smallRight)return td(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Ll("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Ll("keepDetailRowsCount",n,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:n}){return Ll("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:n}){return Ll("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Ll("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(s=>!rv.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${rv.map(pC).join()}], currently it includes [${r.map(pC).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,getDataPath:s}=n;return!r&&!s?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":r&&s?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Ll("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Ll("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return jB.forEach(n=>{t[n]={expectedType:"boolean"}}),HB.forEach(n=>{t[n]={expectedType:"number"}}),Zs(t,e),t},Rpe=()=>({objectName:"gridOptions",allProperties:[...Qfe,...Vfe.map(e=>v6(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:Spe(),validations:xpe()}),Ape={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},Epe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},Tpe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Ppe={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},Dpe=class extends Ve{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,Sse(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&spe[t]&&st(22,{key:t})}processGridOptions(e){this.processOptions(e,Rpe())}validateApiFunction(e,t){return lpe(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=dp[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):st(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}checkRowEvents(e){Lpe.has(e)&&st(10,{eventType:e})}validateIcon(e){if(Tpe.has(e)&&st(43,{iconName:e}),Ape[e])return;const t=Epe[e];if(t){kn(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:QA(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}st(134,{iconName:e})}validateMenuItem(e){const t=Ppe[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!dp[e]}validateColDef(e,t,n){var i;(n||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&this.processOptions(e,zB())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],r,o,a);const u=new Set,d=p=>{const g=n[p];if(g)if(typeof g=="function"){const m=g(e,this.gridOptions,this.beans);if(!m)return;if("objectName"in m){const y=e[p];if(Array.isArray(y)){y.forEach(w=>{this.processOptions(w,m)});return}this.processOptions(e[p],m);return}return m}else return g;else return};Object.keys(e).forEach(p=>{const g=i[p];if(g){const{message:F,version:N}=g;u.add(`As of v${N}, ${String(p)} is deprecated. ${F??""}`)}const m=e[p];if(m==null||m===!1)return;const y=d(p);if(!y)return;const{module:w,dependencies:x,validate:C,supportedRowModels:A,expectedType:E}=y;if(E){const F=typeof m;if(F!==E){u.add(`${String(p)} should be of type '${E}' but received '${F}' (${m}).`);return}}if(A){const F=this.gridOptions.rowModelType??"clientSide";if(!A.includes(F)){u.add(`${String(p)} is not supported with the '${F}' row model. It is only valid with: ${A.join(", ")}.`);return}}if(w){const F=Array.isArray(w)?w:[w];let N=!0;if(F.forEach(z=>{this.gos.assertModuleRegistered(z,String(p))||(N=!1)}),!N)return}if(x){const F=this.checkForRequiredDependencies(p,x,e);if(F){u.add(F);return}}if(C){const F=C(e,this.gridOptions,this.beans);if(F){u.add(F);return}}}),u.size>0&&u.forEach(p=>{pm(p)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const s=["__ob__","__v_skip","__metadata__"],o=Fpe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const u of a){const d=o[u];let h=`invalid ${i} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(h+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),pm(h)}if(a.length>0&&r){const u=this.beans.frameworkOverrides.getDocLink(r);pm(`to see all the valid ${i} properties please check: ${u}`)}}getConsoleMessage(e,t){return mpe(e,t)}};function Fpe(e,t,n){const i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=GB({inputValue:s,allSuggestions:n}).values),i}var Lpe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Mpe={moduleName:"Validation",version:ht,beans:[Dpe]};function qB(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Npe=class extends Ve{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,qB(i)};if(this.doingTreeDataFiltering()){const i=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const u=s.childrenAfterGroup[a],d=o||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(s.childrenAfterGroup[a],d):n(u,d)}n(s,o)},r=s=>i(s,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Ope=class extends rE{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const s=Ev(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return _t(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=ca("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Hp(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();h0(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(Pi(t)===this.eGui)return;const r=qh(t,this.eGui,null,e.shiftKey);if(r){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case je.UP:case je.DOWN:t||e.preventDefault();case je.LEFT:case je.RIGHT:if(t)return;e.stopPropagation();case je.ENTER:t&&Mh(this.eGui)&&e.preventDefault();break;case je.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&ph(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,s=!!(r&&r.key===je.TAB);if(r&&s){const o=r.shiftKey;Mh(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new iE(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!To(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;s.onParentModelChanged(o,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var s;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(s=this.beans.filterManager)==null?void 0:s.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!i?this.updateCompDetails(e,i,n):r.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(i=>{i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function kpe(e,t){var i;const n=e.colModel.getCol(t);if(!n){kn(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:n,positionBy:"auto"})}function Ipe(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var _pe={moduleName:"SharedMenu",version:ht,beans:[Kle],apiFunctions:{showColumnMenu:kpe,hidePopupMenu:Ipe}},Bpe=0,Hpe=200,jpe=class extends Ve{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let u=!1;const d=()=>{const h=this.keepXYWithinBounds(n,o.top-a.top,0),p=n.clientWidth>0?n.clientWidth:200;u||(n.style.minWidth=`${p}px`,u=!0);const m=a.right-a.left-p;let y;return this.gos.get("enableRtl")?(y=x(),y<0&&(y=w(),this.setAlignedStyles(n,"left")),y>m&&(y=0,this.setAlignedStyles(n,"right"))):(y=w(),y>m&&(y=x(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:h};function w(){return o.right-a.left-2}function x(){return o.left-a.left-p}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:u,rowNode:d,type:h}=e,p=s.getBoundingClientRect(),g=this.getParentRect();this.setAlignedTo(s,t);const m=()=>{let y=p.left-g.left;o==="right"&&(y-=t.offsetWidth-p.width);let w;return a==="over"?(w=p.top-g.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,g,e.nudgeY||0)==="under"?w=p.top-g.top+p.height:w=p.top-t.offsetHeight-(i||0)*2-g.top),{x:y,y:w}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(h,t,s,null,u,d)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},u=(d=!1)=>{let{x:h,y:p}=o();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(h+=i),r&&(p+=r),n&&(h=this.keepXYWithinBounds(t,h,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${h}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const d=ic(this.beans,t,()=>u(!0));setTimeout(()=>d(),Hpe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=zi(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),n6(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",u=zi(this.beans),d=u.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),m=u.documentElement.getBoundingClientRect(),y=h===u.body,w=Math.ceil(p[o]);let C=y?(i?t6:uC)(d)+d[a]:h[r];y&&(C-=Math.abs(m[s]-g[s]));const A=C-w;return Math.min(Math.max(t,0),Math.abs(A))}addPopup(e){const t=zi(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=e;if(!t)return st(122),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,i,!!r),d=this.addEventListenersToPopup({...e,wrapperEl:u});return s&&s(),this.addPopupToPopupList(n,u,d,o),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ut(e.style.top)||(e.style.top=`${n.top*-1}px`),ut(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),r=document.createElement("div"),{environment:s,gos:o}=this.beans;return s.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Za(e,"dialog"),h0(e,t),r.appendChild(e),i.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=zi(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:u,modal:d}=e;let h=!1;const p=w=>{if(!r.contains(Pi(t)))return;w.key===je.ESCAPE&&!Hu(w)&&y({keyboardEvent:w})},g=w=>y({mouseEvent:w}),m=w=>y({touchEvent:w}),y=(w={})=>{const{mouseEvent:x,touchEvent:C,keyboardEvent:A,forceHide:E}=w;!E&&(this.isEventFromCurrentPopup({mouseEvent:x,touchEvent:C},s)||h)||(h=!0,i.removeChild(r),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",g),n.removeEventListener("touchstart",m),n.removeEventListener("contextmenu",g),this.eventSvc.removeEventListener("dragStarted",g),o&&o(x||C||A),this.removePopupFromPopupList(s))};return a&&a({hidePopup:y}),window.setTimeout(()=>{u&&n.addEventListener("keydown",p),d&&(n.addEventListener("mousedown",g),this.eventSvc.addEventListener("dragStarted",g),n.addEventListener("touchstart",m),n.addEventListener("contextmenu",g))},0),y}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Bpe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),a=(p,g)=>{const m=n[p]-s[p],y=o(r.style[p]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:g}},u=a("top",0),d=a("left",1),h=this.beans.frameworkOverrides;return new ci(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{const g=t.getBoundingClientRect(),m=i.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const w=(x,C)=>{const A=o(r.style[C]);x.last!==A&&(x.initial=A,x.last=A);const E=g[C]-m[C];if(E!=x.lastDiff){const F=this.keepXYWithinBounds(r,x.initial+x.initialDiff-E,x.direction);r.style[C]=`${F}px`,x.last=F}x.lastDiff=E};w(u,"top"),w(d,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(Wse(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=zi(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const s=[],o=[];for(const g of n)g!==r&&(g.classList.contains("ag-always-on-top")?o.push(g):s.push(g));const a=[],u=o.length,p=r.classList.contains("ag-always-on-top")||!u?[...s,...o,r]:[...s,r,...o];for(let g=0;g<=i;g++){const m=p[g];if(n[g]===p[g]||m===r)continue;m.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&a.push([w,w.scrollTop])}),g===0?t.insertAdjacentElement("afterbegin",m):p[g-1].insertAdjacentElement("afterend",m)}for(;a.length;){const g=a.pop();g[0].scrollTop=g[1]}}},y0={moduleName:"Popup",version:ht,beans:[jpe]},Gpe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Vpe(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function zpe(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function qpe(e,t){var i;const n=e.colModel.getColDefCol(t);if(n)return(i=e.filterManager)==null?void 0:i.destroyFilter(n,"api")}function Upe(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function Wpe(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function $pe(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function Kpe(e,t,n){var i;return((i=e.filterManager)==null?void 0:i.setColumnFilterModel(t,n))??Promise.resolve()}function Ype(e,t){var i;const n=e.colModel.getCol(t);if(!n){kn(12,{colKey:t});return}(i=e.menuSvc)==null||i.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var CO={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},wO=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qpe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Xpe=class extends Ve{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var i;(n.rowDataUpdated||(i=n.changedProps)!=null&&i.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i!=null&&i.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const s=[],o=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((u,d)=>{const h=e[d];s.push(ib(u.filterPromise,h)),a.delete(d)}),a.forEach(u=>{const d=n.getColDefCol(u)||n.getCol(u);if(!d){st(62,{colId:u});return}if(!d.isFilterAllowed()){st(63,{colId:u});return}const h=this.getOrCreateFilterWrapper(d);if(!h){st(64,{colId:u});return}s.push(ib(h.filterPromise,e[u]))})}else this.allColumnFilters.forEach(a=>{s.push(ib(a.filterPromise,null))});ci.all(s).then(()=>{const a=this.getFilterModel(!0),u=[];this.allColumnFilters.forEach((d,h)=>{const p=o?o[h]:null,g=a?a[h]:null;Xm(p,g)||u.push(d.column)}),u.length>0&&(r==null||r.onFilterChanged({columns:u,source:t}))})}getFilterModel(e){var s;const t={},{allColumnFilters:n,initialFilterModel:i,beans:{colModel:r}}=this;if(n.forEach((o,a)=>{const u=this.getModelFromFilterWrapper(o);ut(u)&&(t[a]=u)}),!e)for(const o of Object.keys(i)){const a=i[o];ut(a)&&!n.has(o)&&((s=r.getCol(o))!=null&&s.isFilterAllowed())&&(t[o]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(st(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(st(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!F5(n),r=a=>{if(!a.isPrimary())return!0;const d=!t.isPivotActive();return!a.isValueActive()||!d?!1:t.isPivotMode()?!0:i},s=[],o=[];return this.forEachColumnFilter((a,u)=>{e(a)&&(r(u.column)?s.push(a):o.push(a))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,i)=>this.setColFilterActive(i.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const i=n.filterPromise;i&&t.push(i.then(r=>e(r,n)))}),ci.all(t)}doColumnFiltersPass(e,t,n){const{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i;for(let a=0;a<s.length;a++){const u=s[a];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function"){kn(91);continue}if(!u.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(i,r)=>{const s=r?n.getCol(r):e;return s?t.getValue(s,i):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(L2(n))t="agSetColumnFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(L2(n))t="agSetColumnFloatingFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),i=e.getColDef();let r;const s={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(r,a))??!0}},o=tae(this.beans.userCompFactory,i,s,n);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a.then(u=>{r=u,t&&(t.filter=u??void 0)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return _t(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=i,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((r,s)=>{let o;r.column.isPrimary()?o=t.getColDefCol(s):o=t.getCol(s),!(o&&o===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(s))});const i=e.every(SO);e.length>0&&!i?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{SO(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=h=>{var g;const p=(g=this.getOrCreateFilterWrapper(e))==null?void 0:g.filterPromise;p!=null&&p.then(m=>{h(tv(m))})},i=e.getColDef(),r={...this.createFilterParams(e,i),filterChangedCallback:()=>n(h=>this.filterChangedCallbackFactory(h,e)())},{userCompFactory:s,frameworkOverrides:o}=this.beans,a=lae(s,i,r);let u=ale(o,i,()=>this.getDefaultFloatingFilter(e));u==null&&(u="agReadOnlyFloatingFilter");const d=_t(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return oae(s,i,d,u)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{var s;r&&this.isAlive()&&((s=this.beans.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(i=>{const r=!!(i!=null&&i.isFilterActive());return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),r}))??ci.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const i=(n==null?void 0:n.source)??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return}const r=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:a=>{var u;return((u=this.beans.filterManager)==null?void 0:u.doesRowPassOtherFilters(s,a))??!0},...r}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(tv(n))})})}getFilterInstanceImpl(e){var i;const t=this.beans.colModel.getColDefCol(e);return t?((i=this.getOrCreateFilterWrapper(t))==null?void 0:i.filterPromise)??ci.resolve(null):ci.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:i}=this.beans;if(i!=null&&i.isPendingInference){let a=()=>{};const u=new Promise(d=>{a=d});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),u}const r=n.getColDefCol(e),s=r?this.getOrCreateFilterWrapper(r):null;return s?(a=>new Promise(u=>{a.then(d=>u(d))}))(ib(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const i=L2(this.gos),r=this.getLocaleTextFunc(),s=o=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...o}:o};switch(t.baseDataType){case"number":{i&&s({comparator:Qpe});break}case"boolean":{s(i?{valueFormatter:o=>ut(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s(i?{valueFormatter:o=>{const a=n(o);return ut(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(o==="NaN")return r("invalidDate","Invalid Date");if(a===1&&o!=null){const u=wO[Number(o)-1];return r(u,CO[u])}return o??r("blanks","(Blanks)")}}:{isValidDate:xO});break}case"dateString":{const o=t.dateParser;s(i?{valueFormatter:a=>{const u=n(a);return ut(u)?u:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const u=o(a??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(a,u)=>{if(u===1&&a!=null){const d=wO[Number(a)-1];return r(d,CO[d])}return a??r("blanks","(Blanks)")}}:{comparator:(a,u)=>{const d=o(u);return u==null||d<a?-1:d>a?1:0},isValidDate:a=>typeof a=="string"&&xO(o(a))});break}case"object":{i?s({valueFormatter:o=>{const a=n(o);return ut(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function ib(e,t){return e?new ci(n=>{e.then(i=>{typeof i.setModel!="function"&&(st(65),n()),(i.setModel(t)||ci.resolve()).then(()=>n())})}):ci.resolve()}function SO(e){return e.getColDef().filter==="agGroupColumnFilter"}function xO(e){return e instanceof Date&&!isNaN(e.getTime())}function Zpe(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Jpe(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var ege=class extends Ve{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){F5(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):ci.resolve()).then(()=>{var s;const r={source:t,type:"filterChanged",columns:i};n&&Zs(r,n),this.eventSvc.dispatchEvent(r),(s=this.colFilter)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!F5(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){st(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var i;(i=this.colFilter)==null||i.setColDefPropertiesForDataType(e,t,n)}},tge=class extends Ve{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,i){this.showPopup(e,r=>{var s;(s=this.popupSvc)==null||s.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,To(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){let r=-1,s="left";const o=To(this.gos);!o&&this.gos.get("enableRtl")&&(r=1,s="right");const a=o?void 0:4*r,u=o?void 0:4;this.showPopup(e,d=>{var h;(h=this.popupSvc)==null||h.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:a,nudgeY:u,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,i)}showPopup(e,t,n,i,r,s){var w;const o=e?this.createBean(new nle(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){kn(57);return}const a=document.createElement("div");Za(a,"presentation"),a.classList.add("ag-menu"),r||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:x=>this.trapFocusWithin(x,a)}),a.appendChild(o==null?void 0:o.getGui());let u;const d=()=>o==null?void 0:o.afterGuiDetached(),h=Gse(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=x=>{iO(e,!1,"contextMenu");const C=x instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&i&&Kl(i)){const A=V6(i);A==null||A.focus({preventScroll:!0})}d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s==null||s()},g=this.getLocaleTextFunc(),m=r&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),y=(w=this.popupSvc)==null?void 0:w.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:m});y&&(this.hidePopup=u=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:u})}),iO(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==je.TAB||e.defaultPrevented||qh(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Mh(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},nge=class extends Ve{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:i}=n;return i?this.executeFilterValueGetter(i,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:s,valueSvc:o}=this.beans,a=_t(this.gos,{data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):s==null?void 0:s.evaluate(e,a)}},ige=class extends hi{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[g0]),this.eFloatingFilterText=Lt}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},UB=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(st(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:st(73)}else st(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Cm(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function LC(e){return e==null||typeof e=="string"&&e.trim().length===0}function rge(e){return e==="AND"||e==="OR"?e:"AND"}function sge(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function oge(e,t){let n=e.length;return n>t&&(e.splice(t),st(78),n=t),n}var WB=class extends ole{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&zh(o.conditions,a.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return s}shouldRefresh(e){var s;const t=this.getModel(),n=t?t.conditions??[t]:null,i=((s=e.filterOptions)==null?void 0:s.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(o=>i.find(a=>a===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],st(77));const r=oge(i,this.maxNumConditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.forEach((a,u)=>{this.eTypes[u].setValue(a.type,!0),this.setConditionIntoUi(a,u)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ci.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,i=[];if(n){const s=t;i.push(...s.conditions??[])}else i.push(t);return i[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=rge(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new UB,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(st(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(st(80),n=1),n>t&&(st(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new lE);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new cue);e.push(i);const r="ag-filter-condition-operator";return i.addCssClass(r),i.addCssClass(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(Km(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((i,r)=>{Ei(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinOperatorPanels:r,eJoinOperatorsAnd:s,eJoinOperatorsOr:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){Cm(e,t,n).forEach(r=>Dh(r))}removeComponents(e,t,n){Cm(e,t,n).forEach(r=>{Dh(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:i}=this;let r;if(!this.isReadOnly()){const s=this.getInputs(0)[0];s instanceof uh&&this.isConditionBodyVisible(0)?r=s.getInputElement():r=(t=i[0])==null?void 0:t.getFocusableElement()}(r??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),u=o<t;(a||u)&&(this.removeConditionsAndOperators(o,1),i=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof uh))return;const s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof uh&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof hi&&Ei(e.getGui(),t)}setElementDisabled(e,t){e instanceof hi&&Km(e.getGui(),t)}attachElementOnChange(e,t){e instanceof uh&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){const o=r[s];o!=null&&n(o,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ci.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),s=sge(r,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}hasInvalidInputs(){return!1}},$B=class extends WB{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),s=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=r(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return LC(t);case"notBlank":return!LC(t);default:return st(76,{filterModelType:i}),!0}}},KB=class{constructor(e,t,n,i,r){this.alive=!0,this.context=e,this.eParent=i;const s=nae(t,n);s&&s.newAgStackInstance().then(o=>{var d,h;if(!this.alive){e.destroyBean(o);return}if(this.dateComp=o,!o)return;i.appendChild(o.getGui()),(d=o==null?void 0:o.afterGuiAttached)==null||d.call(o);const{tempValue:a,disabled:u}=this;a&&o.setDate(a),u!=null&&((h=o.setDisabled)==null||h.call(o,u)),r==null||r(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){Ei(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},YB=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],fE=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const i=e,s=(i.conditions??[]).map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(o,J6[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const i=e,r=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&a===0?(n(s,o),o):this.conditionToString(i,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},QB=class extends fE{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},r=n=="inRange"||i===2,s=Qs(e.dateFrom),o=Qs(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const u=s!==null?ym(s,a):"null",d=o!==null?ym(o,a):"null";return`${u}-${d}`}return s!=null?ym(s,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},RO=1e3,AO=1/0,age=class extends $B{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=RO,this.maxValidYear=AO,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&Qs(t)||null,n&&Qs(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator??lge}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))st(82,{param:n});else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",RO),this.maxValidYear=t("maxValidYear",AO),this.minValidYear>this.maxValidYear&&st(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Qs(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Qs(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&st(84),this.filterModelFormatter=new QB(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:n,gos:i}=this.beans,r=new KB(n,t,_t(i,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return YB}createValueElement(){const t=zi(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,n,i){const s=zi(this.beans).createElement("div");s.classList.add(`ag-filter-${i}`),s.classList.add(`ag-filter-date-${i}`),t.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Cm(this.eConditionPanelsFrom,e,t),Cm(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Cm(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=pa(i[0])),i.length>1&&(n.dateTo=pa(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function lge(e,t){const n=t;return n<e?-1:n>e?1:0}var XB=class extends hi{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new UB;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const i=n.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(i);this.setEditable(r)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},uge=class extends XB{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[g0]),this.eReadOnlyText=Lt,this.eDateWrapper=Lt}getDefaultOptions(){return YB}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new QB(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Qs(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ei(this.eDateWrapper,e),Ei(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=pa(e);this.params.parentFilterInstance(n=>{if(n){const i=Qs(t);n.onFloatingFilterChanged(this.lastType||null,i)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=XA(e,this.defaultDebounceMs);return _t(this.gos,{onDateChanged:$r(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n}=this;this.dateComp=new KB(e,t,this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},cge=class extends hi{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[g0]),this.eDateInput=Lt,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===Pi(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&yd(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:a}=e.filterParams||{};if(s&&i&&st(85),o&&r&&st(86),s&&o){const[u,d]=[s,o].map(h=>h instanceof Date?h:Qs(h));u&&d&&u.getTime()>d.getTime()&&st(87)}s?s instanceof Date?t.min=ym(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=ym(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Qs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(pa(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},ZB=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],JB=class extends fE{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e,o=s=="inRange"||n===2,a=this.formatValue.bind(this);return o?`${a(i)}-${a(r)}`:i!=null?a(i):`${s}`}};function W5(e){const{allowedCharPattern:t}=e??{};return t??null}var dge=class extends $B{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new JB(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return ZB}setElementValue(e,t,n){const{numberFormatter:i}=this.numberFilterParams,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createValueElement(){const e=W5(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Za(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new Uh({allowedCharPattern:i}):new aE);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Bu(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},e8=class extends Ve{constructor(e){super(),this.params=e,this.eInput=Lt,this.onValueChanged=()=>{}}setupGui(e){var i;this.eInput=this.createManagedBean(new Uh((i=this.params)==null?void 0:i.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function t8(e){const t=e==null?void 0:e.trim();return t===""?e:t}var n8=class extends XB{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Lt,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=TC(e.filterParams),!r){const s=XA(e.filterParams,i),o=$r(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Lo(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===je.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:i}=this;let r=n.getValue();i.filterParams.trimInput&&(r=t8(r),n.setValue(r,!0)),i.parentFilterInstance(s=>{s==null||s.onFloatingFilterChanged(this.lastType||null,r||null)})}setEditable(e){this.inputSvc.setEditable(e)}},hge=class extends Ve{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new aE),this.eTextInput=this.createManagedBean(new Uh),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},fge=class extends n8{init(e){var t;super.init(e),this.filterModelFormatter=new JB(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){W5(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return ZB}createFloatingFilterInputService(e){return this.allowedCharPattern=W5(e.filterParams),this.allowedCharPattern?this.createManagedBean(new e8({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new hge)}},i8=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],r8=class extends fE{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e;return s=="inRange"||n===2?`${i}-${r}`:i!=null?`${i}`:`${s}`}},pge=class extends WB{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new r8(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let a=Bu(i.getValue());t&&this.textFilterParams.trimInput&&(a=t8(a)??null,i.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return i8}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Za(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Uh);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:o,colDef:a,column:u,context:d,textFormatter:h}=this.textFilterParams;if(n.type==="blank")return LC(t);if(n.type==="notBlank")return!LC(t);const p={api:o,colDef:a,column:u,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:h};return r.some(g=>this.matcher({...p,filterText:g}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},gge=class extends n8{init(e){super.init(e),this.filterModelFormatter=new r8(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return i8}createFloatingFilterInputService(){return this.createManagedBean(new e8)}};function mge(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function vge(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function yge(e){var t;(t=e.quickFilter)==null||t.resetCache()}var bge=class extends Ve{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var u;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e==null?void 0:e.getColumns(),o=t.getColDefCols();let a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?(u=i==null?void 0:i.getPivotResultCols())==null?void 0:u.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(d=>d.isVisible()||d.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ut(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){st(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return ut(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=_t(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return ut(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);ut(i)&&t.push(i)}),t.join(`
`)}},Cge={moduleName:"ClientSideRowModelFilter",version:ht,rowModels:["clientSide"],beans:[Npe]},pE={moduleName:"FilterCore",version:ht,beans:[ege],apiFunctions:{isAnyFilterPresent:Zpe,onFilterChanged:Jpe},css:[Gpe],dependsOn:[Cge]},s8={moduleName:"FilterValue",version:ht,beans:[nge]},b0={moduleName:"ColumnFilter",version:ht,beans:[Xpe,tge],dynamicBeans:{headerFilterCellCtrl:Ope},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Vpe,getColumnFilterInstance:zpe,destroyFilter:qpe,setFilterModel:Upe,getFilterModel:Wpe,getColumnFilterModel:$pe,setColumnFilterModel:Kpe,showColumnFilter:Ype},dependsOn:[pE,y0,s8,_pe]},wge={moduleName:"CustomFilter",version:ht,userComponents:{agReadOnlyFloatingFilter:ige},dependsOn:[b0]},Sge={moduleName:"TextFilter",version:ht,dependsOn:[b0],userComponents:{agTextColumnFilter:pge,agTextColumnFloatingFilter:gge}},xge={moduleName:"NumberFilter",version:ht,dependsOn:[b0],userComponents:{agNumberColumnFilter:dge,agNumberColumnFloatingFilter:fge}},Rge={moduleName:"DateFilter",version:ht,dependsOn:[b0],userComponents:{agDateColumnFilter:age,agDateInput:cge,agDateColumnFloatingFilter:uge}},Age={moduleName:"QuickFilterCore",version:ht,rowModels:["clientSide"],beans:[bge],dependsOn:[pE,s8]},Ege={moduleName:"QuickFilter",version:ht,apiFunctions:{isQuickFilterPresent:mge,getQuickFilter:vge,resetQuickFilter:yge},dependsOn:[Age]},Tge={moduleName:"ExternalFilter",version:ht,dependsOn:[pE]},Zg=class{constructor(e){this.cellValueChanges=e}},Q2=class extends Zg{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},Pge=10,EO=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Pge,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Dge=class extends Ve{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&k5(this.activeCellEdit,t),i=this.activeRowEdit!==null&&Yae(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:u,value:d}=e,h={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new EO(n),this.redoStack=new EO(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof Q2?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:s,columnId:o}=i,a={rowIndex:r,rowPinned:s},u=EC(this.beans,a);u.displayed&&u.setDataValue(o,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=EC(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,a=r.getCol(n);if(!a)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(a);const d={rowIndex:t,column:a,rowPinned:i};s.setFocusedCell({...d,forceBrowserFocus:!0}),o==null||o.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Zg(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Q2(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&dd(n)?e=new Q2(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Zg(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Fge=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",Lge=class extends jp{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[oE]),this.eCheckbox=Lt}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=HA(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}},C0=class extends jp{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Lt}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:i}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,o=!0;t?(this.focusAfterAttached=!0,n===je.BACKSPACE||n===je.DELETE?s="":n&&n.length===1?i?o=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==je.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:u}=a;(u===je.PAGE_UP||u===je.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var i,r;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;yd()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(r=(i=this.cellEditorInput).setCaret)==null||r.call(i)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Mge=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[dB]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!ut(n)&&!ut(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return pa(e,!1)}},Nge=class extends C0{constructor(){super(new Mge)}},Oge=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[dB]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!ut(n)&&!ut(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return pa(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Qs(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):pa(e??null,!1)??void 0}},kge=class extends C0{constructor(){super(new Oge(()=>this.beans.dataTypeSvc))}},Ige=class extends jp{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[hue]),this.eTextArea=Lt}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===je.LEFT||t===je.UP||t===je.RIGHT||t===je.DOWN||e.shiftKey&&t===je.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!ut(e)&&!ut(t.value)?t.value:t.parseValue(e)}},_ge=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[fue]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===je.UP||e.key===je.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!ut(n)&&!ut(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){yd()&&this.eInput.getInputElement().focus({preventScroll:!0})}},Bge=class extends C0{constructor(){super(new _ge)}},Hge=class extends jp{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[xue]),this.eSelect=Lt,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(di(r)){st(58);return}this.startedByEnter=o!=null?o===je.ENTER:!1;let a=!1;r.forEach(p=>{const g={value:p},m=n.formatValue(e.column,null,p),y=m!=null;g.text=y?m:p,t.addOption(g),a=a||s===p}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:h}=e;u!=null&&t.setPickerGap(u),h!=null&&t.setPickerMaxHeight(h),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},jge=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[g0]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!ut(n)&&!ut(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=ut(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},TO=class extends C0{constructor(){super(new jge)}};function Gge(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Vge(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function o8(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function a8(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function zge(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function qge(e){var t;(t=e.undoRedo)==null||t.undo("api")}function Uge(e){var t;(t=e.undoRedo)==null||t.redo("api")}function Wge(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{var s;const r=(s=i.comp)==null?void 0:s.getCellEditor();r&&n.push(tv(r))}),n}function $ge(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:i}=n;t.push(i)}}),t}function Kge(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function Yge(e,t){const n=e.colModel.getCol(t.colKey);if(!n){st(12,{colKey:t.colKey});return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&a8(e,t.rowIndex),o8(e,t.colKey);const s=Kf(e,i);if(!s)return;const{focusSvc:o,gos:a,editSvc:u}=e,d=()=>{const p=Pi(e),g=s.eGui;return p!==g&&!!(g!=null&&g.contains(p))},h=a.get("stopEditingWhenCellsLoseFocus")&&d();(h||!o.isCellFocused(i))&&o.setFocusedCell({...i,forceBrowserFocus:h,preventScrollOnBrowserFocus:!0}),u==null||u.startRowOrCellEdit(s,t.key)}function Qge(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function Xge(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var Zge=class extends jp{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Lh(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{_5(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},Jge=class extends Ve{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,i=null){var d;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,i)}),!0;const r=this.createCellEditorParams(e,t,n),s=e.column.getColDef(),o=XN(this.beans.userCompFactory,s,r),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,u=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return PO(e,!0,o),e.comp.setEditDetails(o,a,u,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!((d=o==null?void 0:o.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:i,rowNode:r}=e,{newValue:s,newValueExists:o}=eme(t,n),a=this.beans.valueSvc.getValueForDisplay(i,r);let u=!1;return o&&(u=tme(e,a,s,r,i)),PO(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:u}),u}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:r}=e.editCompDetails.params,s=this.createCellEditorParams(e,i,r),o=e.column.getColDef(),a=XN(this.beans.userCompFactory,o,s);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var i,r;return(r=(i=t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:r.call(i)}))}stopEditingAndFocus(e,t=!1,n=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(n,e.cellPosition)}createPopupEditorWrapper(e){return new Zge(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var s;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let r=!1;for(const o of n){const a=o.stopEditing(t);i&&!t&&!r&&a&&(r=!0)}r&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&((s=this.beans.rowEditSvc)==null||s.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(A5(i)===null){this.stopAllEditing();return}let r=e.some(s=>s.contains(i))&&W6(this.gos,i);if(!r){const s=this.beans.popupSvc;r=!!s&&(s.getActivePopups().some(o=>o.contains(i))||s.isElementWithinCustomPopup(i))}r||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var i;return e.comp?this.gos.get("editType")==="fullRow"?((i=this.beans.rowEditSvc)==null?void 0:i.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,n){const{column:i,rowNode:r,cellPosition:{rowIndex:s}}=e,{valueSvc:o,gos:a}=this.beans;return _t(a,{value:o.getValueForDisplay(i,r),eventKey:t,column:i,colDef:i.getColDef(),rowIndex:s,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:u=>o.parseValue(i,r,u,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var i;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?je.UP:je.DOWN;(i=this.beans.navigation)==null||i.navigateToNextCell(null,r,t,!1)}}};function PO(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function eme(e,t){const n={newValueExists:!1};if(e)return n;const i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}function tme(e,t,n,i,r){if(n===t)return!1;e.suppressRefreshCell=!0;const s=i.setDataValue(r,n,"edit");return e.suppressRefreshCell=!1,s}var nme=class extends Ve{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,i=null){if(e.editing)return!0;let r=!0,s=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{const u=a===n;u?r=(o==null?void 0:o.startEditing(a,t,u,i))??!0:o==null||o.startEditing(a,null,u,i),s||(s=a.editing)}),s&&this.setEditing(e,!0),r}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},bd={moduleName:"EditCore",version:ht,beans:[Jge,nme],apiFunctions:{getCellEditorInstances:Wge,getEditingCells:$ge,stopEditing:Kge,startEditingCell:Yge},dependsOn:[y0],css:[Fge]},ime={moduleName:"UndoRedoEdit",version:ht,beans:[Dge],apiFunctions:{undoCellEditing:qge,redoCellEditing:Uge,getCurrentUndoSize:Qge,getCurrentRedoSize:Xge},dependsOn:[bd]},rme={moduleName:"TextEditor",version:ht,userComponents:{agCellEditor:TO,agTextCellEditor:TO},dependsOn:[bd]},sme={moduleName:"NumberEditor",version:ht,userComponents:{agNumberCellEditor:{classImp:Bge,params:{suppressPreventDefault:!0}}},dependsOn:[bd]},ome={moduleName:"DateEditor",version:ht,userComponents:{agDateCellEditor:Nge,agDateStringCellEditor:kge},dependsOn:[bd]},ame={moduleName:"CheckboxEditor",version:ht,userComponents:{agCheckboxCellEditor:Lge},dependsOn:[bd]},lme={moduleName:"SelectEditor",version:ht,userComponents:{agSelectCellEditor:Hge},dependsOn:[bd]},ume={moduleName:"LargeTextEditor",version:ht,userComponents:{agLargeTextCellEditor:Ige},dependsOn:[bd]},cme={moduleName:"CustomEditor",version:ht,dependsOn:[bd]},dme=class extends Ve{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,lp(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),aoe(e))}createColumns(e,t){var g,m;const n=()=>{var y;bC(this.beans,(y=this.columns)==null?void 0:y.tree),this.columns=null},i=e.treeDepth,s=(((g=this.columns)==null?void 0:g.treeDepth)??-1)==i,o=this.generateSelectionCols();if(ooe(o,((m=this.columns)==null?void 0:m.list)??[])&&s)return;n();const{colGroupSvc:u}=this.beans,d=(u==null?void 0:u.findDepth(e.tree))??0,h=(u==null?void 0:u.balanceTreeForAutoCols(o,d))??[];this.columns={list:o,tree:h,treeDepth:d,map:{}},t(y=>{if(!y)return null;const w=y.filter(x=>!Ku(x));return[...o,...w]})}updateColumns(e){var i;const t=lp(e.source),n=e.currentValue;(i=this.columns)==null||i.list.forEach(r=>{const s=this.createSelectionColDef(n);r.setColDef(s,null,t),fa(this.beans,{state:[{colId:r.getColId(),...s}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>E6(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,a;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!mh(e))return!1;const i=(((a=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:a.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!ap(n),s=Fb(n);return r||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,u,d,h){const p=d.isSelected(),g=h.isSelected();return p===g?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:R6}}generateSelectionCols(){var i;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(i=this.beans.validation)==null||i.validateColDef(e,t,!0);const n=new $A(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?ap(t):void 0,r=e&&typeof e!="string"?ap(e):void 0,s=i!==r,o=t&&typeof t!="string"?Fb(t):void 0,a=e&&typeof e!="string"?Fb(e):void 0,u=o!==a,d=L5(e),h=L5(t);(s||u||d!==h)&&this.beans.colModel.refreshAll(n)}destroy(){var e;bC(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,n=t.visibleCols.getAllTrees()??[];if(n.length!==0){if(!n.some(l8)){const i=ev(t).find(r=>Ku(r.colId));i&&fa(t,{state:[{colId:i.colId,hide:!i.hide}]},e)}if(n.length===1){const i=n[0],r=u8(i);if(!r)return;fa(t,{state:[{colId:r.getColId(),hide:!0}]},e)}}}},l8=e=>{var t;return e.isColumn?Ku(e):((t=e.getChildren())==null?void 0:t.some(l8))??!1};function u8(e){if(e.isColumn)return Ku(e)?e:null;const t=e.getChildren()??[];for(const n of t){const i=u8(n);if(i)return i}return null}function hme(e,t){var o;if(!t.nodes.every(a=>a.rowPinned?(st(59),!1):a.id===void 0?(st(60),!1):!0))return;const{nodes:i,source:r,newValue:s}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:i,source:r??"api",newValue:s})}function fme(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:n,selectAll:t})}function pme(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:n,selectAll:t})}function gme(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function mme(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function vme(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function yme(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function bme(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function Cme(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var wme=class extends uue{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=mC(e),this.groupSelectsDescendants=Jm(e),this.groupSelectsFiltered=yC(e)==="filteredDescendants",this.masterSelectsDetail=WN(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Jm(e),n=mC(e),i=yC(e)==="filteredDescendants";this.masterSelectsDetail=WN(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s}){var a;if(!mh(this.gos)&&e)return st(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return st(130),0;let o=0;for(let u=0;u<i.length;u++){const d=i[u],h=rb(d),p=this.groupSelectsFiltered&&h.group;if(h.rowPinned){st(59);continue}if(h.id===void 0){st(60);continue}p||this.selectRowNode(h,e,r,s)&&(this.detailSelection.delete(h.id),o++),this.groupSelectsDescendants&&((a=h.childrenAfterGroup)!=null&&a.length)&&(o+=this.selectChildren(h,e,s))}return n||(e&&(t||!this.isMultiSelect())&&(o+=this.clearOtherNodes(rb(i[0]),s)),o>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),o}selectRange(e,t,n){let i=0;return e.forEach(r=>{if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!fs(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new FC(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t){const n=new Map;let i=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const s=this.selectedNodes.get(r.id);i+=this.setNodesSelected({nodes:[s],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{const s=this.calculateSelectedFromChildren(r);this.selectRowNode(r,s===null?!1:s,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Ep(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!fs(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(s){for(let o=0,a=s.length;o<a;o++){const u=s[o];u.isSelected()?i.push(u):u.group&&u.childrenAfterGroup&&r(u.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=fs(this.gos);let i=!1;const r=s=>{const o=this.selectRowNode(rb(s),!1,void 0,e);i||(i=o)};if(t==="currentPage"||t==="filtered"){if(!n){kn(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return c8(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){t.push(i);return}if(!i.expanded&&!i.footer){const r=s=>{var o;t.push(s),(o=s.childrenAfterFilter)!=null&&o.length&&s.childrenAfterFilter.forEach(r)};r(i);return}this.groupSelectsDescendants||t.push(i)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(i=>{t.push(i)}),t):(n.forEachNode(i=>{t.push(i)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!mh(t)){st(132);return}if(_se(t)&&!vC(t)){st(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let s=!1;if(this.getNodesToSelect(r).forEach(o=>{const a=this.selectRowNode(rb(o),!0,void 0,i);s||(s=a)}),n.selectAll=!0,fs(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(i);s||(s=o)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){kn(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return fs(e)?!0:(kn(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var u;const{gos:t,rowModel:n}=this.beans;if(!mh(t))return;const i="selectableChanged",r=e!==void 0,s=fs(t)&&this.groupSelectsDescendants,o=[],a=d=>{var p;if(r&&!d.group)return;if(s&&d.group){const g=((p=d.childrenAfterGroup)==null?void 0:p.some(m=>m.selectable))??!1;this.setRowSelectable(d,g,!0);return}!this.updateRowSelectable(d,!0)&&d.isSelected()&&o.push(d)};if(s){if(e===void 0){const d=n.rootNode;e=d?new FC(!1,d):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&((u=this.updateGroupsFromChildrenSelections)==null||u.call(this,i))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var s,o;if(!this.masterSelectsDetail)return;const n=(o=(s=e.detailNode)==null?void 0:s.detailGridInfo)==null?void 0:o.api;if(!n)return;const i=Sme(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const a=this.detailSelection.get(e.id)??new Set;for(const u of n.getSelectedNodes())a.add(u.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!vC(t)){st(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const s of i){const o=n.getRowNode(s);o&&r.push(o)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}};function rb(e){return e.footer?e.sibling:e}function Sme(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),c8(t,n)}function c8(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var xme={moduleName:"SharedRowSelection",version:ht,beans:[dme],apiFunctions:{setNodesSelected:hme,selectAll:fme,deselectAll:pme,selectAllFiltered:gme,deselectAllFiltered:mme,selectAllOnCurrentPage:vme,deselectAllOnCurrentPage:yme,getSelectedNodes:bme,getSelectedRows:Cme}},Rme={moduleName:"RowSelection",version:ht,rowModels:["clientSide","infinite","viewport"],beans:[wme],dependsOn:[xme]};function Ame(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function Eme(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function Tme(e){const t=Jl(e),n=BB(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Pme(e,t,n){var s;const i=BB(e);if(i){if(((s=e.rowGroupColsSvc)==null?void 0:s.columns.length)===0){if(t<0){kn(238);return}i.setRowCount(t,n);return}kn(28);return}const r=v0(e);if(r){r.setRowCount(t,n);return}}function Dme(e){var t;return Vh(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function Fme(e){return e.rowModel.isLastRowIndexKnown()}var Lme={moduleName:"CsrmSsrmSharedApi",version:ht,apiFunctions:{expandAll:Ame,collapseAll:Eme,onRowHeightChanged:Tme}},Mme={moduleName:"SsrmInfiniteSharedApi",version:ht,apiFunctions:{setRowCount:Pme,getCacheBlockState:Dme,isLastRowIndexKnown:Fme}},Nme=class extends Ve{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{var s;if(!i){kn(18),t||kn(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?(s=r.current)==null?void 0:s.api:(r.api||kn(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":st(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var h;const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(m=>({colId:m.colId}));fa(i,{state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));fa(i,{state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));fa(i,{state:g},"alignedGridChanged")}break;case"columnResized":{const p=e,g={};a.forEach(m=>{g[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(h=p.flexColumns)==null||h.forEach(m=>{g[m.getId()]&&delete g[m.getId()]}),r==null||r.setColumnWidths(Object.values(g),!1,p.finished,"alignedGridChanged");break}}const d=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",d)})}},Ome={moduleName:"AlignedGrids",version:ht,beans:[Nme]},kme=class extends sue{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},X2=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Ime(e){if(di(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function d8(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Ime(e)}var _me=class extends Ve{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=ut(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>_l(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,i,r,s,o){const{gos:a,colModel:u,rowGroupColsSvc:d,groupHideOpenParentsSvc:h,rowNodeSorter:p}=e,g=a.get("groupMaintainOrder"),m=u.getCols().some(C=>C.isRowGroupActive()),y=u.isPivotMode(),w=a.getCallback("postSortRows"),x=C=>{var N;h==null||h.pullDownGroupDataForHideOpenParents(C.childrenAfterAggFilter,!0);const A=y&&C.leafGroup,E=g&&m&&!C.leafGroup&&!o;let F;if(E){const z=(N=d==null?void 0:d.columns)==null?void 0:N[C.level+1],B=(z==null?void 0:z.getSort())===null,k=C.childrenAfterAggFilter.slice(0);if(C.childrenAfterSort&&!B){const V={};C.childrenAfterSort.forEach((K,T)=>{V[K.id]=T}),k.sort((K,T)=>(V[K.id]??0)-(V[T.id]??0))}F=k}else!n||A?F=C.childrenAfterAggFilter.slice(0):i&&r?F=Bme(p,C,r,s,t):F=p.doFullSort(C.childrenAfterAggFilter,t);if(C.childrenAfterSort=F,d8(C),w){const z={nodes:C.childrenAfterSort};w(z)}};s==null||s.forEachChangedNodeDepthFirst(x)}};function Bme(e,t,n,i,r){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);const a=new Set,u=[],{updates:d,adds:h}=n;for(let g=0,m=s.length;g<m;++g){const y=s[g];d.has(y)||h.has(y)||i&&!i.canSkip(y)?u.push({currentPos:u.length,rowNode:y}):a.add(y.id)}const p=o.filter(g=>a.has(g.id)).map((g,m)=>({currentPos:m,rowNode:g}));return u.sort((g,m)=>e.compareRowNodes(r,g,m)),Hme(e,r,u,p)}function Hme(e,t,n,i){const r=[];let s=0,o=0;const a=n.length,u=i.length;for(;s<a&&o<u;){const d=n[s],h=i[o],p=e.compareRowNodes(t,d,h);let g;p<0?(g=d,++s):(g=h,++o),r.push(g.rowNode)}for(;s<a;)r.push(n[s++].rowNode);for(;o<u;)r.push(i[o++].rowNode);return r}var jme=class extends Ve{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=$r(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Ep(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;let n;return e.get("treeData")&&(e.get("treeDataChildrenField")?n=t.csrmChildrenTreeNodeSvc:n=t.csrmPathTreeNodeSvc),n??t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var i;const n=(i=t.changeSet)==null?void 0:i.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),u=Math.max(o,n),d=Math.min(a,i);for(let h=u;h<=d;h++){const p=this.getRow(h);if(p.rowHeightEstimated){const g=wp(this.beans,p);p.setRowHeight(g.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}onPropChange(e){var h;if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=n.has("treeData"),o=this.nodeManager,a=this.getNewNodeManager(),u=o!==a||n.has("treeDataChildrenField")&&t.get("treeData");let d;if(s&&(i.step="group"),(u||r)&&(d=t.get("rowData"),d!=null&&!Array.isArray(d)&&(d=null,st(1))),u&&(r||(d=(o==null?void 0:o.extractRowData())??d),o!==a&&(o==null||o.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),d&&(!u&&!this.isEmpty()&&d.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new X2,a.setImmutableRowData(i,d)):(i.rowDataUpdated=!0,i.newData=!0,(h=this.beans.selectionSvc)==null||h.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(d))),i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:p,step:g}of this.orderedStages)if(e.some(m=>p.has(m))){i.step=g;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let n=0;const i=new Set,r=Yr(this.gos,"normal"),s=this.rowsToDisplay;for(let o=0,a=s.length;o<a;++o){const u=s[o];if(u.id!=null&&i.add(u.id),u.rowHeight==null){const d=wp(e,u,r,t);u.setRowHeight(d.height,d.estimated)}u.setRowTop(n),u.setRowIndex(o),n+=u.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,n=0){var a;const i=this.getRowIndexAtPixel(t),r=this.getRow(i),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const o=(a=this.rootNode)==null?void 0:a.allLeafChildren;return o?(e.forEach(u=>{Ja(o,u)}),e.forEach((u,d)=>{o.splice(Math.max(i+n,0)+d,0,u)}),e.forEach((u,d)=>{u.sourceRowIndex=d}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:s,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,i=n!=null?this.getRow(n):null;if(!i||!e||t==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(t,i),s=this.isHighlightingCurrentPosition(e,i,r),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==i;(s||o)&&(this.clearHighlightedRow(),s)||(this.setRowNodeHighlighted(i,r),this.lastHighlightedRow=i)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return"Below"}const{rowTop:n,rowHeight:i}=t;return e-n<i/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const i=n==="Above"?-1:1;return this.getRow(t.rowIndex+i)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,s=a=>{let u=r[a];if(this.gos.get("groupHideOpenParents"))for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=op(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=op(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=op(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new FC(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){var i,r;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((r=(i=this.nodeManager).refreshModel)==null||r.call(i,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],s=Jm(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){r.push(o);return}}),r}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(On(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+i)/2),u=t[a];if(this.isRowInPixel(u,e)||(u.rowTop<e?n=a+1:u.rowTop>e&&(i=a-1),s===n&&o===i))return a;s=n,o=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((i,r)=>e(i,r))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const i=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,r=>r.leafGroup?null:r[i])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,r=0){let s=r;if(!i)return s;const o=i===this.rootNode;o||e(i,s++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const u=n(i);if(u){s=(a==null?void 0:a.addTotalRows(s,i,e,t,o,"top"))??s;for(const d of u)s=this.depthFirstSearchRowNodes(e,t,n,d,s);return(a==null?void 0:a.addTotalRows(s,i,e,t,o,"bottom"))??s}}return s}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:n}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(i=>{n==null||n.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0),i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),d8(i)}),n==null||n.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,n,i){const r=this.nodeManager.treeData,s=this.rootNode;if(!r){const o=this.groupStage;if(o)o.execute({rowNode:s,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:i});else{const a=s.sibling;s.childrenAfterGroup=s.allLeafChildren,a&&(a.childrenAfterGroup=s.childrenAfterGroup),s.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,qB(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(I5)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var r,s;(r=this.valueCache)==null||r.onDataChanged();const e=[],t=[],n=new X2;let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:u}=this.nodeManager.updateRowData(o.rowDataTransaction,n);u&&(i=!0),t.push(a),o.callback&&e.push(o.callback.bind(null,a))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var r;(r=this.valueCache)==null||r.onDataChanged(),this.rowNodesCountReady=!0;const t=new X2,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=KN,this.rowsToDisplay=KN}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Gme(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Vme(e,t){const n=Jl(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function zme(e){var t;return((t=Jl(e))==null?void 0:t.isEmpty())??!0}function qme(e,t){var n;(n=Jl(e))==null||n.forEachLeafNode(t)}function Ume(e,t){var n;(n=Jl(e))==null||n.forEachNodeAfterFilter(t)}function Wme(e,t){var n;(n=Jl(e))==null||n.forEachNodeAfterFilterAndSort(t)}function $me(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){st(3);return}(n=Jl(e))==null||n.resetRowHeights()}function Kme(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Jl(e))==null?void 0:n.updateRowData(t)})}function Yme(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=Jl(e))==null?void 0:i.batchUpdateRowData(t,n)})}function Qme(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Jl(e))==null?void 0:t.flushAsyncTransactions()})}function Xme(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var Zme={moduleName:"ClientSideRowModel",version:ht,rowModels:["clientSide"],beans:[kme,jme,_me],dependsOn:[IB]},Jme={moduleName:"ClientSideRowModelApi",version:ht,apiFunctions:{onGroupExpandedOrCollapsed:Gme,refreshClientSideRowModel:Vme,isRowDataEmpty:zme,forEachLeafNode:qme,forEachNodeAfterFilter:Ume,forEachNodeAfterFilterAndSort:Wme,resetRowHeights:$me,applyTransaction:Kme,applyTransactionAsync:Yme,flushAsyncTransactions:Qme,getBestCostNodeSelection:Xme},dependsOn:[Lme]},eve=class extends Ve{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,u)=>u(a),e).parse()}processRow(e,t,n,i){var y;const r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,u=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,h=i.allChildrenCount===1&&((y=i.childrenAfterGroup)==null?void 0:y.length)===1&&kse(this.gos,i);if(!u&&!d&&(t.skipRowGroups||h||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.level===-1&&!u&&!d||r(_t(this.gos,{node:i})))return;const m=e.onNewBodyRow(i);if(n.forEach((w,x)=>{m.onColumn(w,x,i)}),t.getCustomContentBelowRow){const w=t.getCustomContentBelowRow(_t(this.gos,{node:i}));w&&e.addCustomContent(w)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new k6,{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedTopRow(s.rowIndex)}).forEach(i):(r=this.pinnedRowModel)==null||r.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{var d;const i=this.rowModel,r=fs(this.gos),s=Vh(this.gos),o=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(h=>h.rowPinned==null).sort((h,p)=>h.rowIndex-p.rowIndex).map(h=>i.getRow(h.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,u==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){const h=((d=this.beans.selectionSvc)==null?void 0:d.getSelectedNodes())??[];this.replicateSortedOrder(h),h.forEach(a)}else u==="all"?i.forEachNode(a):r||s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(s,o)=>{var a,u;return s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?((a=s.parent)==null?void 0:a.id)===((u=o.parent)==null?void 0:u.id)?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent)};e.sort(r)}processPinnedBottomRows(e,t){return n=>{var r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedBottomRow(s.rowIndex)}).forEach(i):(r=this.pinnedRowModel)==null||r.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:s,gos:o,visibleCols:a}=this,u=s.isPivotMode(),d=g=>Ku(g)?!1:!Av(g)||i;if(r&&r.length)return s.getColsForKeys(r).filter(d);const h=o.get("treeData");let p=[];return t&&!u?p=s.getCols():p=a.allCols,p=p.filter(g=>d(g)&&(n&&!h?!KA(g):!0)),p}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o))}),e.length>0&&Ai(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const o=s;let a;n?a=n(_t(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const u=o.getLeafColumns().reduce((d,h,p,g)=>{let m=On(d);return h.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[p],d.push(m)):m&&m[1]==null&&(m[1]=p-1),p===g.length-1&&m&&m[1]==null&&(m[1]=p),d},[]);i.onColumn(o,a||"",r++,o.getLeafColumns().length-1,u)})}},tve={moduleName:"SharedExport",version:ht,beans:[eve]},DO=`\r
`,nve=class extends ipe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,DO),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(st(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=DO),this.isFirstLine=!1}},ive=class extends npe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){st(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(_t(this.gos,{})):t.fileName;rpe(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:h,columnSeparator:p}=e;return new nve({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:h||!1,columnSeparator:p||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function rve(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function sve(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var ove={moduleName:"CsvExport",version:ht,beans:[ive],apiFunctions:{getDataAsCsv:rve,exportDataAsCsv:sve},dependsOn:[tve]},ave=class extends Ve{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){const o=n+s,a=new Ep(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),r.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){ut(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(di(this.params.datasource.getRows)){st(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:_t(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{const o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new Ep(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},lve=2,uve=class extends Ve{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new ave(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Fh(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=lve-1;t.forEach((o,a)=>{const u=o.state==="needsLoading"&&a>=s,d=i?a>=r:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,ut(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(u=>{if(!o){if(r&&i+1!==u.id){o=!0;return}i=u.id,u.forEachNode(d=>{const h=d===e||d===t;(r||h)&&n.push(d),h&&(r=!r)},s,this.rowCount)}}),o||r?[]:n}},cve=class extends Ve{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=vh(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=vh(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Xm(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;Sp(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:vh(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new uve(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function dve(e){var t;(t=v0(e))==null||t.refreshCache()}function hve(e){var t;(t=v0(e))==null||t.purgeCache()}function fve(e){var t;return(t=v0(e))==null?void 0:t.getRowCount()}var pve=class extends Ve{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=Ise(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$r(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ja(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Fh(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){Fh(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},gve={moduleName:"InfiniteRowModelCore",version:ht,rowModels:["infinite"],beans:[cve,pve]},mve={moduleName:"InfiniteRowModel",version:ht,apiFunctions:{refreshInfiniteCache:dve,purgeInfiniteCache:hve,getInfiniteRowCount:fve},dependsOn:[gve,Mme]},vve="",yve="",bve=class extends hi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=ut(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=vve+r:o.textContent=yve+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Lo(this.eDelta)}refresh(e,t=!1){var a;const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(ut(i)?r.textContent=i:ut(n)?r.textContent=n:Lo(r),(a=o.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof s=="number"){const u=n-s;this.showDelta(e,u)}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Cve=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",wve=class extends hi{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(Cve)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=zi(t).createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var r;let n=e.value;if(di(n)&&(n=""),n===this.lastValue||(r=this.beans.filterManager)!=null&&r.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return ut(e.valueFormatted)?i.textContent=e.valueFormatted:ut(e.value)?i.textContent=n:Lo(i),!0}},Sve=class extends Ve{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const n=$ae(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,n,i){const r=e.comp;if(!r)return;const{gos:s}=this;if(n||(n=s.get("cellFlashDuration")),n===0)return;ut(i)||(i=s.get("cellFadeDuration"));const o=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;r.addOrRemoveCssClass(o,!0),r.addOrRemoveCssClass(a,!1);const u=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(o,!1),r.addOrRemoveCssClass(a,!0),u.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(a,!1),u.style.transition="")},i))},n)})}};function xve(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var Rve={moduleName:"HighlightChanges",version:ht,beans:[Sve],userComponents:{agAnimateShowChangeCellRenderer:bve,agAnimateSlideCellRenderer:wve},apiFunctions:{flashCells:xve}};function Ave(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function Eve(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Tve(e)}return e}function Tve(e){return e.cellSelection=Pve(e,"rangeSelection"),e}function Pve(e,t){if(e&&typeof e=="object")return e[t]}var Dve=class extends Ve{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=$r(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=$r(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=$r(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=fs(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",ht);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,i]=this.addManagedEventListeners({newColumnsLoaded:({source:r})=>{r==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return Eve(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i);const r=this.updateCachedState.bind(this);r("filter",this.getFilterState()),r("rowGroupExpansion",this.getRowGroupExpansionState()),r("rowSelection",this.getRowSelectionState()),r("pagination",this.getPaginationState());const s=()=>{this.updateRowGroupExpansionStateTimer=0,r("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>r("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(s)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&r("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:i}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(i!=null&&i.orderedColIds));const r=this.updateCachedState.bind(this);r("sideBar",this.getSideBarState()),r("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();r("rangeSelection",s),r("cellSelection",s),r("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>r("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const a=this.getRangeSelectionState();r("rangeSelection",a),r("cellSelection",a)}},bodyScrollEnd:()=>r("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),n=[],i=[],r=[],s=[],o=[],a=[],u=[],d=[],h=[];let p=0;const g=ev(e);for(let m=0;m<g.length;m++){const{colId:y,sort:w,sortIndex:x,rowGroup:C,rowGroupIndex:A,aggFunc:E,pivot:F,pivotIndex:N,pinned:z,hide:B,width:k,flex:V}=g[m];h.push(y),w&&(n[x??p++]={colId:y,sort:w}),C&&(i[A??0]=y),typeof E=="string"&&r.push({colId:y,aggFunc:E}),F&&(s[N??0]=y),z&&(z==="right"?a:o).push(y),B&&u.push(y),(V!=null||k)&&d.push({colId:y,flex:V??void 0,width:k})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:i,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:u,partialColumnState:d}=e,h={},p=x=>{let C=h[x];return C||(C={colId:x},h[x]=C,C)},g=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:x,sort:C},A)=>{const E=p(x);E.sort=C,E.sortIndex=A}),g.sort=null,g.sortIndex=null),n&&(n.groupColIds.forEach((x,C)=>{const A=p(x);A.rowGroup=!0,A.rowGroupIndex=C}),g.rowGroup=null,g.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:x,aggFunc:C})=>{p(x).aggFunc=C}),g.aggFunc=null),r&&(r.pivotColIds.forEach((x,C)=>{const A=p(x);A.pivot=!0,A.pivotIndex=C}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),s&&(s.leftColIds.forEach(x=>{p(x).pinned="left"}),s.rightColIds.forEach(x=>{p(x).pinned="right"}),g.pinned=null),o&&(o.hiddenColIds.forEach(x=>{p(x).hide=!0}),g.hide=null),a&&(a.columnSizingModel.forEach(({colId:x,flex:C,width:A})=>{const E=p(x);E.flex=C??null,E.width=A}),g.flex=null);const m=u==null?void 0:u.orderedColIds,y=!!(m!=null&&m.length),w=y?m.map(x=>p(x)):Object.values(h);w.length&&(this.columnStates=w,fa(this.beans,{state:w,applyOrder:y,defaultState:g},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:r,colGroupSvc:s}=i;if(r!=null&&r.isPivotResultColsPresent()){if(t){const o=[];for(const a of t)r.getPivotResultCol(a.colId)&&o.push(a);fa(i,{state:o,applyOrder:e},"gridInitializing")}n&&(s==null||s.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),n=[];return t.forEach(({groupId:i,open:r})=>{r&&n.push(i)}),n.length?{openColumnGroupIds:n}:void 0}setColumnGroupState(e){var s;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),r=t.getColumnGroupState().map(({groupId:o})=>{const a=n.has(o);return a&&n.delete(o),{groupId:o,open:a}});n.forEach(o=>{r.push({groupId:o,open:!0})}),r.length&&(this.columnGroupStates=r),t.setColumnGroupState(r,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:i}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),i&&(t==null||t.setAdvFilterModel(i,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:i,type:r,startRow:s,endRow:o,columns:a,startColumn:u}=n;return{id:i,type:r,startRow:s,endRow:o,colIds:a.map(d=>d.getColId()),startColId:u.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!dd(t)||!n)return;const s=[];e.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(d=>{const h=i.getCol(d);h&&a.push(h)}),!a.length)return;let u=i.getCol(o.startColId);if(!u){const d=r.allCols,h=new Set(a);u=d.find(p=>h.has(p))}s.push({...o,columns:a,startColumn:u})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{var a;o.get("center").setCenterViewportScrollLeft(n),(a=o.getScrollFeature())==null||a.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s==null||s.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:i}=e,{focusSvc:r,colModel:s}=this.beans;r.setFocusedCell({column:s.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var i;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const s=t[r];Xm(s,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Xm(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Fve={moduleName:"GridState",version:ht,beans:[Dve],apiFunctions:{getState:Ave}};function Lve(e){return e.rowModel.isLastRowIndexKnown()}function Mve(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function Nve(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function Ove(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function kve(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Ive(e){var t;(t=e.pagination)==null||t.goToNextPage()}function _ve(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Bve(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function Hve(e){var t;(t=e.pagination)==null||t.goToLastPage()}function jve(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var Gve=class extends Ve{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(vh(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?$r(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},jg="paginationPageSizeSelector",Vve=class extends hi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(jg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Lo(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(jg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(jg)!==!0;st(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||st(95,{paginationPageSizeOption:t,paginationPageSizeSelector:jg}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(zh(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new lE).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(jg);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},zve={selector:"AG-PAGE-SIZE-SELECTOR",component:Vve},qve=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Uve=class extends Aue{constructor(){super(),this.btFirst=Lt,this.btPrevious=Lt,this.btNext=Lt,this.btLast=Lt,this.lbRecordCount=Lt,this.lbFirstRowOnPage=Lt,this.lbLastRowOnPage=Lt,this.lbCurrent=Lt,this.lbTotal=Lt,this.pageSizeComp=Lt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(qve)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[zve]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",ca(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",ca(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",ca(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",ca(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):Fae(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===je.ENTER||i.key===je.SPACE)&&(i.preventDefault(),n())}})}),Dae(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):tpe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${u}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${n}</span>
                    <span id="ag-${u}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${i}</span>
                    <span id="ag-${u}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${u}-start-page">${t}</span>
                        <span id="ag-${u}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${i}</span>
                        <span id="ag-${u}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){nse(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null;if(i===1){const A=this.rowModel.getRow(0);if(A&&A.group&&!(A.groupData||A.aggData)){this.setTotalLabelsToZero();return}}const r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>i&&(a=i));const u=o+s-1,d=!e&&n<u,h=this.formatNumber(o);this.lbFirstRowOnPage.textContent=h;let p;const g=this.getLocaleTextFunc();d?p=g("pageLastRowUnknown","?"):p=this.formatNumber(a),this.lbLastRowOnPage.textContent=p;const y=t>0?r+1:0,w=this.formatNumber(y);this.lbCurrent.textContent=w;let x,C;if(e)x=this.formatNumber(t),C=this.formatNumber(i);else{const A=g("more","more");x=A,C=A}this.lbTotal.textContent=x,this.lbRecordCount.textContent=C,this.announceAriaStatus(h,p,C,w,x)}announceAriaStatus(e,t,n,i,r){var p,g;const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),u=s("of","of"),d=`${e} ${a} ${t} ${u} ${n}`,h=`${o} ${i} ${u} ${r}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,(p=this.ariaAnnounce)==null||p.announceValue(d,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,(g=this.ariaAnnounce)==null||g.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Wve={selector:"AG-PAGINATION",component:Uve},$ve=class extends Ve{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Wve}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ut(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ut(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ut(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ut(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,s=n*r;let o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},Kve={moduleName:"Pagination",version:ht,beans:[$ve,Gve],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Lve,paginationGetPageSize:Mve,paginationGetCurrentPage:Nve,paginationGetTotalPages:Ove,paginationGetRowCount:kve,paginationGoToNextPage:Ive,paginationGoToPreviousPage:_ve,paginationGoToFirstPage:Bve,paginationGoToLastPage:Hve,paginationGoToPage:jve},dependsOn:[y0]};function Yve(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function h8(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&h8(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function Qve(e,t){return e.rowModel.getRowNode(t)}function Xve(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function Zve(e){return e.rowRenderer.getRenderedNodes()}function Jve(e,t,n){e.rowModel.forEachNode(t,n)}function eye(e){return e.rowRenderer.firstRenderedRow}function tye(e){return e.rowRenderer.lastRenderedRow}function nye(e,t){return e.rowModel.getRow(t)}function iye(e){return e.rowModel.getRowCount()}var rye={moduleName:"RowApi",version:ht,apiFunctions:{redrawRows:Yve,setRowNodeExpanded:h8,getRowNode:Qve,addRenderedRowListener:Xve,getRenderedNodes:Zve,forEachNode:Jve,getFirstDisplayedRowIndex:eye,getLastDisplayedRowIndex:tye,getDisplayedRowAtIndex:nye,getDisplayedRowCount:iye}},sye={moduleName:"ScrollApi",version:ht,apiFunctions:{getVerticalPixelRange:Gge,getHorizontalPixelRange:Vge,ensureColumnVisible:o8,ensureIndexVisible:a8,ensureNodeVisible:zge}};function oye(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function aye(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function lye(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function uye(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function cye(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function dye(e){return{rowHeight:vh(e),headerHeight:Dv(e)}}function hye(e,t={}){var s;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const a=o.getCellRenderer();a!=null&&n.push(tv(a))}),(s=t.columns)!=null&&s.length)return n;const i=[],r=q5(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(r&&!U5(o.rowNode,r)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let u=0;u<a.length;u++){const d=a[u];d!=null&&i.push(tv(d))}}),[...i,...n]}var fye={moduleName:"RenderApi",version:ht,apiFunctions:{setGridAriaProperty:oye,refreshCells:aye,refreshHeader:lye,isAnimationFrameQueueEmpty:uye,flushAllAnimationFrames:cye,getSizesForCurrentTheme:dye,getCellRendererInstances:hye}};function pye(e,t){var n,i;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(i=e.colAutosize)==null||i.sizeColumnsToFitGridBody(t)}function gye(e,t,n){var i;(i=e.colAutosize)==null||i.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function mye(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var vye=class extends Ve{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:s="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:u,autoWidthCalc:d,visibleCols:h}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const p=[];let g=-1;const m=n??this.gos.get("skipHeaderOnAutoSize"),y=i??m;for(;g!==0;){g=0;const w=[];t.forEach(x=>{if(!x)return;const C=u.getCol(x);if(!C||Av(C)||p.indexOf(C)>=0)return;const A=d.getPreferredWidthForColumn(C,m);if(A>0){const E=yye(C,A);C.setActualWidth(E,s),p.push(C),g++}w.push(C)}),w.length&&h.refresh(s)}y||this.autoSizeColumnGroupsByColumns(t,s,r),Rp(this.eventSvc,p,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,s=new Set;i.getColsForKeys(e).forEach(d=>{let h=d.getParent();for(;h&&h!=n;)h.isPadding()||s.add(h),h=h.getParent()});let a;const u=[];for(const d of s){for(const h of r.getHeaderRowContainerCtrls())if(a=h.getHeaderCtrlForColumn(d),a)break;a&&a.resizeLeafColumnsToFit(t)}return u}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new jf(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,u=Ym(r.eGridBody)-o;if(u>0){this.sizeColumnsToFit(u,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):st(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var m;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&((m=i==null?void 0:i.columnLimits)==null||m.forEach(({key:y,...w})=>{r[typeof y=="string"?y:y.getColId()]=w}));const s=this.beans.visibleCols.allCols,o=e===Lu(s);if(e<=0||!s.length||o)return;const a=[],u=[];s.forEach(y=>{y.getColDef().suppressSizeToFit===!0?u.push(y):a.push(y)});const d=a.slice(0);let h=!1;const p=y=>{Ja(a,y),u.push(y)};for(a.forEach(y=>{y.resetActualWidth(t);const w=r==null?void 0:r[y.getId()],x=(w==null?void 0:w.minWidth)??(i==null?void 0:i.defaultMinWidth),C=(w==null?void 0:w.maxWidth)??(i==null?void 0:i.defaultMaxWidth),A=y.getActualWidth();typeof x=="number"&&A<x?y.setActualWidth(x,t,!0):typeof C=="number"&&A>C&&y.setActualWidth(C,t,!0)});!h;){h=!0;const y=e-Lu(u);if(y<=0)a.forEach(w=>{var C;const x=((C=r==null?void 0:r[w.getId()])==null?void 0:C.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof x=="number"){w.setActualWidth(x,t,!0);return}w.setActualWidth(w.minWidth,t)});else{const w=y/Lu(a);let x=y;for(let C=a.length-1;C>=0;C--){const A=a[C],E=r==null?void 0:r[A.getId()],F=(E==null?void 0:E.minWidth)??(i==null?void 0:i.defaultMinWidth),N=(E==null?void 0:E.maxWidth)??(i==null?void 0:i.defaultMaxWidth),z=A.getMinWidth(),B=A.getMaxWidth(),k=typeof F=="number"&&F>z?F:z,V=typeof N=="number"&&N<B?N:B;let K=Math.round(A.getActualWidth()*w);K<k?(K=k,p(A),h=!1):K>V?(K=V,p(A),h=!1):C===0&&(K=x),A.setActualWidth(K,t,!0),x-=K}}}d.forEach(y=>{y.fireColumnWidthChangedEvent(t)});const g=this.beans.visibleCols;g.setLeftValues(t),g.updateBodyWidths(),!n&&Rp(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n==null?void 0:n.map(({colId:o,minWidth:a,maxWidth:u})=>({key:o,minWidth:a,maxWidth:u}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function yye(e,t){const n=e.getMinWidth();t<n&&(t=n);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}var bye={moduleName:"ColumnAutoSize",version:ht,beans:[vye],apiFunctions:{sizeColumnsToFit:pye,autoSizeColumns:gye,autoSizeAllColumns:mye},dependsOn:[wB]};function Cye(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function wye(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function Sye(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function xye(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}var Rye=class extends Ve{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Gg(this.pinnedBottomRows,t),Gg(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=wp(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return Gg(this.pinnedBottomRows,n),t=0,Gg(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=Sp(this.gos),r=t==="top"?Q6:X6,s=new Set(n.order),o=[],a=new Set;let u=0,d=-1;for(const h of e){const p=(i==null?void 0:i({data:h,level:0,rowPinned:t}))??r+this.nextId++;if(a.has(p)){st(96,{id:p,data:h});continue}d++,a.add(p),o.push(p);const g=wm(n,p);if(g!==void 0)g.data!==h&&g.setData(h),u+=this.setRowTopAndRowIndex(g,u,d),s.delete(p);else{const m=new Ep(this.beans);m.id=p,m.data=h,m.rowPinned=t,u+=this.setRowTopAndRowIndex(m,u,d),n.cache[p]=m,n.order.push(p)}}s.forEach(h=>{var p;(p=wm(n,h))==null||p.clearRowTopAndRowIndex(),delete n.cache[h]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(wp(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return FO(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return FO(this.pinnedBottomRows)}getPinnedTopRowCount(){return K5(this.pinnedTopRows)}getPinnedBottomRowCount(){return K5(this.pinnedBottomRows)}getPinnedTopRow(e){return $5(this.pinnedTopRows,e)}getPinnedBottomRow(e){return $5(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return wm(this.getCache(t),e)}forEachPinnedRow(e,t){return Gg(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function FO(e){const t=K5(e);if(t===0)return 0;const n=$5(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function wm(e,t){return e.cache[t]}function $5(e,t){return wm(e,e.order[t])}function Gg(e,t){e.order.forEach((n,i)=>{const r=wm(e,n);r&&t(r,i)})}function K5(e){return e.order.length}var Aye={moduleName:"PinnedRow",version:ht,beans:[Rye],apiFunctions:{getPinnedTopRowCount:Cye,getPinnedBottomRowCount:wye,getPinnedTopRow:Sye,getPinnedBottomRow:xye}},Eye=class extends mm{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,s,o){this.eWrapper=n,super.setComp(e,t,n,i,r,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&$_(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){ose(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(p0(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Tye=class extends PC{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new Eye(t,this,this.beans)}shouldRecreateCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},Pye=class extends Ve{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const d of s)d.isAlive()&&(t==null||t.forEachSpannedColumn(d.rowNode,(h,p)=>{if(o.has(p.firstNode))return;const g=i.get(p.firstNode);if(g){o.set(p.firstNode,g),i.delete(p.firstNode);return}a=!0;const m=new Tye(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,m)}));this[n]=o;const u=o.size===r;if(!(!a&&u)){for(const d of i.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const i=`${f8(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},f8=e=>e??"center",Dye=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},Fye=class extends Ve{constructor(e){super(),this.column=e}buildCache(e){var C;const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:s}}=this,{colDef:o}=t,a=new Map,u=n.getCallback("isFullWidthRow"),d=o.equals,h=o.spanRows,p=typeof h=="function";let g=null,m=null,y;const w=(A,E)=>{g=A,m=null,y=E},x=A=>{const E=!A.isExpandable()&&!A.group&&!A.detail&&(u?!u({rowNode:A}):!0);if(A.rowIndex==null||!E){w(null,null);return}if(g==null||A.level!==g.level||A.footer||m&&A.rowIndex-1!==(m==null?void 0:m.getLastNode().rowIndex)){w(A,s.getValue(t,A));return}const F=s.getValue(t,A);if(p){const N=_t(n,{valueA:y,nodeA:g,valueB:F,nodeB:A,column:t,colDef:o});if(!h(N)){w(A,F);return}}else if(d?!d(y,F):y!==F){w(A,F);return}m||(m=new Dye(t,g),a.set(g,m)),m.addSpannedNode(A),a.set(A,m)};switch(e){case"center":(C=r.forEachDisplayedNode)==null||C.call(r,x);break;case"top":i==null||i.forEachPinnedRow("top",x);break;case"bottom":i==null||i.forEachPinnedRow("bottom",x);break}this[`${e}ValueNodeMap`]=a}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${f8(e.rowPinned)}ValueNodeMap`].get(e)}},Lye=class extends Ve{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=$r(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=$r(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new Fye(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(r);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(r);break;default:o=n.getRow(r)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},Mye={moduleName:"CellSpan",version:ht,beans:[Lye,Pye]},Nye=class extends Ve{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);eE(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.addOrRemoveCssClass(s,!0),s=>t.addOrRemoveCssClass(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.addOrRemoveCssClass(s,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.addOrRemoveCssClass(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return _t(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},Oye=class extends Ve{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){eE(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new Nye(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},kye={moduleName:"CellStyle",version:ht,beans:[Oye]},Iye={moduleName:"RowStyle",version:ht,beans:[cle]};function _ye(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var Bye=class extends Ve{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},Hye="ag-column-hover",jye=class extends Ve{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{if(!this.gos.get("columnHoverHighlight"))return;const r=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const n=this.isHovered(e);t.addOrRemoveCssClass(Hye,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{if(!this.gos.get("columnHoverHighlight"))return;const s=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new Bye(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Gye={moduleName:"ColumnHover",version:ht,beans:[jye],apiFunctions:{isColumnHovered:_ye}},Vye=class extends Ve{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var s;const n=((s=this.wrapSvc)==null?void 0:s.wrap(t))??t,i=!Ib.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){var s,o;const n=((s=this.wrapSvc)==null?void 0:s.unwrap(t))??t,i=this.asyncListeners.get(e),r=!!(i!=null&&i.delete(n));r||(o=this.syncListeners.get(e))==null||o.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){var s;const t=((s=this.wrapSvc)==null?void 0:s.wrapGlobal(e))??e,n=(o,a)=>{Ib.has(o)&&t(o,a)},i=(o,a)=>{Ib.has(o)||t(o,a)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=(n==null?void 0:n.unwrapGlobal(e))??e;if(i.has(r)){const{syncListener:o,asyncListener:a}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function zye(e,t,n){var i;(i=e.apiEventSvc)==null||i.addEventListener(t,n)}function qye(e,t,n){var i;(i=e.apiEventSvc)==null||i.removeEventListener(t,n)}function Uye(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function Wye(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var $ye={moduleName:"EventApi",version:ht,apiFunctions:{addEventListener:zye,addGlobalListener:Uye,removeEventListener:qye,removeGlobalListener:Wye},beans:[Vye]},Kye=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Yye=class extends Ve{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=j2(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!i&&r&&!a.headerComponent&&(i=kb(()=>o.querySelector(".ag-header-cell-text")));const u={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i};let d=this.createTooltipFeature(u);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=j2(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!i&&r&&!(a!=null&&a.headerGroupComponent)&&(i=kb(()=>o.querySelector(".ag-header-group-text")));const u={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(u.getColDef=()=>a);const d=this.createTooltipFeature(u);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,n){const{column:i,rowNode:r}=e,s=()=>{const u=i.getColDef(),d=r.data;if(u.tooltipField&&ut(d))return gm(d,u.tooltipField,i.isTooltipFieldContainsDots());const h=u.tooltipValueGetter;return h?h(_t(this.gos,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:r,data:r.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=j2(this.gos);!n&&o&&!e.isCellRenderer()&&(n=kb(()=>{const u=e.eGui;return u.children.length===0?u:u.querySelector(".ag-cell-value")}));const a={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>r,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(r,s);return t.createBean(a,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ut(t.tooltipField)||ut(t.tooltipValueGetter)||ut(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Qye={moduleName:"Tooltip",version:ht,beans:[Yye],dynamicBeans:{tooltipFeature:yue},userComponents:{agTooltipComponent:Zfe},dependsOn:[y0],css:[Kye]},Xye={moduleName:"Locale",version:ht,beans:[zfe]},Zye=class extends Ve{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=$r(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var s,o;const{visibleCols:e,rowModel:t,rowSpanSvc:n}=this.beans,i=e.autoHeightCols;let r=!1;(s=t.forEachDisplayedNode)==null||s.call(t,a=>{var h;const u=a.__autoHeights;let d=wp(this.beans,a).height;for(const p of i){if(this.colSpanSkipRow(p,a))return;let g=u==null?void 0:u[p.getColId()];const m=n==null?void 0:n.getCellSpan(p,a);if(m){if(m.getLastNode()!==a)continue;if(g=(h=n==null?void 0:n.getCellSpan(p,a))==null?void 0:h.getLastNodeAutoHeight(),!g)return}if(g==null)return;d=Math.max(g,d)}d!==a.rowHeight&&(a.setRowHeight(d),r=!0)}),r&&((o=t.onRowHeightChanged)==null||o.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=r.getLeftColsForRow(t);break;case"right":s=r.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,a=h=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:g,borderBottomWidth:m,borderTopWidth:y}=Gh(i),w=p+g+m+y,C=t.offsetHeight+w;if(h<5){const A=zi(o),E=!A||!A.contains(t),F=C==0;if(E||F){window.setTimeout(()=>a(h+1),0);return}}this.setRowAutoHeight(r,C,s)},u=()=>a(0);u();const d=ic(o,t,u);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(r,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},Jye={moduleName:"RowAutoHeight",version:ht,beans:[Zye]},ebe={moduleName:"AllCommunity",version:ht,dependsOn:[Zme,ove,mve,Mpe,rme,sme,ome,ame,lme,ume,cme,ime,Sge,xge,Rge,wge,Ege,Tge,Fve,Ome,Kve,gde,rye,sye,fye,bye,Kue,Aye,Rme,Lfe,kye,Gye,Iye,$ye,Ofe,Rve,Qye,Xye,Jye,$ue,Jme,Mye]},bs=ze.createContext({}),Fv=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,u=!1;return s.then(d=>{if(u){t.destroyBean(d);return}o=d,a=o.getGui(),n.appendChild(a),LO(i,o)}),()=>{var d;u=!0,o&&((d=a==null?void 0:a.parentElement)==null||d.removeChild(a),t.destroyBean(o),i&&LO(i,void 0))}},LO=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},ia=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),da=class p8{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const r=new p8;return r.classesMap={...this.classesMap},r.classesMap[t]=n,r}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Gp=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},JO,Y5=(JO=ze.version)==null?void 0:JO.split(".")[0],tbe=Y5==="16"||Y5==="17";function nbe(){return Y5==="19"}var _b=!1;function ibe(e){return _b||setTimeout(()=>_b=!1,0),_b=!0,e()}var MC=(e,t)=>{!tbe&&e&&!_b?Vie.flushSync(t):t()};function NC(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],r=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const u=t[a];o.set(u.instanceId,u)}for(let a=0;a<e.length;a++){const u=e[a];s.set(u.instanceId,u),o.has(u.instanceId)&&i.push(u)}for(let a=0;a<t.length;a++){const u=t[a],d=u.instanceId;s.has(d)||r.push(u)}return i.length===e.length&&r.length===0?e:i.length===0&&r.length===t.length?t:i.length===0?r:r.length===0?i:[...i,...r]}var g8=M.forwardRef((e,t)=>{var W;const{registry:n,context:i}=M.useContext(bs),r=M.useRef(null),s=M.useRef(null),o=M.useRef(null),a=M.useRef(null),u=M.useRef(null),d=M.useRef(),[h,p]=M.useState(),[g,m]=M.useState(),[y,w]=M.useState(),[x,C]=M.useState(()=>new da),[A,E]=M.useState(()=>new da("ag-hidden")),[F,N]=M.useState(()=>new da("ag-hidden")),[z,B]=M.useState(()=>new da("ag-invisible"));M.useImperativeHandle(t,()=>({refresh(){return!1}})),M.useLayoutEffect(()=>Fv(h,i,s.current),[h]);const k=M.useCallback(Q=>{if(r.current=Q,!Q){d.current=i.destroyBean(d.current);return}const ue={setInnerRenderer:(de,j)=>{p(de),w(j)},setChildCount:de=>m(de),addOrRemoveCssClass:(de,j)=>C(X=>X.setClass(de,j)),setContractedDisplayed:de=>N(j=>j.setClass("ag-hidden",!de)),setExpandedDisplayed:de=>E(j=>j.setClass("ag-hidden",!de)),setCheckboxVisible:de=>B(j=>j.setClass("ag-invisible",!de))},U=n.createDynamicBean("groupCellRendererCtrl",!0);U&&(d.current=i.createBean(U),d.current.init(ue,Q,o.current,a.current,u.current,g8,e))},[]),V=M.useMemo(()=>`ag-cell-wrapper ${x.toString()}`,[x]),K=M.useMemo(()=>`ag-group-expanded ${A.toString()}`,[A]),T=M.useMemo(()=>`ag-group-contracted ${F.toString()}`,[F]),O=M.useMemo(()=>`ag-group-checkbox ${z.toString()}`,[z]),H=h&&h.componentFromFramework,q=H?h.componentClass:void 0,ee=h==null&&y!=null,$=ju(y,!0);return ze.createElement("span",{className:V,ref:k,...e.colDef?{}:{role:(W=d.current)==null?void 0:W.getCellAriaRole()}},ze.createElement("span",{className:K,ref:a}),ze.createElement("span",{className:T,ref:u}),ze.createElement("span",{className:O,ref:o}),ze.createElement("span",{className:"ag-group-value",ref:s},ee&&ze.createElement(ze.Fragment,null,$),H&&ze.createElement(q,{...h.params})),ze.createElement("span",{className:"ag-group-child-count"},g))}),MO=g8,gE=M.createContext({setMethods:()=>{}}),rbe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...o},a]=M.useState(t);return M.useEffect(()=>{n(u=>a(u))},[]),ze.createElement(gE.Provider,{value:{setMethods:r}},ze.createElement(i,{key:s,...o}))},sbe=M.memo(rbe),obe=0;function NO(){return`agPortalKey_${++obe}`}var m8=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=NO(),this.portalKey=NO(),this.instanceCreated=this.isStatelessComponent()?ci.resolve(!1):new ci(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ci(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=DA.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return M.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function mE(e,t,n){e.forEach(i=>{const r=t[i];r&&(n[i]=r)})}var al=class extends m8{constructor(){super(...arguments),this.awaitUpdateCallback=new ci(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=sbe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new ci(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,mE(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ci(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},abe=class extends al{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},lbe=class extends al{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ube=class extends al{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},cbe=class extends al{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ci(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var i,r;return(r=(i=this.providedMethods)==null?void 0:i.afterGuiAttached)==null?void 0:r.call(i,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function v8(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||ci.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var dbe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){mE(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),v8(this.floatingFilterParams,e)}},hbe=class extends al{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),v8(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},fbe=class extends al{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},pbe=class extends al{refresh(e){this.sourceParams=e,this.refreshProps()}},gbe=class extends al{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},mbe=class extends al{refresh(e){this.sourceParams=e,this.refreshProps()}},vbe=class extends al{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ybe=class extends al{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function vE(){st(231)}var bbe=1e3,Cbe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||bbe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},wbe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=M.useContext(bs),i=t?e.column.getColId():void 0,[r,s]=M.useState(),[o,a]=M.useState(),u=M.useRef(),d=M.useRef(null),h=M.useRef(null),p=M.useRef(null),g=M.useRef(),m=M.useRef();t&&!m.current&&(m.current=new Tv(()=>d.current));const y=M.useCallback(A=>{var N;if(d.current=A,u.current=A?n.createBean(new Bp):n.destroyBean(u.current),!A||!t)return;const E={setWidth:z=>{d.current&&(d.current.style.width=z)},addOrRemoveCssClass:(z,B)=>m.current.addOrRemoveCssClass(z,B),setUserStyles:z=>a(z),setAriaSort:z=>{d.current&&(z?use(d.current,z):cse(d.current))},setUserCompDetails:z=>s(z),getUserCompInstance:()=>g.current||void 0};e.setComp(E,A,h.current,p.current,u.current);const F=e.getSelectAllGui();F&&((N=h.current)==null||N.insertAdjacentElement("afterend",F),u.current.addDestroyFunc(()=>F.remove()))},[]);M.useLayoutEffect(()=>Fv(r,n,p.current,g),[r]),M.useEffect(()=>{e.setDragSource(d.current)},[r]);const w=M.useMemo(()=>!!((r==null?void 0:r.componentFromFramework)&&Gp(r.componentClass)),[r]),x=r&&r.componentFromFramework,C=r&&r.componentClass;return ze.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":i,role:"columnheader"},ze.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),ze.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},x&&w&&ze.createElement(C,{...r.params}),x&&!w&&ze.createElement(C,{...r.params,ref:g})))},Sbe=M.memo(wbe),xbe=({ctrl:e})=>{const{context:t,gos:n}=M.useContext(bs),[i,r]=M.useState(),[s,o]=M.useState(()=>new da("ag-header-cell","ag-floating-filter")),[a,u]=M.useState(()=>new da),[d,h]=M.useState(()=>new da("ag-floating-filter-button","ag-hidden")),[p,g]=M.useState("false"),[m,y]=M.useState(),[,w]=M.useState(1),x=M.useRef(),C=M.useRef(null),A=M.useRef(null),E=M.useRef(null),F=M.useRef(null),N=M.useRef(),z=M.useRef(),B=Q=>{Q!=null&&N.current&&N.current(Q)},k=M.useCallback(Q=>{if(C.current=Q,x.current=Q?t.createBean(new Bp):t.destroyBean(x.current),!Q)return;z.current=new ci(U=>{N.current=U});const ue={addOrRemoveCssClass:(U,de)=>o(j=>j.setClass(U,de)),setUserStyles:U=>r(U),addOrRemoveBodyCssClass:(U,de)=>u(j=>j.setClass(U,de)),setButtonWrapperDisplayed:U=>{h(de=>de.setClass("ag-hidden",!U)),g(U?"false":"true")},setWidth:U=>{C.current&&(C.current.style.width=U)},setCompDetails:U=>y(U),getFloatingFilterComp:()=>z.current?z.current:null,setMenuIcon:U=>{var de;return(de=F.current)==null?void 0:de.appendChild(U)}};e.setComp(ue,Q,F.current,A.current,x.current)},[]);M.useLayoutEffect(()=>Fv(m,t,A.current,B),[m]);const V=M.useMemo(()=>s.toString(),[s]),K=M.useMemo(()=>a.toString(),[a]),T=M.useMemo(()=>d.toString(),[d]),O=M.useMemo(()=>!!(m&&m.componentFromFramework&&Gp(m.componentClass)),[m]),H=M.useMemo(()=>n.get("reactiveCustomComponents"),[]),q=M.useMemo(()=>{if(m)if(H){const Q=new dbe(m.params,()=>w(ue=>ue+1));return B(Q),Q}else m.componentFromFramework&&vE()},[m]),ee=q==null?void 0:q.getProps(),$=m&&m.componentFromFramework,W=m&&m.componentClass;return ze.createElement("div",{ref:k,style:i,className:V,role:"gridcell"},ze.createElement("div",{ref:A,className:K,role:"presentation"},$&&!H&&ze.createElement(W,{...m.params,ref:O?()=>{}:B}),$&&H&&ze.createElement(gE.Provider,{value:{setMethods:Q=>q.setMethods(Q)}},ze.createElement(W,{...ee}))),ze.createElement("div",{ref:E,"aria-hidden":p,className:T,role:"presentation"},ze.createElement("button",{ref:F,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Rbe=M.memo(xbe),Abe=({ctrl:e})=>{const{context:t}=M.useContext(bs),[n,i]=M.useState(),[r,s]=M.useState(()=>new da),[o,a]=M.useState(()=>new da),[u,d]=M.useState("false"),[h,p]=M.useState(),[g,m]=M.useState(),y=M.useMemo(()=>e.column.getUniqueId(),[]),w=M.useRef(),x=M.useRef(null),C=M.useRef(null),A=M.useRef(null),E=M.useRef(),F=M.useCallback(K=>{if(x.current=K,w.current=K?t.createBean(new Bp):t.destroyBean(w.current),!K)return;const T={setWidth:O=>{x.current&&(x.current.style.width=O)},addOrRemoveCssClass:(O,H)=>s(q=>q.setClass(O,H)),setUserStyles:O=>i(O),setHeaderWrapperHidden:O=>{const H=A.current;H&&(O?H.style.setProperty("display","none"):H.style.removeProperty("display"))},setHeaderWrapperMaxHeight:O=>{const H=A.current;H&&(O!=null?H.style.setProperty("max-height",`${O}px`):H.style.removeProperty("max-height"),H.classList.toggle("ag-header-cell-comp-wrapper-limited-height",O!=null))},setUserCompDetails:O=>m(O),setResizableDisplayed:O=>{a(H=>H.setClass("ag-hidden",!O)),d(O?"false":"true")},setAriaExpanded:O=>p(O),getUserCompInstance:()=>E.current||void 0};e.setComp(T,K,C.current,A.current,w.current)},[]);M.useLayoutEffect(()=>Fv(g,t,A.current),[g]),M.useEffect(()=>{x.current&&e.setDragSource(x.current)},[g]);const N=M.useMemo(()=>!!((g==null?void 0:g.componentFromFramework)&&Gp(g.componentClass)),[g]),z=M.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),B=M.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),k=g&&g.componentFromFramework,V=g&&g.componentClass;return ze.createElement("div",{ref:F,style:n,className:z,"col-id":y,role:"columnheader","aria-expanded":h},ze.createElement("div",{ref:A,className:"ag-header-cell-comp-wrapper",role:"presentation"},k&&N&&ze.createElement(V,{...g.params}),k&&!N&&ze.createElement(V,{...g.params,ref:E})),ze.createElement("div",{ref:C,"aria-hidden":u,className:B}))},Ebe=M.memo(Abe),Tbe=({ctrl:e})=>{const{context:t}=M.useContext(bs),{topOffset:n,rowHeight:i}=M.useMemo(()=>e.getTopAndHeight(),[]),r=e.getAriaRowIndex(),s=e.headerRowClass,[o,a]=M.useState(()=>i+"px"),[u,d]=M.useState(()=>n+"px"),h=M.useRef(null),p=M.useRef(null),[g,m]=M.useState(()=>e.getHeaderCtrls()),y=M.useRef(),w=M.useRef(null),x=M.useCallback(E=>{if(w.current=E,y.current=E?t.createBean(new Bp):t.destroyBean(y.current),!E)return;const F={setHeight:N=>a(N),setTop:N=>d(N),setHeaderCtrls:(N,z,B)=>{p.current=h.current,h.current=N;const k=NC(p.current,N,z);k!==p.current&&MC(B,()=>m(k))},setWidth:N=>{w.current&&(w.current.style.width=N)}};e.setComp(F,y.current,!1)},[]),C=M.useMemo(()=>({height:o,top:u}),[o,u]),A=M.useCallback(E=>{switch(e.type){case"group":return ze.createElement(Ebe,{ctrl:E,key:E.instanceId});case"filter":return ze.createElement(Rbe,{ctrl:E,key:E.instanceId});default:return ze.createElement(Sbe,{ctrl:E,key:E.instanceId})}},[]);return ze.createElement("div",{ref:x,className:s,role:"row",style:C,"aria-rowindex":r},g.map(A))},Pbe=M.memo(Tbe),Dbe=({pinned:e})=>{const[t,n]=M.useState(!0),[i,r]=M.useState([]),{context:s}=M.useContext(bs),o=M.useRef(null),a=M.useRef(null),u=M.useRef(),d=e==="left",h=e==="right",p=!d&&!h,g=M.useCallback(w=>{if(o.current=w,u.current=w?s.createBean(new $le(e)):s.destroyBean(u.current),!w)return;const x={setDisplayed:n,setCtrls:C=>r(C),setCenterWidth:C=>{a.current&&(a.current.style.width=C)},setViewportScrollLeft:C=>{o.current&&(o.current.scrollLeft=C)},setPinnedContainerWidth:C=>{o.current&&(o.current.style.width=C,o.current.style.minWidth=C,o.current.style.maxWidth=C)}};u.current.setComp(x,o.current)},[]),m=t?"":"ag-hidden",y=()=>i.map(w=>ze.createElement(Pbe,{ctrl:w,key:w.instanceId}));return ze.createElement(ze.Fragment,null,d&&ze.createElement("div",{ref:g,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),h&&ze.createElement("div",{ref:g,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()),p&&ze.createElement("div",{ref:g,className:"ag-header-viewport "+m,role:"presentation"},ze.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())))},Z2=M.memo(Dbe),Fbe=()=>{const[e,t]=M.useState(()=>new da),[n,i]=M.useState(),{context:r}=M.useContext(bs),s=M.useRef(null),o=M.useRef(),a=M.useCallback(h=>{if(s.current=h,o.current=h?r.createBean(new zle):r.destroyBean(o.current),!h)return;const p={addOrRemoveCssClass:(g,m)=>t(y=>y.setClass(g,m)),setHeightAndMinHeight:g=>i(g)};o.current.setComp(p,h,h)},[]),u=M.useMemo(()=>"ag-header "+e.toString(),[e]),d=M.useMemo(()=>({height:n,minHeight:n}),[n]);return ze.createElement("div",{ref:a,className:u,style:d,role:"presentation"},ze.createElement(Z2,{pinned:"left"}),ze.createElement(Z2,{pinned:null}),ze.createElement(Z2,{pinned:"right"}))},Lbe=M.memo(Fbe),Mbe=(e,t)=>{M.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const r=document.createComment(e);return i.insertBefore(r,n),()=>{i.removeChild(r)}}}},[e])},oh=Mbe,Nbe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new ci(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){mE(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Obe=e=>{const t=M.useRef(e),n=M.useRef(),i=M.useRef(!1),r=M.useRef(!1),[,s]=M.useState(0);i.current&&(r.current=!0),M.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(o=>o+1),()=>{var o;r.current&&((o=n.current)==null||o.call(n))}),[])},kbe=e=>{const[t,n]=M.useState(),{context:i,popupSvc:r,localeSvc:s,gos:o,editSvc:a}=M.useContext(bs);return Obe(()=>{var z,B;const{editDetails:u,cellCtrl:d,eParentCell:h}=e,{compDetails:p}=u,g=o.get("stopEditingWhenCellsLoseFocus"),m=i.createBean(a.createPopupEditorWrapper(p.params)),y=m.getGui();if(e.jsChildComp){const k=e.jsChildComp.getGui();k&&y.appendChild(k)}const{column:w,rowNode:x}=d,C={column:w,rowNode:x,type:"popupCellEditor",eventSource:h,ePopup:y,position:u.popupPosition,keepWithinBounds:!0},A=r==null?void 0:r.positionPopupByComponent.bind(r,C),E=V_(s),F=r==null?void 0:r.addPopup({modal:g,eChild:y,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:h,positionCallback:A,ariaLabel:E("ariaLabelCellEditor","Cell Editor")}),N=F?F.hideFunc:void 0;return n(m),(B=(z=e.jsChildComp)==null?void 0:z.afterGuiAttached)==null||B.call(z),()=>{N==null||N(),i.destroyBean(m)}}),ze.createElement(ze.Fragment,null,t&&e.wrappedContent&&DA.createPortal(e.wrappedContent,t.getGui()))},OO=M.memo(kbe),Ibe=(e,t,n,i,r,s)=>{const{context:o}=M.useContext(bs),a=M.useCallback(()=>{const u=r.current;if(!u)return;const d=u.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),o.destroyBean(u),r.current=void 0},[]);M.useEffect(()=>{const u=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,h=t&&n==null;if(!(u&&d&&!h)){a();return}const g=e.compDetails;if(r.current){const y=r.current,x=y.refresh!=null&&e.force==!1?y.refresh(g.params):!1;if(x===!0||x===void 0)return;a()}g.newAgStackInstance().then(y=>{if(!y)return;const w=y.getGui();if(!w)return;(t?n:s.current).appendChild(w),r.current=y})},[e,t,i]),M.useEffect(()=>a,[])},_be=Ibe,Bbe=(e,t,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=Gp(t);return ze.createElement(gE.Provider,{value:{setMethods:o=>i.setMethods(o)}},s?ze.createElement(t,{...r}):ze.createElement(t,{...r,ref:o=>i.setRef(o)}))},kO=(e,t,n)=>{const i=e.compProxy;return ze.createElement(ze.Fragment,null,i?Bbe(e,t,n):ze.createElement(t,{...e.compDetails.params,ref:n}))},Hbe=(e,t,n,i,r)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,u=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return ze.createElement(ze.Fragment,null,a&&kO(e,o,t),u&&ze.createElement(OO,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:kO(e,o,t)}),d&&r&&ze.createElement(OO,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}))},jbe=(e,t,n,i,r,s,o)=>{const{compDetails:a,value:u}=e,d=!a,h=a&&a.componentFromFramework,p=a&&a.componentClass,g=u!=null&&u.toString?u.toString():u,m=()=>ze.createElement(ze.Fragment,null,d&&ze.createElement(ze.Fragment,null,g),h&&!s&&ze.createElement(p,{...a.params,key:t,ref:i}),h&&s&&ze.createElement(p,{...a.params,key:t}));return ze.createElement(ze.Fragment,null,r?ze.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:o},m()):m())},Gbe=({cellCtrl:e,printLayout:t,editingRow:n})=>{const{context:i}=M.useContext(bs),{colIdSanitised:r,instanceId:s}=e,o=M.useRef(),[a,u]=M.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,h]=M.useState(),[p,g]=M.useState(1),[m,y]=M.useState(),[w,x]=M.useState(!1),[C,A]=M.useState(!1),[E,F]=M.useState(!1),[N,z]=M.useState(),B=M.useMemo(()=>e.isForceWrapper(),[e]),k=M.useMemo(()=>e.getCellAriaRole(),[e]),V=M.useRef(null),K=M.useRef(null),T=M.useRef(null),O=M.useRef(),H=M.useRef(),q=M.useRef(),ee=M.useRef([]),$=M.useRef(),[W,Q]=M.useState(0),ue=M.useCallback(Be=>{$.current=Be,Q(it=>it+1)},[]),U=a!=null&&(w||E||C),de=B||U,j=M.useCallback(Be=>{if(H.current=Be,Be){const it=Be.isCancelBeforeStart&&Be.isCancelBeforeStart();setTimeout(()=>{it?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),X=M.useRef();X.current||(X.current=new Tv(()=>V.current)),_be(a,de,$.current,W,O,V);const Z=M.useRef();M.useLayoutEffect(()=>{var ot;const Be=Z.current,it=a;if(Z.current=a,Be==null||Be.compDetails==null||it==null||it.compDetails==null)return;const De=Be.compDetails,fe=it.compDetails;if(De.componentClass!=fe.componentClass||((ot=T.current)==null?void 0:ot.refresh)==null)return;T.current.refresh(fe.params)!=!0&&g(Ye=>Ye+1)},[a]),M.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const it=d.compDetails,De=d.popup===!0,fe=it.newAgStackInstance();return fe.then(ct=>{if(!ct)return;const ot=ct.getGui();if(j(ct),!De){const Ye=(B?q:V).current;Ye==null||Ye.appendChild(ot),ct.afterGuiAttached&&ct.afterGuiAttached()}z(ct)}),()=>{fe.then(ct=>{var Ye;const ot=ct.getGui();i.destroyBean(ct),j(void 0),z(void 0),(Ye=ot==null?void 0:ot.parentElement)==null||Ye.removeChild(ot)})}},[d]);const re=M.useCallback(Be=>{if(q.current=Be,!Be){ee.current.forEach(De=>De()),ee.current=[];return}const it=De=>{if(De){const fe=De.getGui();Be.insertAdjacentElement("afterbegin",fe),ee.current.push(()=>{i.destroyBean(De),Dh(fe)})}return De};if(w){const De=e.createSelectionCheckbox();it(De)}E&&it(e.createDndSource()),C&&it(e.createRowDragComp())},[e,i,E,C,w]),ce=M.useCallback(()=>{const Be=!e.isCellSpanning()||K.current,it=V.current;if(o.current=it?i.createBean(new Bp):i.destroyBean(o.current),!it||!Be||!e)return;const De={addOrRemoveCssClass:(ct,ot)=>X.current.addOrRemoveCssClass(ct,ot),setUserStyles:ct=>y(ct),getFocusableElement:()=>V.current,setIncludeSelection:ct=>x(ct),setIncludeRowDrag:ct=>A(ct),setIncludeDndSource:ct=>F(ct),getCellEditor:()=>H.current||null,getCellRenderer:()=>T.current??O.current,getParentOfValue:()=>$.current??q.current??V.current,setRenderDetails:(ct,ot,Ye)=>{u(Je=>(Je==null?void 0:Je.compDetails)!==ct||(Je==null?void 0:Je.value)!==ot||(Je==null?void 0:Je.force)!==Ye?{value:ot,compDetails:ct,force:Ye}:Je)},setEditDetails:(ct,ot,Ye,Je)=>{if(ct){let nt;Je?nt=new Nbe(ct.params,()=>g(at=>at+1)):ct.componentFromFramework&&vE(),h({compDetails:ct,popup:ot,popupPosition:Ye,compProxy:nt}),ot||u(void 0)}else h(nt=>{nt!=null&&nt.compProxy&&(H.current=void 0)})}},fe=q.current||void 0;e.setComp(De,it,K.current??void 0,fe,t,n,o.current)},[]),ye=M.useCallback(Be=>{V.current=Be,ce()},[]),me=M.useCallback(Be=>{K.current=Be,ce()},[]),Se=M.useMemo(()=>{var it;return!!(((it=a==null?void 0:a.compDetails)==null?void 0:it.componentFromFramework)&&Gp(a.compDetails.componentClass))},[a]);M.useLayoutEffect(()=>{V.current&&(X.current.addOrRemoveCssClass("ag-cell-value",!de),X.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),X.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),X.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&V.current.focus({preventScroll:!0}))});const Oe=()=>ze.createElement(ze.Fragment,null,a!=null&&jbe(a,p,s,T,de,Se,ue),d!=null&&Hbe(d,j,V.current,e,N)),_e=M.useCallback(()=>e.onFocusOut(),[]),$e=()=>ze.createElement("div",{ref:ye,style:m,role:k,"col-id":r,onBlur:_e},de?ze.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:re},Oe()):Oe());return e.isCellSpanning()?ze.createElement("div",{ref:me,className:"ag-spanned-cell-wrapper",role:"presentation"},$e()):$e()},Vbe=M.memo(Gbe),zbe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i}=M.useContext(bs),r=M.useRef(),s=M.useRef(e.getDomOrder()),o=e.isFullWidth(),a=e.rowNode.displayed,[u,d]=M.useState(()=>a?e.rowNode.getRowIndexString():null),[h,p]=M.useState(()=>e.rowId),[g,m]=M.useState(()=>e.businessKey),[y,w]=M.useState(()=>e.rowStyles),x=M.useRef(null),C=M.useRef(null),[A,E]=M.useState(()=>null),[F,N]=M.useState(),[z,B]=M.useState(()=>a?e.getInitialRowTop(t):void 0),[k,V]=M.useState(()=>a?e.getInitialTransform(t):void 0),K=M.useRef(null),T=M.useRef(),O=M.useRef(!1),[H,q]=M.useState(0);M.useEffect(()=>{var re;if(O.current||!F||H>10)return;const Z=(re=K.current)==null?void 0:re.firstChild;Z?(e.setupDetailRowAutoHeight(Z),O.current=!0):q(ce=>ce+1)},[F,H]);const ee=M.useRef();ee.current||(ee.current=new Tv(()=>K.current));const $=M.useCallback(Z=>{if(K.current=Z,r.current=Z?n.createBean(new Bp):n.destroyBean(r.current),!Z){e.unsetComp(t);return}if(!e.isAlive())return;const re={setTop:B,setTransform:V,addOrRemoveCssClass:(ce,ye)=>ee.current.addOrRemoveCssClass(ce,ye),setDomOrder:ce=>s.current=ce,setRowIndex:d,setRowId:p,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:(ce,ye)=>{C.current=x.current,x.current=ce;const me=NC(C.current,ce,s.current);me!==C.current&&MC(ye,()=>E(me))},showFullWidth:ce=>N(ce),getFullWidthCellRenderer:()=>T.current,refreshFullWidth:ce=>de.current?(N(ye=>({...ye,params:ce()})),!0):!T.current||!T.current.refresh?!1:T.current.refresh(ce())};e.setComp(re,Z,t,r.current)},[]);M.useLayoutEffect(()=>Fv(F,n,K.current,T),[F]);const W=M.useMemo(()=>{const Z={top:z,transform:k};return Object.assign(Z,y),Z},[z,k,y]),Q=o&&(F==null?void 0:F.componentFromFramework),ue=!o&&A!=null,U=M.useMemo(()=>!!((F==null?void 0:F.componentFromFramework)&&Gp(F.componentClass)),[F]),de=M.useRef(!1);M.useEffect(()=>{de.current=U&&!!F&&!!i.get("reactiveCustomComponents")},[U,F]);const j=()=>A==null?void 0:A.map(Z=>ze.createElement(Vbe,{cellCtrl:Z,editingRow:e.editing,printLayout:e.printLayout,key:Z.instanceId})),X=()=>{const Z=F.componentClass;return ze.createElement(ze.Fragment,null,U?ze.createElement(Z,{...F.params}):ze.createElement(Z,{...F.params,ref:T}))};return ze.createElement("div",{ref:$,role:"row",style:W,"row-index":u,"row-id":h,"row-business-key":g},ue&&j(),Q&&X())},IO=M.memo(zbe),qbe=({name:e})=>{const{context:t,gos:n}=M.useContext(bs),i=M.useMemo(()=>Pv(e),[e]),r=M.useRef(null),s=M.useRef(null),o=M.useRef(null),a=M.useRef([]),u=M.useRef([]),[d,h]=M.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,g=M.useRef([]),m=M.useRef([]),[y,w]=M.useState(()=>[]),x=M.useRef(!1),C=M.useRef(),A=M.useMemo(()=>ia("ag-viewport",nB(e)),[e]),E=M.useMemo(()=>ia(Ob(e)),[e]),F=M.useMemo(()=>ia("ag-spanning-container",Sle(e)),[e]),N=i.type==="center"||p,z=N?r:s;oh(" AG Row Container "+e+" ",z);const B=M.useCallback(()=>{const ee=!N||r.current!=null,$=s.current!=null,W=!p||o.current!=null;return ee&&$&&W},[]),k=M.useCallback(()=>r.current==null&&s.current==null&&o.current==null,[]),V=M.useCallback(()=>{if(k()&&(C.current=t.destroyBean(C.current)),B()){const ee=Q=>{const ue=NC(u.current,a.current,x.current);ue!==u.current&&(u.current=ue,MC(Q,()=>h(ue)))},$=Q=>{const ue=NC(m.current,g.current,x.current);ue!==m.current&&(m.current=ue,MC(Q,()=>w(ue)))},W={setHorizontalScroll:Q=>{r.current&&(r.current.scrollLeft=Q)},setViewportHeight:Q=>{r.current&&(r.current.style.height=Q)},setRowCtrls:({rowCtrls:Q,useFlushSync:ue})=>{const U=!!ue&&a.current.length>0&&Q.length>0;a.current=Q,ee(U)},setSpannedRowCtrls:(Q,ue)=>{const U=!!ue&&g.current.length>0&&Q.length>0;g.current=Q,$(U)},setDomOrder:Q=>{x.current!=Q&&(x.current=Q,ee(!1))},setContainerWidth:Q=>{s.current&&(s.current.style.width=Q)},setOffsetTop:Q=>{s.current&&(s.current.style.transform=`translateY(${Q})`)}};C.current=t.createBean(new Mle(e)),C.current.setComp(W,s.current,o.current??void 0,r.current)}},[B,k]),K=M.useCallback(ee=>{s.current=ee,V()},[V]),T=M.useCallback(ee=>{o.current=ee,V()},[V]),O=M.useCallback(ee=>{r.current=ee,V()},[V]),H=()=>ze.createElement("div",{className:E,ref:K,role:"rowgroup"},d.map(ee=>ze.createElement(IO,{rowCtrl:ee,containerType:i.type,key:ee.instanceId})));if(!N)return H();const q=()=>p&&ze.createElement("div",{className:F,ref:T,role:"rowgroup"},y.map(ee=>ze.createElement(IO,{rowCtrl:ee,containerType:i.type,key:ee.instanceId})));return ze.createElement("div",{className:A,ref:O,role:"presentation"},H(),q())},Ube=M.memo(qbe),Wbe=()=>{const e=M.useContext(bs),{context:t,overlays:n}=e,[i,r]=M.useState(""),[s,o]=M.useState(0),[a,u]=M.useState(0),[d,h]=M.useState("0px"),[p,g]=M.useState("0px"),[m,y]=M.useState("100%"),[w,x]=M.useState("0px"),[C,A]=M.useState("0px"),[E,F]=M.useState("100%"),[N,z]=M.useState(""),[B,k]=M.useState(""),[V,K]=M.useState(null),[T,O]=M.useState(""),[H,q]=M.useState(null),[ee,$]=M.useState("ag-layout-normal"),W=M.useRef();W.current||(W.current=new Tv(()=>Q.current));const Q=M.useRef(null),ue=M.useRef(null),U=M.useRef(null),de=M.useRef(null),j=M.useRef(null),X=M.useRef(null),Z=M.useRef(null),re=M.useRef([]),ce=M.useRef([]);oh(" AG Grid Body ",Q),oh(" AG Pinned Top ",ue),oh(" AG Sticky Top ",U),oh(" AG Middle ",X),oh(" AG Pinned Bottom ",Z);const ye=M.useCallback(nt=>{if(Q.current=nt,!nt){re.current=t.destroyBeans(re.current),ce.current.forEach(wt=>wt()),ce.current=[];return}if(!t)return;const at=(wt,vt)=>{wt.appendChild(vt),ce.current.push(()=>wt.removeChild(vt))},yt=wt=>{const vt=t.createBean(new wt);return re.current.push(vt),vt},mt=(wt,vt,Ot)=>{at(wt,document.createComment(Ot)),at(wt,yt(vt).getGui())};mt(nt,_le," AG Fake Horizontal Scroll ");const It=n==null?void 0:n.getOverlayWrapperCompClass();It&&mt(nt,It," AG Overlay Wrapper "),j.current&&mt(j.current,Ble," AG Fake Vertical Scroll ");const Vt={setRowAnimationCssOnBodyViewport:r,setColumnCount:wt=>{Q.current&&ase(Q.current,wt)},setRowCount:wt=>{Q.current&&sse(Q.current,wt)},setTopHeight:o,setBottomHeight:u,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:y,setTopDisplay:z,setBottomDisplay:k,setColumnMovingCss:(wt,vt)=>W.current.addOrRemoveCssClass(wt,vt),updateLayoutClasses:$,setAlwaysVerticalScrollClass:K,setPinnedTopBottomOverflowY:O,setCellSelectableCss:(wt,vt)=>q(vt?wt:null),setBodyViewportWidth:wt=>{X.current&&(X.current.style.width=wt)},registerBodyViewportResizeListener:wt=>{if(X.current){const vt=ic(e,X.current,wt);ce.current.push(()=>vt())}},setStickyBottomHeight:x,setStickyBottomBottom:A,setStickyBottomWidth:F,setGridRootRole:wt=>nt.setAttribute("role",wt)},zt=t.createBean(new Ile);re.current.push(zt),zt.setComp(Vt,nt,X.current,ue.current,Z.current,U.current,de.current)},[]),me=M.useMemo(()=>ia("ag-root","ag-unselectable",ee),[ee]),Se=M.useMemo(()=>ia("ag-body-viewport",i,ee,V,H),[i,ee,V,H]),Oe=M.useMemo(()=>ia("ag-body",ee),[ee]),_e=M.useMemo(()=>ia("ag-floating-top",H),[H]),$e=M.useMemo(()=>ia("ag-sticky-top",H),[H]),Be=M.useMemo(()=>ia("ag-sticky-bottom",w==="0px"?"ag-hidden":null,H),[H,w]),it=M.useMemo(()=>ia("ag-floating-bottom",H),[H]),De=M.useMemo(()=>({height:s,minHeight:s,display:N,overflowY:T}),[s,N,T]),fe=M.useMemo(()=>({height:d,top:p,width:m}),[d,p,m]),ct=M.useMemo(()=>({height:w,bottom:C,width:E}),[w,C,E]),ot=M.useMemo(()=>({height:a,minHeight:a,display:B,overflowY:T}),[a,B,T]),Ye=nt=>ze.createElement(Ube,{name:nt,key:`${nt}-container`}),Je=({section:nt,children:at,className:yt,style:mt})=>ze.createElement("div",{ref:nt,className:yt,role:"presentation",style:mt},at.map(Ye));return ze.createElement("div",{ref:ye,className:me},ze.createElement(Lbe,null),Je({section:ue,className:_e,style:De,children:["topLeft","topCenter","topRight","topFullWidth"]}),ze.createElement("div",{className:Oe,ref:j,role:"presentation"},Je({section:X,className:Se,children:["left","center","right","fullWidth"]})),Je({section:U,className:$e,style:fe,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Je({section:de,className:Be,style:ct,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Je({section:Z,className:it,style:ot,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},$be=M.memo(Wbe),Kbe=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:u}=M.useContext(bs),d=M.useRef(null),h=M.useRef(null),p=M.useRef(),g=C=>{const A=C==null?void 0:parseInt(C,10).toString();[d,h].forEach(E=>{var F,N;A===void 0?(F=E.current)==null||F.removeAttribute("tabindex"):(N=E.current)==null||N.setAttribute("tabindex",A)})};M.useImperativeHandle(t,()=>({forceFocusOutOfContainer(C){var A;(A=p.current)==null||A.forceFocusOutOfContainer(C)}}));const m=M.useCallback(()=>{const C=d.current,A=h.current;if(!C&&!A){p.current=u.destroyBean(p.current);return}if(C&&A){const E={setTabIndex:g};p.current=u.createBean(new hB({comp:E,eTopGuard:C,eBottomGuard:A,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:F=>s.focusInnerElement(F),isEmpty:a}))}},[]),y=M.useCallback(C=>{d.current=C,m()},[m]),w=M.useCallback(C=>{h.current=C,m()},[m]),x=C=>{const A=C==="top"?cp.TAB_GUARD_TOP:cp.TAB_GUARD_BOTTOM;return ze.createElement("div",{className:`${cp.TAB_GUARD} ${A}`,role:"presentation",ref:C==="top"?y:w})};return ze.createElement(ze.Fragment,null,x("top"),n,x("bottom"))},Ybe=M.forwardRef(Kbe),Qbe=M.memo(Ybe),Xbe=({context:e})=>{const[t,n]=M.useState(""),[i,r]=M.useState(""),[s,o]=M.useState(null),[a,u]=M.useState(null),[d,h]=M.useState(!1),[p,g]=M.useState(),m=M.useRef(),y=M.useRef(null),w=M.useRef(),[x,C]=M.useState(null),A=M.useRef(()=>{}),E=M.useRef(),F=M.useRef([]),N=M.useCallback(()=>{},[]),z=M.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);oh(" AG Grid ",y);const B=M.useCallback(H=>{if(y.current=H,m.current=H?e.createBean(new Fue):e.destroyBean(m.current),!H||e.isDestroyed())return;const q=m.current;A.current=q.focusInnerElement.bind(q);const ee={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:$=>{var W,Q;if(!$&&((W=E.current)!=null&&W.isDisplayed())){E.current.forceFocusOutOfContainer($);return}(Q=w.current)==null||Q.forceFocusOutOfContainer($)},updateLayoutClasses:r,getFocusableContainers:()=>{var Q;const $=[],W=(Q=y.current)==null?void 0:Q.querySelector(".ag-root");return W&&$.push({getGui:()=>W}),F.current.forEach(ue=>{ue.isDisplayed()&&$.push(ue)}),$},setCursor:o,setUserSelect:u};q.setComp(ee,H,H),h(!0)},[]);M.useEffect(()=>{const H=m.current,q=y.current;if(!p||!z||!H||!x||!q)return;const ee=[],{watermarkSelector:$,paginationSelector:W,sideBarSelector:Q,statusBarSelector:ue,gridHeaderDropZonesSelector:U}=H.getOptionalSelectors(),de=[];if(U){const X=e.createBean(new U.component),Z=X.getGui();q.insertAdjacentElement("afterbegin",Z),de.push(Z),ee.push(X)}if(Q){const X=e.createBean(new Q.component),Z=X.getGui(),re=x.querySelector(".ag-tab-guard-bottom");re&&(re.insertAdjacentElement("beforebegin",Z),de.push(Z)),ee.push(X),F.current.push(X)}const j=X=>{const Z=e.createBean(new X),re=Z.getGui();return q.insertAdjacentElement("beforeend",re),de.push(re),ee.push(Z),Z};if(ue&&j(ue.component),W){const X=j(W.component);E.current=X,F.current.push(X)}return $&&j($.component),()=>{e.destroyBeans(ee),de.forEach(X=>{var Z;(Z=X.parentElement)==null||Z.removeChild(X)})}},[p,x,z]);const k=M.useMemo(()=>ia("ag-root-wrapper",t,i),[t,i]),V=M.useMemo(()=>ia("ag-root-wrapper-body","ag-focus-managed",i),[i]),K=M.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),T=M.useCallback(H=>{w.current=H,g(H!==null)},[]),O=M.useCallback(()=>{var H;return!((H=m.current)!=null&&H.isFocusable())},[]);return ze.createElement("div",{ref:B,className:k,style:K,role:"presentation"},ze.createElement("div",{className:V,ref:C,role:"presentation"},d&&x&&z&&ze.createElement(bs.Provider,{value:z},ze.createElement(Qbe,{ref:T,eFocusableElement:x,onTabKeyDown:N,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:O},ze.createElement($be,null)))))},Zbe=M.memo(Xbe),Jbe=class extends Ve{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},eCe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},y8=new Set(Object.keys(eCe)),b8=e=>{var x;const t=M.useRef(),n=M.useRef(null),i=M.useRef(null),r=M.useRef([]),s=M.useRef([]),o=M.useRef(e),a=M.useRef(),u=M.useRef(),d=M.useRef(!1),[h,p]=M.useState(void 0),[,g]=M.useState(0),m=M.useCallback(C=>{if(n.current=C,!C){r.current.forEach(T=>T()),r.current.length=0;return}const A=e.modules||[];i.current||(i.current=new Cbe(()=>g(T=>T+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{var T;(T=i.current)==null||T.destroy(),i.current=null}));const E=Vse(e.gridOptions,e,Object.keys(e).filter(T=>!y8.has(T))),F=()=>{if(d.current){const T=()=>{var H;return(H=a.current)!=null&&H.shouldQueueUpdates()?void 0:s.current.shift()};let O=T();for(;O;)O(),O=T()}},N=new rCe(F);a.current=N;const z=new Jbe,B={providedBeanInstances:{frameworkCompWrapper:new nCe(i.current,E.reactiveCustomComponents??_fe("reactiveCustomComponents")??!0),renderStatus:z},modules:A,frameworkOverrides:N,setThemeOnGridDiv:!0},k=T=>{p(T),T.createBean(z),r.current.push(()=>{T.destroy()}),T.getBean("ctrlsSvc").whenReady({addDestroyFunc:O=>{r.current.push(O)}},()=>{var H;if(T.isDestroyed())return;const O=t.current;O&&((H=e.setGridApi)==null||H.call(e,O))})},V=T=>{T.getBean("ctrlsSvc").whenReady({addDestroyFunc:O=>{r.current.push(O)}},()=>{s.current.forEach(O=>O()),s.current.length=0,d.current=!0})},K=new Hfe;E.gridId??(E.gridId=u.current),t.current=K.create(C,E,k,V,B),r.current.push(()=>{t.current=void 0}),t.current&&(u.current=t.current.getGridId())},[]),y=M.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=M.useCallback(C=>{var A;d.current&&!((A=a.current)!=null&&A.shouldQueueUpdates())?C():s.current.push(C)},[]);return M.useEffect(()=>{const C=tCe(o.current,e);o.current=e,w(()=>{t.current&&zse(C,t.current)})},[e]),ze.createElement("div",{style:y,className:e.className,ref:m},h&&!h.isDestroyed()?ze.createElement(Zbe,{context:h}):null,((x=i.current)==null?void 0:x.getPortals())??null)};function tCe(e,t){const n={};return Object.keys(t).forEach(i=>{if(y8.has(i))return;const r=t[i];e[i]!==r&&(n[i]=r)}),n}var nCe=class extends Xfe{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(s=>{switch(s){case"filter":return cbe;case"floatingFilterComponent":return hbe;case"dateComponent":return lbe;case"dragAndDropImageComponent":return ube;case"loadingOverlayComponent":return pbe;case"noRowsOverlayComponent":return mbe;case"statusPanel":return vbe;case"toolPanel":return ybe;case"menuItem":return gbe;case"cellRenderer":return abe;case"innerHeaderComponent":return fbe}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":vE();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new m8(e,this.parent,t,n)}},iCe=M.forwardRef((e,t)=>{const n=M.useContext(bs),{registry:i,context:r,gos:s,rowModel:o}=n,[a,u]=M.useState(()=>new da),[d,h]=M.useState(()=>new da),[p,g]=M.useState(),[m,y]=M.useState(),w=M.useRef(),x=M.useRef(null),C=M.useRef(),A=M.useMemo(()=>gae(e.api.getGridId(),(p==null?void 0:p.rowModelType)??"clientSide"),[e]),E=M.useMemo(()=>a.toString()+" ag-details-row",[a]),F=M.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&M.useImperativeHandle(t,()=>({refresh(){var B;return((B=w.current)==null?void 0:B.refresh())??!1}})),e.template&&st(230);const N=M.useCallback(B=>{var K;if(x.current=B,!B){w.current=r.destroyBean(w.current),(K=C.current)==null||K.call(C);return}const k={addOrRemoveCssClass:(T,O)=>u(H=>H.setClass(T,O)),addOrRemoveDetailGridCssClass:(T,O)=>h(H=>H.setClass(T,O)),setDetailGrid:T=>g(T),setRowData:T=>y(T),getGui:()=>x.current},V=i.createDynamicBean("detailCellRendererCtrl",!0);if(V&&(r.createBean(V),V.init(k,e),w.current=V,s.get("detailRowAutoHeight"))){const T=()=>{if(x.current==null)return;const O=x.current.clientHeight;O!=null&&O>0&&setTimeout(()=>{e.node.setRowHeight(O),(fs(s)||Vh(s))&&o.onRowHeightChanged()},0)};C.current=ic(n,B,T),T()}},[]),z=M.useCallback(B=>{var k;(k=w.current)==null||k.registerDetailWithMaster(B)},[]);return ze.createElement("div",{className:E,ref:N},p&&ze.createElement(b8,{className:F,...p,modules:A,rowData:m,setGridApi:z}))}),rCe=class extends fB{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:MO,agGroupRowRenderer:MO,agDetailCellRenderer:iCe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?ibe(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return nbe()}},yE=class extends M.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ze.createElement(b8,{...this.props,setGridApi:this.setGridApi})}},sb={exports:{}},Uc={},ob={exports:{}},Zo={},ab={exports:{}},_O;function C8(){return _O||(_O=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",r=/^(input|select|textarea|button|object|iframe)$/;function s(p,g){return g.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function o(p){var g=p.offsetWidth<=0&&p.offsetHeight<=0;if(g&&!p.innerHTML)return!0;try{var m=window.getComputedStyle(p),y=m.getPropertyValue("display");return g?y!==i&&s(p,m):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var g=p,m=p.getRootNode&&p.getRootNode();g&&g!==document.body;){if(m&&g===m&&(g=m.host.parentNode),o(g))return!1;g=g.parentNode}return!0}function u(p,g){var m=p.nodeName.toLowerCase(),y=r.test(m)&&!p.disabled||m==="a"&&p.href||g;return y&&a(p)}function d(p){var g=p.getAttribute("tabindex");g===null&&(g=void 0);var m=isNaN(g);return(m||g>=0)&&u(p,!m)}function h(p){var g=[].slice.call(p.querySelectorAll("*"),0).reduce(function(m,y){return m.concat(y.shadowRoot?h(y.shadowRoot):[y])},[]);return g.filter(d)}e.exports=t.default}(ab,ab.exports)),ab.exports}var BO;function sCe(){if(BO)return Zo;BO=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.resetState=o,Zo.log=a,Zo.handleBlur=u,Zo.handleFocus=d,Zo.markForFocusLater=h,Zo.returnFocus=p,Zo.popWithoutFocus=g,Zo.setupScopedFocus=m,Zo.teardownScopedFocus=y;var e=C8(),t=n(e);function n(w){return w&&w.__esModule?w:{default:w}}var i=[],r=null,s=!1;function o(){i=[]}function a(){}function u(){s=!0}function d(){if(s){if(s=!1,!r)return;setTimeout(function(){if(!r.contains(document.activeElement)){var w=(0,t.default)(r)[0]||r;w.focus()}},0)}}function h(){i.push(document.activeElement)}function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=null;try{i.length!==0&&(x=i.pop(),x.focus({preventScroll:w}));return}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}}function g(){i.length>0&&i.pop()}function m(w){r=w,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",d,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",d))}function y(){r=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",d)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",d))}return Zo}var lb={exports:{}},HO;function oCe(){return HO||(HO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=C8(),i=r(n);function r(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var d=(0,i.default)(a);if(!d.length){u.preventDefault();return}var h=void 0,p=u.shiftKey,g=d[0],m=d[d.length-1],y=s();if(a===y){if(!p)return;h=m}if(m===y&&!p&&(h=g),g===y&&p&&(h=m),h){u.preventDefault(),h.focus();return}var w=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=w!=null&&w[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var C=d.indexOf(y);if(C>-1&&(C+=p?-1:1),h=d[C],typeof h>"u"){u.preventDefault(),h=p?m:g,h.focus();return}u.preventDefault(),h.focus()}}e.exports=t.default}(lb,lb.exports)),lb.exports}var Ba={},J2,jO;function aCe(){if(jO)return J2;jO=1;var e=function(){};return J2=e,J2}var Ml={},ex={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var GO;function lCe(){return GO||(GO=1,function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()}(ex)),ex.exports}var VO;function bE(){if(VO)return Ml;VO=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.canUseDOM=Ml.SafeNodeList=Ml.SafeHTMLCollection=void 0;var e=lCe(),t=n(e);function n(s){return s&&s.__esModule?s:{default:s}}var i=t.default,r=i.canUseDOM?window.HTMLElement:{};return Ml.SafeHTMLCollection=i.canUseDOM?window.HTMLCollection:{},Ml.SafeNodeList=i.canUseDOM?window.NodeList:{},Ml.canUseDOM=i.canUseDOM,Ml.default=r,Ml}var zO;function w8(){if(zO)return Ba;zO=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.resetState=s,Ba.log=o,Ba.assertNodeList=a,Ba.setElement=u,Ba.validateElement=d,Ba.hide=h,Ba.show=p,Ba.documentNotReadyOrSSRTesting=g;var e=aCe(),t=i(e),n=bE();function i(m){return m&&m.__esModule?m:{default:m}}var r=null;function s(){r&&(r.removeAttribute?r.removeAttribute("aria-hidden"):r.length!=null?r.forEach(function(m){return m.removeAttribute("aria-hidden")}):document.querySelectorAll(r).forEach(function(m){return m.removeAttribute("aria-hidden")})),r=null}function o(){}function a(m,y){if(!m||!m.length)throw new Error("react-modal: No elements were found for selector "+y+".")}function u(m){var y=m;if(typeof y=="string"&&n.canUseDOM){var w=document.querySelectorAll(y);a(w,y),y=w}return r=y||r,r}function d(m){var y=m||r;return y?Array.isArray(y)||y instanceof HTMLCollection||y instanceof NodeList?y:[y]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(m){var y=!0,w=!1,x=void 0;try{for(var C=d(m)[Symbol.iterator](),A;!(y=(A=C.next()).done);y=!0){var E=A.value;E.setAttribute("aria-hidden","true")}}catch(F){w=!0,x=F}finally{try{!y&&C.return&&C.return()}finally{if(w)throw x}}}function p(m){var y=!0,w=!1,x=void 0;try{for(var C=d(m)[Symbol.iterator](),A;!(y=(A=C.next()).done);y=!0){var E=A.value;E.removeAttribute("aria-hidden")}}catch(F){w=!0,x=F}finally{try{!y&&C.return&&C.return()}finally{if(w)throw x}}}function g(){r=null}return Ba}var Jd={},qO;function uCe(){if(qO)return Jd;qO=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.resetState=i,Jd.log=r;var e={},t={};function n(d,h){d.classList.remove(h)}function i(){var d=document.getElementsByTagName("html")[0];for(var h in e)n(d,e[h]);var p=document.body;for(var g in t)n(p,t[g]);e={},t={}}function r(){}var s=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},o=function(h,p){return h[p]&&(h[p]-=1),p},a=function(h,p,g){g.forEach(function(m){s(p,m),h.add(m)})},u=function(h,p,g){g.forEach(function(m){o(p,m),p[m]===0&&h.remove(m)})};return Jd.add=function(h,p){return a(h.classList,h.nodeName.toLowerCase()=="html"?e:t,p.split(" "))},Jd.remove=function(h,p){return u(h.classList,h.nodeName.toLowerCase()=="html"?e:t,p.split(" "))},Jd}var Ff={},UO;function S8(){if(UO)return Ff;UO=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.log=i,Ff.resetState=r;function e(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function s(){var o=this;e(this,s),this.register=function(a){o.openInstances.indexOf(a)===-1&&(o.openInstances.push(a),o.emit("register"))},this.deregister=function(a){var u=o.openInstances.indexOf(a);u!==-1&&(o.openInstances.splice(u,1),o.emit("deregister"))},this.subscribe=function(a){o.subscribers.push(a)},this.emit=function(a){o.subscribers.forEach(function(u){return u(a,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function i(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(s){return console.log(s)}),console.log("end portalOpenInstances ----------")}function r(){n=new t}return Ff.default=n,Ff}var Vg={},WO;function cCe(){if(WO)return Vg;WO=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.resetState=o,Vg.log=a;var e=S8(),t=n(e);function n(h){return h&&h.__esModule?h:{default:h}}var i=void 0,r=void 0,s=[];function o(){for(var h=[i,r],p=0;p<h.length;p++){var g=h[p];g&&g.parentNode&&g.parentNode.removeChild(g)}i=r=null,s=[]}function a(){console.log("bodyTrap ----------"),console.log(s.length);for(var h=[i,r],p=0;p<h.length;p++){var g=h[p],m=g||{};console.log(m.nodeName,m.className,m.id)}console.log("edn bodyTrap ----------")}function u(){s.length!==0&&s[s.length-1].focusContent()}function d(h,p){!i&&!r&&(i=document.createElement("div"),i.setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",u),r=i.cloneNode(),r.addEventListener("focus",u)),s=p,s.length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==r&&document.body.appendChild(r)):(i.parentElement&&i.parentElement.removeChild(i),r.parentElement&&r.parentElement.removeChild(r))}return t.default.subscribe(d),Vg}var $O;function dCe(){return $O||($O=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(q){for(var ee=1;ee<arguments.length;ee++){var $=arguments[ee];for(var W in $)Object.prototype.hasOwnProperty.call($,W)&&(q[W]=$[W])}return q},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},r=function(){function q(ee,$){for(var W=0;W<$.length;W++){var Q=$[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(ee,Q.key,Q)}}return function(ee,$,W){return $&&q(ee.prototype,$),W&&q(ee,W),ee}}(),s=Pp(),o=xA(),a=N(o),u=sCe(),d=F(u),h=oCe(),p=N(h),g=w8(),m=F(g),y=uCe(),w=F(y),x=bE(),C=N(x),A=S8(),E=N(A);cCe();function F(q){if(q&&q.__esModule)return q;var ee={};if(q!=null)for(var $ in q)Object.prototype.hasOwnProperty.call(q,$)&&(ee[$]=q[$]);return ee.default=q,ee}function N(q){return q&&q.__esModule?q:{default:q}}function z(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")}function B(q,ee){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:q}function k(q,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);q.prototype=Object.create(ee&&ee.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(q,ee):q.__proto__=ee)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},K=function(ee){return ee.code==="Tab"||ee.keyCode===9},T=function(ee){return ee.code==="Escape"||ee.keyCode===27},O=0,H=function(q){k(ee,q);function ee($){z(this,ee);var W=B(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,$));return W.setOverlayRef=function(Q){W.overlay=Q,W.props.overlayRef&&W.props.overlayRef(Q)},W.setContentRef=function(Q){W.content=Q,W.props.contentRef&&W.props.contentRef(Q)},W.afterClose=function(){var Q=W.props,ue=Q.appElement,U=Q.ariaHideApp,de=Q.htmlOpenClassName,j=Q.bodyOpenClassName,X=Q.parentSelector,Z=X&&X().ownerDocument||document;j&&w.remove(Z.body,j),de&&w.remove(Z.getElementsByTagName("html")[0],de),U&&O>0&&(O-=1,O===0&&m.show(ue)),W.props.shouldFocusAfterRender&&(W.props.shouldReturnFocusAfterClose?(d.returnFocus(W.props.preventScroll),d.teardownScopedFocus()):d.popWithoutFocus()),W.props.onAfterClose&&W.props.onAfterClose(),E.default.deregister(W)},W.open=function(){W.beforeOpen(),W.state.afterOpen&&W.state.beforeClose?(clearTimeout(W.closeTimer),W.setState({beforeClose:!1})):(W.props.shouldFocusAfterRender&&(d.setupScopedFocus(W.node),d.markForFocusLater()),W.setState({isOpen:!0},function(){W.openAnimationFrame=requestAnimationFrame(function(){W.setState({afterOpen:!0}),W.props.isOpen&&W.props.onAfterOpen&&W.props.onAfterOpen({overlayEl:W.overlay,contentEl:W.content})})}))},W.close=function(){W.props.closeTimeoutMS>0?W.closeWithTimeout():W.closeWithoutTimeout()},W.focusContent=function(){return W.content&&!W.contentHasFocus()&&W.content.focus({preventScroll:!0})},W.closeWithTimeout=function(){var Q=Date.now()+W.props.closeTimeoutMS;W.setState({beforeClose:!0,closesAt:Q},function(){W.closeTimer=setTimeout(W.closeWithoutTimeout,W.state.closesAt-Date.now())})},W.closeWithoutTimeout=function(){W.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},W.afterClose)},W.handleKeyDown=function(Q){K(Q)&&(0,p.default)(W.content,Q),W.props.shouldCloseOnEsc&&T(Q)&&(Q.stopPropagation(),W.requestClose(Q))},W.handleOverlayOnClick=function(Q){W.shouldClose===null&&(W.shouldClose=!0),W.shouldClose&&W.props.shouldCloseOnOverlayClick&&(W.ownerHandlesClose()?W.requestClose(Q):W.focusContent()),W.shouldClose=null},W.handleContentOnMouseUp=function(){W.shouldClose=!1},W.handleOverlayOnMouseDown=function(Q){!W.props.shouldCloseOnOverlayClick&&Q.target==W.overlay&&Q.preventDefault()},W.handleContentOnClick=function(){W.shouldClose=!1},W.handleContentOnMouseDown=function(){W.shouldClose=!1},W.requestClose=function(Q){return W.ownerHandlesClose()&&W.props.onRequestClose(Q)},W.ownerHandlesClose=function(){return W.props.onRequestClose},W.shouldBeClosed=function(){return!W.state.isOpen&&!W.state.beforeClose},W.contentHasFocus=function(){return document.activeElement===W.content||W.content.contains(document.activeElement)},W.buildClassName=function(Q,ue){var U=(typeof ue>"u"?"undefined":i(ue))==="object"?ue:{base:V[Q],afterOpen:V[Q]+"--after-open",beforeClose:V[Q]+"--before-close"},de=U.base;return W.state.afterOpen&&(de=de+" "+U.afterOpen),W.state.beforeClose&&(de=de+" "+U.beforeClose),typeof ue=="string"&&ue?de+" "+ue:de},W.attributesFromObject=function(Q,ue){return Object.keys(ue).reduce(function(U,de){return U[Q+"-"+de]=ue[de],U},{})},W.state={afterOpen:!1,beforeClose:!1},W.shouldClose=null,W.moveFromContentToOverlay=null,W}return r(ee,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(W,Q){this.props.isOpen&&!W.isOpen?this.open():!this.props.isOpen&&W.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Q.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var W=this.props,Q=W.appElement,ue=W.ariaHideApp,U=W.htmlOpenClassName,de=W.bodyOpenClassName,j=W.parentSelector,X=j&&j().ownerDocument||document;de&&w.add(X.body,de),U&&w.add(X.getElementsByTagName("html")[0],U),ue&&(O+=1,m.hide(Q)),E.default.register(this)}},{key:"render",value:function(){var W=this.props,Q=W.id,ue=W.className,U=W.overlayClassName,de=W.defaultStyles,j=W.children,X=ue?{}:de.content,Z=U?{}:de.overlay;if(this.shouldBeClosed())return null;var re={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},Z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ce=n({id:Q,ref:this.setContentRef,style:n({},X,this.props.style.content),className:this.buildClassName("content",ue),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ye=this.props.contentElement(ce,j);return this.props.overlayElement(re,ye)}}]),ee}(s.Component);H.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},H.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(C.default),a.default.instanceOf(x.SafeHTMLCollection),a.default.instanceOf(x.SafeNodeList),a.default.arrayOf(a.default.instanceOf(C.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=H,e.exports=t.default}(ob,ob.exports)),ob.exports}function x8(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function R8(e){function t(n){var i=this.constructor.getDerivedStateFromProps(e,n);return i??null}this.setState(t.bind(this))}function A8(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}x8.__suppressDeprecationWarning=!0;R8.__suppressDeprecationWarning=!0;A8.__suppressDeprecationWarning=!0;function hCe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,i=null,r=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?r="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=x8,t.componentWillReceiveProps=R8),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=A8;var a=t.componentDidUpdate;t.componentDidUpdate=function(d,h,p){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,d,h,g)}}return e}const fCe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:hCe},Symbol.toStringTag,{value:"Module"})),pCe=H7(fCe);var KO;function gCe(){if(KO)return Uc;KO=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.bodyOpenClassName=Uc.portalClassName=void 0;var e=Object.assign||function(T){for(var O=1;O<arguments.length;O++){var H=arguments[O];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(T[q]=H[q])}return T},t=function(){function T(O,H){for(var q=0;q<H.length;q++){var ee=H[q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(O,ee.key,ee)}}return function(O,H,q){return H&&T(O.prototype,H),q&&T(O,q),O}}(),n=Pp(),i=x(n),r=Z5(),s=x(r),o=xA(),a=x(o),u=dCe(),d=x(u),h=w8(),p=w(h),g=bE(),m=x(g),y=pCe;function w(T){if(T&&T.__esModule)return T;var O={};if(T!=null)for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&(O[H]=T[H]);return O.default=T,O}function x(T){return T&&T.__esModule?T:{default:T}}function C(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function A(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function E(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var F=Uc.portalClassName="ReactModalPortal",N=Uc.bodyOpenClassName="ReactModal__Body--open",z=g.canUseDOM&&s.default.createPortal!==void 0,B=function(O){return document.createElement(O)},k=function(){return z?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function V(T){return T()}var K=function(T){E(O,T);function O(){var H,q,ee,$;C(this,O);for(var W=arguments.length,Q=Array(W),ue=0;ue<W;ue++)Q[ue]=arguments[ue];return $=(q=(ee=A(this,(H=O.__proto__||Object.getPrototypeOf(O)).call.apply(H,[this].concat(Q))),ee),ee.removePortal=function(){!z&&s.default.unmountComponentAtNode(ee.node);var U=V(ee.props.parentSelector);U&&U.contains(ee.node)?U.removeChild(ee.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ee.portalRef=function(U){ee.portal=U},ee.renderPortal=function(U){var de=k(),j=de(ee,i.default.createElement(d.default,e({defaultStyles:O.defaultStyles},U)),ee.node);ee.portalRef(j)},q),A(ee,$)}return t(O,[{key:"componentDidMount",value:function(){if(g.canUseDOM){z||(this.node=B("div")),this.node.className=this.props.portalClassName;var q=V(this.props.parentSelector);q.appendChild(this.node),!z&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(q){var ee=V(q.parentSelector),$=V(this.props.parentSelector);return{prevParent:ee,nextParent:$}}},{key:"componentDidUpdate",value:function(q,ee,$){if(g.canUseDOM){var W=this.props,Q=W.isOpen,ue=W.portalClassName;q.portalClassName!==ue&&(this.node.className=ue);var U=$.prevParent,de=$.nextParent;de!==U&&(U.removeChild(this.node),de.appendChild(this.node)),!(!q.isOpen&&!Q)&&!z&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!g.canUseDOM||!this.node||!this.portal)){var q=this.portal.state,ee=Date.now(),$=q.isOpen&&this.props.closeTimeoutMS&&(q.closesAt||ee+this.props.closeTimeoutMS);$?(q.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,$-ee)):this.removePortal()}}},{key:"render",value:function(){if(!g.canUseDOM||!z)return null;!this.node&&z&&(this.node=B("div"));var q=k();return q(i.default.createElement(d.default,e({ref:this.portalRef,defaultStyles:O.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(q){p.setElement(q)}}]),O}(n.Component);return K.propTypes={isOpen:a.default.bool.isRequired,style:a.default.shape({content:a.default.object,overlay:a.default.object}),portalClassName:a.default.string,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,className:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),overlayClassName:a.default.oneOfType([a.default.string,a.default.shape({base:a.default.string.isRequired,afterOpen:a.default.string.isRequired,beforeClose:a.default.string.isRequired})]),appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(g.SafeHTMLCollection),a.default.instanceOf(g.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,ariaHideApp:a.default.bool,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,parentSelector:a.default.func,aria:a.default.object,data:a.default.object,role:a.default.string,contentLabel:a.default.string,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func},K.defaultProps={isOpen:!1,portalClassName:F,bodyOpenClassName:N,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(O,H){return i.default.createElement("div",O,H)},contentElement:function(O,H){return i.default.createElement("div",O,H)}},K.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,y.polyfill)(K),Uc.default=K,Uc}var YO;function mCe(){return YO||(YO=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=gCe(),i=r(n);function r(s){return s&&s.__esModule?s:{default:s}}t.default=i.default,e.exports=t.default}(sb,sb.exports)),sb.exports}var vCe=mCe();const E8=fd(vCe);E8.setAppElement("#root");const T8=({isOpen:e,onClose:t,category:n})=>I.jsxs(E8,{isOpen:e,onRequestClose:t,className:"bg-white p-5 rounded-lg shadow-lg w-[70%] relative",overlayClassName:"fixed inset-0 bg-gray-100 bg-opacity-50 flex items-center justify-center",children:[I.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-red-500 text-xl",children:""}),I.jsxs("h2",{className:"text-xl font-bold mb-4 text-center",children:["Products in ",n==null?void 0:n.name]}),I.jsx("div",{className:"max-h-80 overflow-y-auto",children:I.jsx("ul",{children:n==null?void 0:n.product.map(i=>I.jsxs("li",{className:"border border-amber-100 rounded-lg p-4 shadow-md flex items-center space-x-4",children:[I.jsx("img",{src:i.image,alt:i.name,className:"w-16 h-16 object-cover rounded-md"}),I.jsxs("div",{className:"flex-1",children:[I.jsx("h3",{className:"text-lg font-semibold",children:i.name}),I.jsx("div",{className:"flex items-center space-x-2",children:i.discountPrice?I.jsxs(I.Fragment,{children:[I.jsxs("span",{className:"text-red-500 font-bold",children:["$",i.discountedPrice]}),I.jsxs("span",{className:"text-gray-500 line-through",children:["$",i.price]})]}):I.jsxs("span",{className:"text-gray-900 font-bold",children:["$",i.price||"N/A"]})})]})]},i._id))})})]});T8.propTypes={isOpen:Yt.bool.isRequired,onClose:Yt.func.isRequired,category:Yt.shape({name:Yt.string,product:Yt.arrayOf(Yt.shape({_id:Yt.string.isRequired,name:Yt.string.isRequired,priceByVariant:Yt.shape({price:Yt.number})}))})};function yCe(){const{data:e,isLoading:t,isError:n}=cv(),[i,r]=M.useState(null),s=M.useCallback(a=>{r(a)},[]),o=[{field:"name",headerName:"Category Name",sortable:!0,filter:!0},{headerName:"Actions",cellRenderer:a=>I.jsx("button",{onClick:()=>s(a.data),className:"bg-blue-500 text-white px-3 py-1 rounded",children:"View Products"})}];return I.jsxs("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:[t&&I.jsx(Xl,{}),n&&I.jsx("p",{children:"Error fetching categories"}),e&&I.jsx(yE,{rowData:e,columnDefs:o,pagination:!0,paginationPageSize:10}),I.jsx(T8,{isOpen:!!i,onClose:()=>r(null),category:i})]})}let bCe={data:""},CCe=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||bCe,wCe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SCe=/\/\*[^]*?\*\/|  +/g,QO=/\n+/g,Qc=(e,t)=>{let n="",i="",r="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":i+=s[1]=="f"?Qc(o,s):s+"{"+Qc(o,s[1]=="k"?"":t)+"}":typeof o=="object"?i+=Qc(o,t?t.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Qc.p?Qc.p(s,o):s+":"+o+";")}return n+(t&&r?t+"{"+r+"}":r)+i},Du={},P8=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+P8(e[n]);return t}return e},xCe=(e,t,n,i,r)=>{let s=P8(e),o=Du[s]||(Du[s]=(u=>{let d=0,h=11;for(;d<u.length;)h=101*h+u.charCodeAt(d++)>>>0;return"go"+h})(s));if(!Du[o]){let u=s!==e?e:(d=>{let h,p,g=[{}];for(;h=wCe.exec(d.replace(SCe,""));)h[4]?g.shift():h[3]?(p=h[3].replace(QO," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(QO," ").trim();return g[0]})(e);Du[o]=Qc(r?{["@keyframes "+o]:u}:u,n?"":"."+o)}let a=n&&Du.g?Du.g:null;return n&&(Du.g=Du[o]),((u,d,h,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=h?u+d.data:d.data+u)})(Du[o],t,i,a),o},RCe=(e,t,n)=>e.reduce((i,r,s)=>{let o=t[s];if(o&&o.call){let a=o(n),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Qc(a,""):a===!1?"":a}return i+r+(o??"")},"");function w0(e){let t=this||{},n=e.call?e(t.p):e;return xCe(n.unshift?n.raw?RCe(n,[].slice.call(arguments,1),t.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):n,CCe(t.target),t.g,t.o,t.k)}let D8,Q5,X5;w0.bind({g:1});let Qu=w0.bind({k:1});function ACe(e,t,n,i){Qc.p=t,D8=e,Q5=n,X5=i}function Cd(e,t){let n=this||{};return function(){let i=arguments;function r(s,o){let a=Object.assign({},s),u=a.className||r.className;n.p=Object.assign({theme:Q5&&Q5()},a),n.o=/ *go\d+/.test(u),a.className=w0.apply(n,i)+(u?" "+u:"");let d=e;return e[0]&&(d=a.as||e,delete a.as),X5&&d[0]&&X5(a),D8(d,a)}return r}}var ECe=e=>typeof e=="function",OC=(e,t)=>ECe(e)?e(t):e,TCe=(()=>{let e=0;return()=>(++e).toString()})(),F8=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),PCe=20,L8=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,PCe)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return L8(e,{type:e.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},Bb=[],ch={toasts:[],pausedAt:void 0},Wh=e=>{ch=L8(ch,e),Bb.forEach(t=>{t(ch)})},DCe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FCe=(e={})=>{let[t,n]=M.useState(ch),i=M.useRef(ch);M.useEffect(()=>(i.current!==ch&&n(ch),Bb.push(n),()=>{let s=Bb.indexOf(n);s>-1&&Bb.splice(s,1)}),[]);let r=t.toasts.map(s=>{var o,a,u;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((o=e[s.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((a=e[s.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||DCe[s.type],style:{...e.style,...(u=e[s.type])==null?void 0:u.style,...s.style}}});return{...t,toasts:r}},LCe=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TCe()}),Lv=e=>(t,n)=>{let i=LCe(t,e,n);return Wh({type:2,toast:i}),i.id},Is=(e,t)=>Lv("blank")(e,t);Is.error=Lv("error");Is.success=Lv("success");Is.loading=Lv("loading");Is.custom=Lv("custom");Is.dismiss=e=>{Wh({type:3,toastId:e})};Is.remove=e=>Wh({type:4,toastId:e});Is.promise=(e,t,n)=>{let i=Is.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let s=t.success?OC(t.success,r):void 0;return s?Is.success(s,{id:i,...n,...n==null?void 0:n.success}):Is.dismiss(i),r}).catch(r=>{let s=t.error?OC(t.error,r):void 0;s?Is.error(s,{id:i,...n,...n==null?void 0:n.error}):Is.dismiss(i)}),e};var MCe=(e,t)=>{Wh({type:1,toast:{id:e,height:t}})},NCe=()=>{Wh({type:5,time:Date.now()})},Sm=new Map,OCe=1e3,kCe=(e,t=OCe)=>{if(Sm.has(e))return;let n=setTimeout(()=>{Sm.delete(e),Wh({type:4,toastId:e})},t);Sm.set(e,n)},ICe=e=>{let{toasts:t,pausedAt:n}=FCe(e);M.useEffect(()=>{if(n)return;let s=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&Is.dismiss(a.id);return}return setTimeout(()=>Is.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,n]);let i=M.useCallback(()=>{n&&Wh({type:6,time:Date.now()})},[n]),r=M.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:d}=o||{},h=t.filter(m=>(m.position||d)===(s.position||d)&&m.height),p=h.findIndex(m=>m.id===s.id),g=h.filter((m,y)=>y<p&&m.visible).length;return h.filter(m=>m.visible).slice(...a?[g+1]:[0,g]).reduce((m,y)=>m+(y.height||0)+u,0)},[t]);return M.useEffect(()=>{t.forEach(s=>{if(s.dismissed)kCe(s.id,s.removeDelay);else{let o=Sm.get(s.id);o&&(clearTimeout(o),Sm.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:MCe,startPause:NCe,endPause:i,calculateOffset:r}}},_Ce=Qu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BCe=Qu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HCe=Qu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jCe=Cd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_Ce} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BCe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${HCe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GCe=Qu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VCe=Cd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${GCe} 1s linear infinite;
`,zCe=Qu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qCe=Qu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,UCe=Cd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zCe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qCe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WCe=Cd("div")`
  position: absolute;
`,$Ce=Cd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KCe=Qu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YCe=Cd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KCe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,QCe=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?M.createElement(YCe,null,t):t:n==="blank"?null:M.createElement($Ce,null,M.createElement(VCe,{...i}),n!=="loading"&&M.createElement(WCe,null,n==="error"?M.createElement(jCe,{...i}):M.createElement(UCe,{...i})))},XCe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ZCe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,JCe="0%{opacity:0;} 100%{opacity:1;}",e0e="0%{opacity:1;} 100%{opacity:0;}",t0e=Cd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,n0e=Cd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,i0e=(e,t)=>{let n=e.includes("top")?1:-1,[i,r]=F8()?[JCe,e0e]:[XCe(n),ZCe(n)];return{animation:t?`${Qu(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qu(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},r0e=M.memo(({toast:e,position:t,style:n,children:i})=>{let r=e.height?i0e(e.position||t||"top-center",e.visible):{opacity:0},s=M.createElement(QCe,{toast:e}),o=M.createElement(n0e,{...e.ariaProps},OC(e.message,e));return M.createElement(t0e,{className:e.className,style:{...r,...n,...e.style}},typeof i=="function"?i({icon:s,message:o}):M.createElement(M.Fragment,null,s,o))});ACe(M.createElement);var s0e=({id:e,className:t,style:n,onHeightUpdate:i,children:r})=>{let s=M.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;i(e,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return M.createElement("div",{ref:s,className:t,style:n},r)},o0e=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:F8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...r}},a0e=w0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ub=16,l0e=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:r,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:u}=ICe(n);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ub,left:ub,right:ub,bottom:ub,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(d=>{let h=d.position||t,p=u.calculateOffset(d,{reverseOrder:e,gutter:i,defaultPosition:t}),g=o0e(h,p);return M.createElement(s0e,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?a0e:"",style:g},d.type==="custom"?OC(d.message,d):r?r(d):M.createElement(r0e,{toast:d,position:h}))}))},u0e=Is;vae.registerModules([ebe]);function M8(e){const t=e.value;return t?I.jsx("img",{src:t,alt:"Product",className:"max-w-12 max-h-12"}):null}M8.propTypes={value:Yt.string};N8.propTypes={context:Yt.shape({handleEdit:Yt.func.isRequired,handleDelete:Yt.func.isRequired}).isRequired,data:Yt.object.isRequired};function N8(e){return I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-700",onClick:()=>e.context.handleEdit(e.data),children:"Edit"}),I.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-700",onClick:()=>e.context.handleDelete(e.data._id),children:"Delete"})]})}function c0e(){const e=Zu(),[t,n]=M.useState(1),[i,r]=M.useState(30),[s,o]=M.useState(""),[a,u]=M.useState("asc"),{data:d,isLoading:h}=vG({limit:i,page:t,search:s}),[p]=wG(),g=w=>{e(`/dashboard/edit-product/${w._id}`)},m=async w=>{window.confirm("Are you sure you want to delete this product?")&&(await p(w).unwrap(),u0e.success("Product deleted successfully!"))},y=[{field:"name",headerName:"Product Name",sortable:!0,filter:!0,floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},filterParams:{buttons:["reset"]}},{field:"price",headerName:"Price",sortable:!0,filter:!0,floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},filterParams:{buttons:["reset"]}},{field:"category.name",headerName:"Category",sortable:!0,filter:!0,floatingFilter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},filterParams:{buttons:["reset"]}},{field:"stock"},{headerName:"Image",valueGetter:w=>{var x;return((x=w.data.image)==null?void 0:x[0])||""},cellRenderer:M8},{headerName:"Actions",cellRenderer:N8}];return I.jsxs("div",{className:"w-full h-screen p-2 flex flex-col items-center bg-gray-100",children:[I.jsx(l0e,{position:"top-right",reverseOrder:!1}),I.jsxs("div",{className:"flex gap-4 mb-4 w-full max-w-4xl",children:[I.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:w=>o(w.target.value),className:"border p-2 rounded shadow-sm w-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.jsxs("select",{value:a,onChange:w=>u(w.target.value),className:"border p-2 rounded",children:[I.jsx("option",{value:"asc",children:"Ascending"}),I.jsx("option",{value:"desc",children:"Descending"})]}),I.jsxs("select",{value:i,onChange:w=>r(Number(w.target.value)),className:"border p-2 rounded",children:[I.jsx("option",{value:10,children:"10"}),I.jsx("option",{value:30,children:"30"}),I.jsx("option",{value:50,children:"50"}),I.jsx("option",{value:100,children:"100"}),I.jsx("option",{value:(d==null?void 0:d.totalProducts)||0,children:"All"})]})]}),h?I.jsx(Xl,{}):I.jsx("div",{className:"ag-theme-alpine w-full max-w-full flex-1",children:I.jsx(yE,{rowData:(d==null?void 0:d.products)||[],columnDefs:y,pagination:!0,context:{handleEdit:g,handleDelete:m}})}),I.jsxs("div",{className:"flex gap-4 mt-4",children:[I.jsx("button",{disabled:t<=1,onClick:()=>n(t-1),className:"bg-gray-300 px-4 py-2 rounded disabled:opacity-50 hover:bg-gray-400",children:"Previous"}),I.jsxs("span",{className:"text-lg font-semibold",children:["Page ",t," of ",(d==null?void 0:d.totalPages)||1]}),I.jsx("button",{disabled:t>=(d==null?void 0:d.totalPages),onClick:()=>n(t+1),className:"bg-gray-300 px-4 py-2 rounded disabled:opacity-50 hover:bg-gray-400",children:"Next"})]})]})}function d0e(){const{data:e,isLoading:t,isError:n}=hR(),i=[{field:"name",headerName:"Sub Category Name",sortable:!0,filter:!0}];return I.jsxs("div",{className:"ag-theme-alpine",style:{height:500,width:"100%"},children:[t&&I.jsx(Xl,{}),n&&I.jsx("p",{children:"Error fetching categories"}),e&&I.jsx(yE,{rowData:e,columnDefs:i,pagination:!0,paginationPageSize:10})]})}function h0e(){const{data:e,isLoading:t,refetch:n}=DG(),[i]=FG(),[r]=LG(),[s]=MG(),[o,a]=M.useState({id:null,title:"",description:"",image:"",buttonText:"",buttonLink:"",status:"active"}),u=y=>{a({...o,[y.target.name]:y.target.value})},d=async y=>{y.preventDefault(),o.id?await r(o):await i(o),n(),g()},h=y=>{a({id:y._id,title:y.title,description:y.description,image:y.image,buttonText:y.buttonText,buttonLink:y.buttonLink,status:y.status})},p=async y=>{window.confirm("Are you sure you want to delete this slider?")&&(await s(y),n())},g=()=>{a({id:null,title:"",description:"",image:"",buttonText:"",buttonLink:"",status:"active"})},m=async(y,w)=>{await r({id:y,status:w}),n()};return I.jsxs("div",{className:"container mx-auto p-6",children:[I.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Slider Manager"}),o.id&&I.jsx("button",{type:"button",onClick:g,className:"bg-green-500 text-white px-4 py-2 rounded mb-4",children:"Add New Slider"}),I.jsxs("form",{onSubmit:d,className:"bg-white p-6 rounded shadow-md space-y-4",children:[I.jsx("input",{type:"text",name:"title",placeholder:"Title",value:o.title,onChange:u,className:"w-full p-2 border rounded"}),I.jsx("input",{type:"text",name:"description",placeholder:"Description",value:o.description,onChange:u,className:"w-full p-2 border rounded"}),I.jsx("input",{type:"text",name:"image",placeholder:"Image URL",value:o.image,onChange:u,className:"w-full p-2 border rounded"}),I.jsx("input",{type:"text",name:"buttonText",placeholder:"Button Text",value:o.buttonText,onChange:u,className:"w-full p-2 border rounded"}),I.jsx("input",{type:"text",name:"buttonLink",placeholder:"Button Link",value:o.buttonLink,onChange:u,className:"w-full p-2 border rounded"}),I.jsxs("select",{name:"status",value:o.status,onChange:u,className:"w-full p-2 border rounded",children:[I.jsx("option",{value:"active",children:"Active"}),I.jsx("option",{value:"inactive",children:"Inactive"})]}),I.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:o.id?"Update Slider":"Add Slider"})]}),t?I.jsx("p",{children:"Loading sliders..."}):I.jsx("div",{className:"mt-6 space-y-4",children:e==null?void 0:e.map(y=>I.jsxs("div",{className:"bg-gray-100 p-4 rounded shadow-md flex justify-between items-center",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-semibold",children:y.title}),I.jsx("p",{children:y.description}),I.jsx("img",{src:y.image,alt:y.title,className:"w-24 h-24 object-cover mt-2 rounded"}),I.jsx("a",{href:y.buttonLink,className:"text-blue-500 underline",children:y.buttonText}),I.jsxs("div",{className:"mt-2",children:[I.jsx("label",{className:"font-bold",children:"Status: "}),I.jsxs("select",{value:y.status,onChange:w=>m(y._id,w.target.value),className:`p-1 border rounded ${y.status==="active"?"bg-green-200":"bg-red-200"}`,children:[I.jsx("option",{value:"active",children:"Active"}),I.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx("button",{onClick:()=>h(y),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"Edit"}),I.jsx("button",{onClick:()=>p(y._id),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Delete"})]})]},y._id))})]})}const CE=({userDetails:e})=>{var o,a,u,d,h,p,g,m,y,w;const t=(o=e.orderhistory)==null?void 0:o.reduce((x,C)=>x+C.totalPrice,0),n=(a=e.orderhistory)==null?void 0:a.flatMap(x=>x.products.map(C=>({productId:C.productId,quantity:C.quantity}))),i=[["Order Status","Count"],["Pending",((u=e.orderhistory)==null?void 0:u.filter(x=>x.status==="pending").length)||0],["Delivered",((d=e.orderhistory)==null?void 0:d.filter(x=>x.status==="delivered").length)||0],["Cancelled",((h=e.orderhistory)==null?void 0:h.filter(x=>x.status==="cancelled").length)||0],["Returned",((p=e.orderhistory)==null?void 0:p.filter(x=>x.status==="returned").length)||0],["Refunded",((g=e.orderhistory)==null?void 0:g.filter(x=>x.status==="refunded").length)||0],["Failed",((m=e.orderhistory)==null?void 0:m.filter(x=>x.status==="failed").length)||0],["In Progress",((y=e.orderhistory)==null?void 0:y.filter(x=>x.status==="in progress").length)||0],["Shipped",((w=e.orderhistory)==null?void 0:w.filter(x=>x.status==="shipped").length)||0]],r=[["Month","Sales ($)"],["Jan",t],["Feb",t],["Mar",t],["Apr",t],["May",t],["Jun",t],["Jul",t],["Aug",t],["Sep",t],["Oct",t],["Nov",t],["Dec",t]],s=[["Product ID","Quantity"],...(n||[]).map(x=>[x.productId,x.quantity])];return I.jsxs("div",{className:"space-y-6",children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"User Data Analysis"}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Order Status"}),I.jsx(sm,{chartType:"PieChart",data:i,width:"100%",height:"400px"})]}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Total Sales"}),I.jsx(sm,{chartType:"BarChart",data:r,width:"100%",height:"400px"})]}),I.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Product Quantities"}),I.jsx(sm,{chartType:"BarChart",data:s,width:"100%",height:"400px"})]})]})};CE.propTypes={userDetails:Yt.shape({orderhistory:Yt.arrayOf(Yt.shape({amount:Yt.number,status:Yt.string,products:Yt.arrayOf(Yt.shape({productId:Yt.string,quantity:Yt.number}))}))}).isRequired};const f0e=()=>{var o,a,u,d;const{data:e,isLoading:t,error:n}=AG(),[i,r]=M.useState(null),s=e==null?void 0:e.find(h=>h._id===i);return t?I.jsx(Xl,{}):n?I.jsx("p",{className:"text-center text-red-500",children:"Error loading users"}):I.jsxs(ar.div,{className:"container mx-auto p-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[I.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-700",children:"Users"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[I.jsxs(ar.div,{className:"bg-white shadow-lg rounded-lg p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"User List"}),I.jsx("ul",{children:e==null?void 0:e.map(h=>I.jsx(ar.li,{className:"p-3 border-b hover:bg-gray-100 cursor-pointer transition rounded-md",onClick:()=>r(h._id),whileHover:{scale:1.05},whileTap:{scale:.95},children:h.username},h._id))})]}),s&&I.jsxs(ar.div,{className:"bg-white shadow-lg rounded-lg p-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[I.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"User Details"}),I.jsxs("p",{className:"text-gray-600",children:[I.jsx("strong",{children:"Name:"})," ",s.username]}),I.jsxs("p",{className:"text-gray-600",children:[I.jsx("strong",{children:"Email:"})," ",s.email]}),I.jsxs("p",{className:"text-gray-600",children:[I.jsx("strong",{children:"Address:"})," ",((o=s.address)==null?void 0:o.length)>0?`${(a=s.address[0])==null?void 0:a.city}, ${(u=s.address[0])==null?void 0:u.state} ${(d=s.address[0])==null?void 0:d.zipCode}`:"No address available"]}),I.jsx(Qi,{to:`/dashboard/users/${s._id}`,className:"text-blue-500 hover:text-blue-700 mt-3 block",children:"View more details"}),I.jsx(CE,{userDetails:s})]})]})]})},p0e=()=>{var m,y,w;const{userId:e}=vR(),{data:t,isLoading:n,error:i,refetch:r}=EG(e),[s]=fR(),[o,a]=M.useState(null),[u,d]=M.useState("");if(n)return I.jsx(Xl,{});if(i)return I.jsx("p",{className:"text-center text-red-500",children:"Error loading user details"});const h=((m=t.orderhistory)==null?void 0:m.length)||0,p=(y=t.orderhistory)==null?void 0:y.reduce((x,C)=>x+C.totalPrice,0),g=async x=>{if(u)try{await s({id:x,status:u}).unwrap(),a(null),d(""),r()}catch(C){console.error("Failed to update order status",C)}};return I.jsxs(ar.div,{className:"container mx-auto p-6 max-w-5xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[I.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-800",children:"User Details"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[I.jsxs(ar.div,{className:"bg-white shadow-lg rounded-lg p-6 border border-gray-200",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[I.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:t.username}),I.jsx("p",{className:"text-gray-500",children:t.email}),I.jsxs("p",{className:"font-medium text-lg mt-4 text-gray-800",children:["Total Orders: ",h]}),I.jsxs("p",{className:"font-medium text-lg text-gray-800",children:["Total Amount: $",p.toFixed(2)]}),t.mobileNumber&&I.jsxs("div",{className:"mt-4",children:[I.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Mobile"}),I.jsx("p",{className:"text-gray-600",children:t.mobileNumber})]}),t.address&&t.address.length>0&&I.jsxs("div",{className:"mt-4",children:[I.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Address"}),I.jsx("ul",{className:"list-disc list-inside space-y-2 mt-2",children:t.address.map((x,C)=>I.jsxs("li",{className:"text-gray-600",children:[x.addressLine1,", ",x.addressLine2,","," ",x.state,", ",x.zipCode,", ",x.city]},C))})]})]}),I.jsxs(ar.div,{className:"bg-white shadow-lg rounded-lg p-6 border border-gray-200",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[I.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Order History"}),((w=t.orderhistory)==null?void 0:w.length)>0?I.jsx("div",{className:"space-y-4",children:t.orderhistory.map(x=>I.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200",children:[I.jsxs("p",{className:"font-medium text-gray-800",children:[I.jsx("strong",{children:"Order ID:"})," ",x._id]}),I.jsxs("p",{className:"text-gray-600",children:[I.jsx("strong",{children:"Status:"})," ",x.status]}),I.jsxs("p",{className:"text-gray-600",children:[I.jsx("strong",{children:"Total Amount:"})," ",Xs(),x.totalPrice]}),I.jsx("p",{className:"mt-2 font-semibold text-gray-800",children:"Products:"}),I.jsx("ul",{className:"ml-4 space-y-2",children:x.products.map(C=>I.jsxs("li",{className:"flex justify-between bg-white p-2 rounded-lg shadow-md border border-gray-200",children:[I.jsx("span",{className:"font-medium text-gray-800",children:C.productId.name}),I.jsxs("span",{className:"text-gray-600",children:["Qty: ",C.quantity]}),I.jsxs("span",{className:"text-gray-600",children:[Xs(),C.productId.price]})]},C._id))}),o===x._id?I.jsxs("div",{className:"mt-4 flex items-center",children:[I.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"p-2 border rounded w-full",children:[I.jsx("option",{value:"",children:"Select Status"}),["pending","shipped","delivered","cancelled","returned","refunded","failed","completed","processing"].map(C=>I.jsx("option",{value:C,children:C},C))]}),I.jsx("button",{onClick:()=>g(x._id),className:"ml-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all",children:"Update"})]}):I.jsx("button",{onClick:()=>a(x._id),className:"text-blue-500 hover:underline",children:"Change Status"}),I.jsx("button",{className:"text-blue-500 hover:underline ml-4",onClick:()=>w_({name:t.username,email:t.email,order:x}),children:"Download Invoice"})]},x._id))}):I.jsx("p",{className:"text-gray-500",children:"No orders found."})]})]}),I.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.2},children:I.jsx(CE,{userDetails:t})})]})},O8=({element:e,...t})=>{const n=sv(),i=Zu(),[r,s]=M.useState(!0);M.useEffect(()=>{const a=localStorage.getItem("token");a?n(oR({user:{name:"Test User"},token:a})):i("/login"),s(!1)},[n,i]);const{isAuthenticated:o}=ak(a=>a.auth);return r?I.jsx("p",{children:"Loading..."}):o?I.jsx(e,{...t}):I.jsx(RV,{to:"/login"})};O8.propTypes={element:Yt.elementType.isRequired};function g0e(){return I.jsx("div",{children:"PosPage"})}function m0e(){return I.jsx(XV,{children:I.jsxs(TV,{children:[I.jsx(ji,{path:"/",element:I.jsx(az,{})}),I.jsx(ji,{path:"/login",element:I.jsx(mQ,{})}),I.jsx(ji,{path:"/register",element:I.jsx(vQ,{})}),I.jsxs(ji,{path:"/dashboard/*",element:I.jsx(O8,{element:$te}),children:[I.jsx(ji,{path:"show-product",element:I.jsx(c0e,{})}),I.jsx(ji,{path:"add-product",element:I.jsx(pQ,{})}),I.jsx(ji,{path:"edit-product/:id",element:I.jsx(Kte,{})}),I.jsx(ji,{path:"show-category",element:I.jsx(yCe,{})}),I.jsx(ji,{path:"add-category",element:I.jsx(uz,{})}),I.jsx(ji,{path:"add-subcategory",element:I.jsx(gQ,{})}),I.jsx(ji,{path:"show-subcategory",element:I.jsx(d0e,{})}),I.jsx(ji,{path:"users",element:I.jsx(f0e,{})}),I.jsx(ji,{path:"users/:userId",element:I.jsx(p0e,{})}),I.jsx(ji,{path:"orders",element:I.jsx(Qre,{})}),I.jsx(ji,{path:"orders/:id",element:I.jsx(Mie,{})}),I.jsx(ji,{path:"slider",element:I.jsx(h0e,{})}),I.jsx(ji,{path:"logout",element:I.jsx(lz,{})}),I.jsx(ji,{path:"profit-loss",element:I.jsx(Yre,{})}),I.jsx(ji,{path:"*",element:I.jsx(oN,{})}),I.jsx(ji,{path:"pos",element:I.jsx(g0e,{})})]}),I.jsx(ji,{path:"*",element:I.jsx(oN,{})})]})})}const v0e=document.getElementById("root");pH.createRoot(v0e).render(I.jsxs(PH,{store:NG,children:[I.jsx(Z7,{}),I.jsx(aH,{}),I.jsx(m0e,{})]}));export{Gn as _,la as c,fd as g};
